import{w as Mn,n as i,q as Ya,t as Ar,x as Fr,y as Za,z as Ja,A as Qa,B as el,C as tl,D as sr,E as uo,F as ve,G as fo,H as po,I as nl,J as rl,K as ol,L as xn,M as cr,N as ia,O as Hr,P as kr,Q as Ne,R as sa,S as zt,T as al,U as ll,V as il,W as zr,X as sl,Y as ca,Z as da,_ as cl,$ as dl,a0 as ul,a1 as Ut,a2 as ne,a3 as on,a4 as Ge,a5 as ua,a6 as _t,a7 as fl,a8 as pl,a9 as ml,aa as or,ab as mo,ac as Je,ad as an,ae as Fn,af as vl,ag as vo,ah as Xe,ai as fa,aj as Ur,ak as j,al as jr,am as gl,an as go,ao as hl,ap as Wr,aq as ho,ar as yo,as as yl,at as ar,au as pa,av as Ve,aw as lr,ax as bl,ay as ma,az as jt,aA as xl,aB as Cl,aC as Sl,aD as wl,aE as Ue,aF as nn,aG as El,aH as kl,aI as $l,aJ as Nl,aK as Rl,aL as Pl,aM as Il,aN as Ol,aO as Dl,aP as Kl,aQ as va,aR as bo,aS as $r,aT as Tl,aU as Ll,aV as Ml,aW as Tn,aX as _l,aY as Bl,aZ as Al,a_ as Fl,a$ as Hl,b0 as zl,b1 as Ul,b2 as gn,g as jl,b3 as Wl,f as xo,h as hr,p as we,b4 as Vl,u as Co,b5 as ql,i as Jn,b6 as $t,j as So,b7 as wo,b8 as Gl,b9 as Xl,ba as Yl}from"./index-C5hLbMu6.js";import{l as yr,g as Qn,a as Zl,s as Eo,b as er}from"./store-D6wC8Xks.js";import{b as Jl}from"./supplierLabels-BolgyxWX.js";import{u as ko}from"./useDraftForm-CXbo99ss.js";import{b as Ql}from"./abcClassification-9jqbbbMc.js";function Nr(e){return e!=null&&e===e.window}const ei=e=>{var t,r;if(typeof window>"u")return 0;let n=0;return Nr(e)?n=e.pageYOffset:e instanceof Document?n=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(n=e.scrollTop),e&&!Nr(e)&&typeof n!="number"&&(n=(r=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||r===void 0?void 0:r.scrollTop),n};function ti(e,t,r,n){const o=r-t;return e/=n/2,e<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t}function ni(e,t={}){const{getContainer:r=()=>window,callback:n,duration:o=450}=t,a=r(),s=ei(a),l=Date.now(),d=()=>{const p=Date.now()-l,u=ti(p>o?o:p,s,e,o);Nr(a)?a.scrollTo(window.pageXOffset,u):a instanceof Document||a.constructor.name==="HTMLDocument"?a.documentElement.scrollTop=u:a.scrollTop=u,p<o?Mn(d):typeof n=="function"&&n()};Mn(d)}const ri=e=>{const[t,r]=i.useState(null);return[i.useCallback((o,a,s)=>{const l=t??o,d=Math.min(l||0,o),c=Math.max(l||0,o),p=a.slice(d,c+1).map(e),u=p.some(f=>!s.has(f)),m=[];return p.forEach(f=>{u?(s.has(f)||m.push(f),s.add(f)):(s.delete(f),m.push(f))}),r(u?c:null),m},[t]),r]};function oi(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(r=>{if(!(r in e._antProxy)){const n=e[r];e._antProxy[r]=n,e[r]=t[r]}}),e}const ai=(e,t)=>i.useImperativeHandle(e,()=>{const r=t(),{nativeElement:n}=r;return typeof Proxy<"u"?new Proxy(n,{get(o,a){return r[a]?r[a]:Reflect.get(o,a)}}):oi(n,r)}),li=e=>{const t=i.useRef(e),[,r]=Ya();return[()=>t.current,n=>{t.current=n,r()}]},ii=e=>typeof e!="object"&&typeof e!="function"||e===null,si=e=>{const{componentCls:t,menuCls:r,colorError:n,colorTextLightSolid:o}=e,a=`${r}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${r} ${a}`]:{[`&${a}-danger:not(${a}-disabled)`]:{color:n,"&:hover":{color:o,backgroundColor:n}}}}}},ci=e=>{const{componentCls:t,menuCls:r,zIndexPopup:n,dropdownArrowDistance:o,sizePopupArrow:a,antCls:s,iconCls:l,motionDurationMid:d,paddingBlock:c,fontSize:p,dropdownEdgeChildPadding:u,colorTextDisabled:m,fontSizeIcon:f,controlPaddingHorizontal:v,colorBgElevated:h}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:n,display:"block","&::before":{position:"absolute",insetBlock:e.calc(a).div(2).sub(o).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${s}-btn`]:{[`& > ${l}-down, & > ${s}-btn-icon > ${l}-down`]:{fontSize:f}},[`${t}-wrap`]:{position:"relative",[`${s}-btn > ${l}-down`]:{fontSize:f},[`${l}-down::before`]:{transition:`transform ${d}`}},[`${t}-wrap-open`]:{[`${l}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottomLeft,
          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottomLeft,
          &${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottom,
          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottom,
          &${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottomRight,
          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:el},[`&${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-topLeft,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-topLeft,
          &${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-top,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-top,
          &${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-topRight,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-topRight`]:{animationName:Qa},[`&${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottomLeft,
          &${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottom,
          &${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Ja},[`&${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-topLeft,
          &${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-top,
          &${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Za}}},tl(e,h,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${r}`]:{position:"relative",margin:0},[`${r}-submenu-popup`]:{position:"absolute",zIndex:n,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},sr(e)),{[r]:Object.assign(Object.assign({padding:u,listStyleType:"none",backgroundColor:h,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},uo(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${r}-item-group-title`]:{padding:`${ve(c)} ${ve(v)}`,color:e.colorTextDescription,transition:`all ${d}`},[`${r}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${r}-item-icon`]:{minWidth:p,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${r}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${d}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${r}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${r}-item, ${r}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${ve(c)} ${ve(v)}`,color:e.colorText,fontWeight:"normal",fontSize:p,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${d}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},uo(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:m,cursor:"not-allowed","&:hover":{color:m,backgroundColor:h,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${ve(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:f,fontStyle:"normal"}}}),[`${r}-item-group-list`]:{margin:`0 ${ve(e.marginXS)}`,padding:0,listStyle:"none"},[`${r}-submenu-title`]:{paddingInlineEnd:e.calc(v).add(e.fontSizeSM).equal()},[`${r}-submenu-vertical`]:{position:"relative"},[`${r}-submenu${r}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:m,backgroundColor:h,cursor:"not-allowed"}},[`${r}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[fo(e,"slide-up"),fo(e,"slide-down"),po(e,"move-up"),po(e,"move-down"),nl(e,"zoom-big")]]},di=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},rl({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),ol(e)),ui=Ar("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:r,paddingXXS:n,componentCls:o}=e,a=Fr(e,{menuCls:`${o}-menu`,dropdownArrowDistance:e.calc(r).div(2).add(t).equal(),dropdownEdgeChildPadding:n});return[ci(a),si(a)]},di,{resetStyle:!1}),dr=e=>{var t;const{menu:r,arrow:n,prefixCls:o,children:a,trigger:s,disabled:l,dropdownRender:d,popupRender:c,getPopupContainer:p,overlayClassName:u,rootClassName:m,overlayStyle:f,open:v,onOpenChange:h,visible:g,onVisibleChange:x,mouseEnterDelay:E=.15,mouseLeaveDelay:y=.1,autoAdjustOverflow:$=!0,placement:w="",overlay:_,transitionName:I,destroyOnHidden:O,destroyPopupOnHide:b}=e,{getPopupContainer:B,getPrefixCls:D,direction:U,dropdown:A}=i.useContext(xn),N=c||d;cr();const K=i.useMemo(()=>{const pe=D();return I!==void 0?I:w.includes("top")?`${pe}-slide-down`:`${pe}-slide-up`},[D,w,I]),P=i.useMemo(()=>w?w.includes("Center")?w.slice(0,w.indexOf("Center")):w:U==="rtl"?"bottomRight":"bottomLeft",[w,U]),T=D("dropdown",o),Q=ia(T),[W,le,fe]=ui(T,Q),[,be]=Hr(),ce=i.Children.only(ii(a)?i.createElement("span",null,a):a),Ee=kr(ce,{className:Ne(`${T}-trigger`,{[`${T}-rtl`]:U==="rtl"},ce.props.className),disabled:(t=ce.props.disabled)!==null&&t!==void 0?t:l}),Ie=l?[]:s,ke=!!(Ie!=null&&Ie.includes("contextMenu")),[Pe,Re]=sa(!1,{value:v??g}),xe=zt(pe=>{h==null||h(pe,{source:"trigger"}),x==null||x(pe),Re(pe)}),De=Ne(u,m,le,fe,Q,A==null?void 0:A.className,{[`${T}-rtl`]:U==="rtl"}),Ae=al({arrowPointAtCenter:typeof n=="object"&&n.pointAtCenter,autoAdjustOverflow:$,offset:be.marginXXS,arrowWidth:n?be.sizePopupArrow:0,borderRadius:be.borderRadius}),ie=zt(()=>{r!=null&&r.selectable&&(r!=null&&r.multiple)||(h==null||h(!1,{source:"menu"}),Re(!1))}),he=()=>{let pe;return r!=null&&r.items?pe=i.createElement(ca,Object.assign({},r)):typeof _=="function"?pe=_():pe=_,N&&(pe=N(pe)),pe=i.Children.only(typeof pe=="string"?i.createElement("span",null,pe):pe),i.createElement(da,{prefixCls:`${T}-menu`,rootClassName:Ne(fe,Q),expandIcon:i.createElement("span",{className:`${T}-menu-submenu-arrow`},U==="rtl"?i.createElement(cl,{className:`${T}-menu-submenu-arrow-icon`}):i.createElement(dl,{className:`${T}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:ie,validator:({mode:je})=>{}},pe)},[te,oe]=ll("Dropdown",f==null?void 0:f.zIndex);let ye=i.createElement(il,Object.assign({alignPoint:ke},zr(e,["rootClassName"]),{mouseEnterDelay:E,mouseLeaveDelay:y,visible:Pe,builtinPlacements:Ae,arrow:!!n,overlayClassName:De,prefixCls:T,getPopupContainer:p||B,transitionName:K,trigger:Ie,overlay:he,placement:P,onVisibleChange:xe,overlayStyle:Object.assign(Object.assign(Object.assign({},A==null?void 0:A.style),f),{zIndex:te}),autoDestroy:O??b}),Ee);return te&&(ye=i.createElement(sl.Provider,{value:oe},ye)),W(ye)},fi=ul(dr,"align",void 0,"dropdown",e=>e),pi=e=>i.createElement(fi,Object.assign({},e),i.createElement("span",null));dr._InternalPanelDoNotUseOrYouWillBeFired=pi;function Ot(e,t){return e[t]}var mi=["children"];function ga(e,t){return"".concat(e,"-").concat(t)}function vi(e){return e&&e.type&&e.type.isTreeNode}function zn(e,t){return e??t}function bn(e){var t=e||{},r=t.title,n=t._title,o=t.key,a=t.children,s=r||"title";return{title:s,_title:n||[s],key:o||"key",children:a||"children"}}function ha(e){function t(r){var n=ua(r);return n.map(function(o){if(!vi(o))return on(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var a=o.key,s=o.props,l=s.children,d=_t(s,mi),c=ne({key:a},d),p=t(l);return p.length&&(c.children=p),c}).filter(function(o){return o})}return t(e)}function br(e,t,r){var n=bn(r),o=n._title,a=n.key,s=n.children,l=new Set(t===!0?[]:t),d=[];function c(p){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return p.map(function(m,f){for(var v=ga(u?u.pos:"0",f),h=zn(m[a],v),g,x=0;x<o.length;x+=1){var E=o[x];if(m[E]!==void 0){g=m[E];break}}var y=Object.assign(zr(m,[].concat(Ge(o),[a,s])),{title:g,key:h,parent:u,pos:v,children:null,data:m,isStart:[].concat(Ge(u?u.isStart:[]),[f===0]),isEnd:[].concat(Ge(u?u.isEnd:[]),[f===p.length-1])});return d.push(y),t===!0||l.has(h)?y.children=c(m[s]||[],y):y.children=[],y})}return c(e),d}function gi(e,t,r){var n={};Ut(r)==="object"?n=r:n={externalGetKey:r},n=n||{};var o=n,a=o.childrenPropName,s=o.externalGetKey,l=o.fieldNames,d=bn(l),c=d.key,p=d.children,u=a||p,m;s?typeof s=="string"?m=function(h){return h[s]}:typeof s=="function"&&(m=function(h){return s(h)}):m=function(h,g){return zn(h[c],g)};function f(v,h,g,x){var E=v?v[u]:e,y=v?ga(g.pos,h):"0",$=v?[].concat(Ge(x),[v]):[];if(v){var w=m(v,y),_={node:v,index:h,pos:y,key:w,parentPos:g.node?g.pos:null,level:g.level+1,nodes:$};t(_)}E&&E.forEach(function(I,O){f(I,O,{node:v,pos:y,level:g?g.level+1:-1},$)})}f(null)}function Vr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.initWrapper,n=t.processEntity,o=t.onProcessFinished,a=t.externalGetKey,s=t.childrenPropName,l=t.fieldNames,d=arguments.length>2?arguments[2]:void 0,c=a||d,p={},u={},m={posEntities:p,keyEntities:u};return r&&(m=r(m)||m),gi(e,function(f){var v=f.node,h=f.index,g=f.pos,x=f.key,E=f.parentPos,y=f.level,$=f.nodes,w={node:v,nodes:$,index:h,key:x,pos:g,level:y},_=zn(x,g);p[g]=w,u[_]=w,w.parent=p[E],w.parent&&(w.parent.children=w.parent.children||[],w.parent.children.push(w)),n&&n(w,m)},{externalGetKey:c,childrenPropName:s,fieldNames:l}),o&&o(m),m}function _n(e,t){var r=t.expandedKeys,n=t.selectedKeys,o=t.loadedKeys,a=t.loadingKeys,s=t.checkedKeys,l=t.halfCheckedKeys,d=t.dragOverNodeKey,c=t.dropPosition,p=t.keyEntities,u=Ot(p,e),m={eventKey:e,expanded:r.indexOf(e)!==-1,selected:n.indexOf(e)!==-1,loaded:o.indexOf(e)!==-1,loading:a.indexOf(e)!==-1,checked:s.indexOf(e)!==-1,halfChecked:l.indexOf(e)!==-1,pos:String(u?u.pos:""),dragOver:d===e&&c===0,dragOverGapTop:d===e&&c===-1,dragOverGapBottom:d===e&&c===1};return m}function St(e){var t=e.data,r=e.expanded,n=e.selected,o=e.checked,a=e.loaded,s=e.loading,l=e.halfChecked,d=e.dragOver,c=e.dragOverGapTop,p=e.dragOverGapBottom,u=e.pos,m=e.active,f=e.eventKey,v=ne(ne({},t),{},{expanded:r,selected:n,checked:o,loaded:a,loading:s,halfChecked:l,dragOver:d,dragOverGapTop:c,dragOverGapBottom:p,pos:u,active:m,key:f});return"props"in v||Object.defineProperty(v,"props",{get:function(){return on(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),v}function ya(e,t){var r=new Set;return e.forEach(function(n){t.has(n)||r.add(n)}),r}function hi(e){var t=e||{},r=t.disabled,n=t.disableCheckbox,o=t.checkable;return!!(r||n)||o===!1}function yi(e,t,r,n){for(var o=new Set(e),a=new Set,s=0;s<=r;s+=1){var l=t.get(s)||new Set;l.forEach(function(u){var m=u.key,f=u.node,v=u.children,h=v===void 0?[]:v;o.has(m)&&!n(f)&&h.filter(function(g){return!n(g.node)}).forEach(function(g){o.add(g.key)})})}for(var d=new Set,c=r;c>=0;c-=1){var p=t.get(c)||new Set;p.forEach(function(u){var m=u.parent,f=u.node;if(!(n(f)||!u.parent||d.has(u.parent.key))){if(n(u.parent.node)){d.add(m.key);return}var v=!0,h=!1;(m.children||[]).filter(function(g){return!n(g.node)}).forEach(function(g){var x=g.key,E=o.has(x);v&&!E&&(v=!1),!h&&(E||a.has(x))&&(h=!0)}),v&&o.add(m.key),h&&a.add(m.key),d.add(m.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(ya(a,o))}}function bi(e,t,r,n,o){for(var a=new Set(e),s=new Set(t),l=0;l<=n;l+=1){var d=r.get(l)||new Set;d.forEach(function(m){var f=m.key,v=m.node,h=m.children,g=h===void 0?[]:h;!a.has(f)&&!s.has(f)&&!o(v)&&g.filter(function(x){return!o(x.node)}).forEach(function(x){a.delete(x.key)})})}s=new Set;for(var c=new Set,p=n;p>=0;p-=1){var u=r.get(p)||new Set;u.forEach(function(m){var f=m.parent,v=m.node;if(!(o(v)||!m.parent||c.has(m.parent.key))){if(o(m.parent.node)){c.add(f.key);return}var h=!0,g=!1;(f.children||[]).filter(function(x){return!o(x.node)}).forEach(function(x){var E=x.key,y=a.has(E);h&&!y&&(h=!1),!g&&(y||s.has(E))&&(g=!0)}),h||a.delete(f.key),g&&s.add(f.key),c.add(f.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(ya(s,a))}}function hn(e,t,r,n){var o=[],a;n?a=n:a=hi;var s=new Set(e.filter(function(p){var u=!!Ot(r,p);return u||o.push(p),u})),l=new Map,d=0;Object.keys(r).forEach(function(p){var u=r[p],m=u.level,f=l.get(m);f||(f=new Set,l.set(m,f)),f.add(u),d=Math.max(d,m)}),on(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(p){return"'".concat(p,"'")}).join(", ")));var c;return t===!0?c=yi(s,l,d,a):c=bi(s,t.halfCheckedKeys,l,d,a),c}var xi=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const ba=e=>{const{getPopupContainer:t,getPrefixCls:r,direction:n}=i.useContext(xn),{prefixCls:o,type:a="default",danger:s,disabled:l,loading:d,onClick:c,htmlType:p,children:u,className:m,menu:f,arrow:v,autoFocus:h,overlay:g,trigger:x,align:E,open:y,onOpenChange:$,placement:w,getPopupContainer:_,href:I,icon:O=i.createElement(fl,null),title:b,buttonsRender:B=Ae=>Ae,mouseEnterDelay:D,mouseLeaveDelay:U,overlayClassName:A,overlayStyle:N,destroyOnHidden:K,destroyPopupOnHide:P,dropdownRender:T,popupRender:Q}=e,W=xi(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyOnHidden","destroyPopupOnHide","dropdownRender","popupRender"]),le=r("dropdown",o),fe=`${le}-button`,ce={menu:f,arrow:v,autoFocus:h,align:E,disabled:l,trigger:l?[]:x,onOpenChange:$,getPopupContainer:_||t,mouseEnterDelay:D,mouseLeaveDelay:U,overlayClassName:A,overlayStyle:N,destroyOnHidden:K,popupRender:Q||T},{compactSize:Ee,compactItemClassnames:Ie}=pl(le,n),ke=Ne(fe,Ie,m);"destroyPopupOnHide"in e&&(ce.destroyPopupOnHide=P),"overlay"in e&&(ce.overlay=g),"open"in e&&(ce.open=y),"placement"in e?ce.placement=w:ce.placement=n==="rtl"?"bottomLeft":"bottomRight";const Pe=i.createElement(or,{type:a,danger:s,disabled:l,loading:d,onClick:c,htmlType:p,href:I,title:b},u),Re=i.createElement(or,{type:a,danger:s,icon:O}),[xe,De]=B([Pe,Re]);return i.createElement(ml.Compact,Object.assign({className:ke,size:Ee,block:!0},W),xe,i.createElement(dr,Object.assign({},ce),De))};ba.__ANT_BUTTON=!0;const qr=dr;qr.Button=ba;function $o(e,t,r,n){var o=mo.unstable_batchedUpdates?function(s){mo.unstable_batchedUpdates(r,s)}:r;return e!=null&&e.addEventListener&&e.addEventListener(t,o,n),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,o,n)}}}var rn={},Un="rc-table-internal-hook";function Gr(e){var t=i.createContext(void 0),r=function(o){var a=o.value,s=o.children,l=i.useRef(a);l.current=a;var d=i.useState(function(){return{getValue:function(){return l.current},listeners:new Set}}),c=Je(d,1),p=c[0];return an(function(){vl.unstable_batchedUpdates(function(){p.listeners.forEach(function(u){u(a)})})},[a]),i.createElement(t.Provider,{value:p},s)};return{Context:t,Provider:r,defaultValue:e}}function kt(e,t){var r=zt(typeof t=="function"?t:function(u){if(t===void 0)return u;if(!Array.isArray(t))return u[t];var m={};return t.forEach(function(f){m[f]=u[f]}),m}),n=i.useContext(e==null?void 0:e.Context),o=n||{},a=o.listeners,s=o.getValue,l=i.useRef();l.current=r(n?s():e==null?void 0:e.defaultValue);var d=i.useState({}),c=Je(d,2),p=c[1];return an(function(){if(!n)return;function u(m){var f=r(m);Fn(l.current,f,!0)||p({})}return a.add(u),function(){a.delete(u)}},[n]),l.current}function Ci(){var e=i.createContext(null);function t(){return i.useContext(e)}function r(o,a){var s=vo(o),l=function(c,p){var u=s?{ref:p}:{},m=i.useRef(0),f=i.useRef(c),v=t();return v!==null?i.createElement(o,Xe({},c,u)):((!a||a(f.current,c))&&(m.current+=1),f.current=c,i.createElement(e.Provider,{value:m.current},i.createElement(o,Xe({},c,u))))};return s?i.forwardRef(l):l}function n(o,a){var s=vo(o),l=function(c,p){var u=s?{ref:p}:{};return t(),i.createElement(o,Xe({},c,u))};return s?i.memo(i.forwardRef(l),a):i.memo(l,a)}return{makeImmutable:r,responseImmutable:n,useImmutableMark:t}}var Xr=Ci(),xa=Xr.makeImmutable,Cn=Xr.responseImmutable,Si=Xr.useImmutableMark,Nt=Gr(),Ca=i.createContext({renderWithProps:!1}),wi="RC_TABLE_KEY";function Ei(e){return e==null?[]:Array.isArray(e)?e:[e]}function ur(e){var t=[],r={};return e.forEach(function(n){for(var o=n||{},a=o.key,s=o.dataIndex,l=a||Ei(s).join("-")||wi;r[l];)l="".concat(l,"_next");r[l]=!0,t.push(l)}),t}function Rr(e){return e!=null}function ki(e){return typeof e=="number"&&!Number.isNaN(e)}function $i(e){return e&&Ut(e)==="object"&&!Array.isArray(e)&&!i.isValidElement(e)}function Ni(e,t,r,n,o,a){var s=i.useContext(Ca),l=Si(),d=fa(function(){if(Rr(n))return[n];var c=t==null||t===""?[]:Array.isArray(t)?t:[t],p=Ur(e,c),u=p,m=void 0;if(o){var f=o(p,e,r);$i(f)?(u=f.children,m=f.props,s.renderWithProps=!0):u=f}return[u,m]},[l,e,n,t,o,r],function(c,p){if(a){var u=Je(c,2),m=u[1],f=Je(p,2),v=f[1];return a(v,m)}return s.renderWithProps?!0:!Fn(c,p,!0)});return d}function Ri(e,t,r,n){var o=e+t-1;return e<=n&&o>=r}function Pi(e,t){return kt(Nt,function(r){var n=Ri(e,t||1,r.hoverStartRow,r.hoverEndRow);return[n,r.onHover]})}var Ii=function(t){var r=t.ellipsis,n=t.rowType,o=t.children,a,s=r===!0?{showTitle:!0}:r;return s&&(s.showTitle||n==="header")&&(typeof o=="string"||typeof o=="number"?a=o.toString():i.isValidElement(o)&&typeof o.props.children=="string"&&(a=o.props.children)),a};function Oi(e){var t,r,n,o,a,s,l,d,c=e.component,p=e.children,u=e.ellipsis,m=e.scope,f=e.prefixCls,v=e.className,h=e.align,g=e.record,x=e.render,E=e.dataIndex,y=e.renderIndex,$=e.shouldCellUpdate,w=e.index,_=e.rowType,I=e.colSpan,O=e.rowSpan,b=e.fixLeft,B=e.fixRight,D=e.firstFixLeft,U=e.lastFixLeft,A=e.firstFixRight,N=e.lastFixRight,K=e.appendNode,P=e.additionalProps,T=P===void 0?{}:P,Q=e.isSticky,W="".concat(f,"-cell"),le=kt(Nt,["supportSticky","allColumnsFixedLeft","rowHoverable"]),fe=le.supportSticky,be=le.allColumnsFixedLeft,ce=le.rowHoverable,Ee=Ni(g,E,y,p,x,$),Ie=Je(Ee,2),ke=Ie[0],Pe=Ie[1],Re={},xe=typeof b=="number"&&fe,De=typeof B=="number"&&fe;xe&&(Re.position="sticky",Re.left=b),De&&(Re.position="sticky",Re.right=B);var Ae=(t=(r=(n=Pe==null?void 0:Pe.colSpan)!==null&&n!==void 0?n:T.colSpan)!==null&&r!==void 0?r:I)!==null&&t!==void 0?t:1,ie=(o=(a=(s=Pe==null?void 0:Pe.rowSpan)!==null&&s!==void 0?s:T.rowSpan)!==null&&a!==void 0?a:O)!==null&&o!==void 0?o:1,he=Pi(w,ie),te=Je(he,2),oe=te[0],ye=te[1],pe=zt(function(F){var z;g&&ye(w,w+ie-1),T==null||(z=T.onMouseEnter)===null||z===void 0||z.call(T,F)}),je=zt(function(F){var z;g&&ye(-1,-1),T==null||(z=T.onMouseLeave)===null||z===void 0||z.call(T,F)});if(Ae===0||ie===0)return null;var gt=(l=T.title)!==null&&l!==void 0?l:Ii({rowType:_,ellipsis:u,children:ke}),at=Ne(W,v,(d={},j(j(j(j(j(j(j(j(j(j(d,"".concat(W,"-fix-left"),xe&&fe),"".concat(W,"-fix-left-first"),D&&fe),"".concat(W,"-fix-left-last"),U&&fe),"".concat(W,"-fix-left-all"),U&&be&&fe),"".concat(W,"-fix-right"),De&&fe),"".concat(W,"-fix-right-first"),A&&fe),"".concat(W,"-fix-right-last"),N&&fe),"".concat(W,"-ellipsis"),u),"".concat(W,"-with-append"),K),"".concat(W,"-fix-sticky"),(xe||De)&&Q&&fe),j(d,"".concat(W,"-row-hover"),!Pe&&oe)),T.className,Pe==null?void 0:Pe.className),X={};h&&(X.textAlign=h);var ae=ne(ne(ne(ne({},Pe==null?void 0:Pe.style),Re),X),T.style),S=ke;return Ut(S)==="object"&&!Array.isArray(S)&&!i.isValidElement(S)&&(S=null),u&&(U||A)&&(S=i.createElement("span",{className:"".concat(W,"-content")},S)),i.createElement(c,Xe({},Pe,T,{className:at,style:ae,title:gt,scope:m,onMouseEnter:ce?pe:void 0,onMouseLeave:ce?je:void 0,colSpan:Ae!==1?Ae:null,rowSpan:ie!==1?ie:null}),K,S)}const Sn=i.memo(Oi);function Yr(e,t,r,n,o){var a=r[e]||{},s=r[t]||{},l,d;a.fixed==="left"?l=n.left[o==="rtl"?t:e]:s.fixed==="right"&&(d=n.right[o==="rtl"?e:t]);var c=!1,p=!1,u=!1,m=!1,f=r[t+1],v=r[e-1],h=f&&!f.fixed||v&&!v.fixed||r.every(function($){return $.fixed==="left"});if(o==="rtl"){if(l!==void 0){var g=v&&v.fixed==="left";m=!g&&h}else if(d!==void 0){var x=f&&f.fixed==="right";u=!x&&h}}else if(l!==void 0){var E=f&&f.fixed==="left";c=!E&&h}else if(d!==void 0){var y=v&&v.fixed==="right";p=!y&&h}return{fixLeft:l,fixRight:d,lastFixLeft:c,firstFixRight:p,lastFixRight:u,firstFixLeft:m,isSticky:n.isSticky}}var Sa=i.createContext({});function Di(e){var t=e.className,r=e.index,n=e.children,o=e.colSpan,a=o===void 0?1:o,s=e.rowSpan,l=e.align,d=kt(Nt,["prefixCls","direction"]),c=d.prefixCls,p=d.direction,u=i.useContext(Sa),m=u.scrollColumnIndex,f=u.stickyOffsets,v=u.flattenColumns,h=r+a-1,g=h+1===m?a+1:a,x=Yr(r,r+g-1,v,f,p);return i.createElement(Sn,Xe({className:t,index:r,component:"td",prefixCls:c,record:null,dataIndex:null,align:l,colSpan:g,rowSpan:s,render:function(){return n}},x))}var Ki=["children"];function Ti(e){var t=e.children,r=_t(e,Ki);return i.createElement("tr",r,t)}function fr(e){var t=e.children;return t}fr.Row=Ti;fr.Cell=Di;function Li(e){var t=e.children,r=e.stickyOffsets,n=e.flattenColumns,o=kt(Nt,"prefixCls"),a=n.length-1,s=n[a],l=i.useMemo(function(){return{stickyOffsets:r,flattenColumns:n,scrollColumnIndex:s!=null&&s.scrollbar?a:null}},[s,n,a,r]);return i.createElement(Sa.Provider,{value:l},i.createElement("tfoot",{className:"".concat(o,"-summary")},t))}const tr=Cn(Li);var wa=fr;function Mi(e){return null}function _i(e){return null}function Ea(e,t,r,n,o,a,s){var l=a(t,s);e.push({record:t,indent:r,index:s,rowKey:l});var d=o==null?void 0:o.has(l);if(t&&Array.isArray(t[n])&&d)for(var c=0;c<t[n].length;c+=1)Ea(e,t[n][c],r+1,n,o,a,c)}function ka(e,t,r,n){var o=i.useMemo(function(){if(r!=null&&r.size){for(var a=[],s=0;s<(e==null?void 0:e.length);s+=1){var l=e[s];Ea(a,l,0,t,r,n,s)}return a}return e==null?void 0:e.map(function(d,c){return{record:d,indent:0,index:c,rowKey:n(d,c)}})},[e,t,r,n]);return o}function $a(e,t,r,n){var o=kt(Nt,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),a=o.flattenColumns,s=o.expandableType,l=o.expandedKeys,d=o.childrenColumnName,c=o.onTriggerExpand,p=o.rowExpandable,u=o.onRow,m=o.expandRowByClick,f=o.rowClassName,v=s==="nest",h=s==="row"&&(!p||p(e)),g=h||v,x=l&&l.has(t),E=d&&e&&e[d],y=zt(c),$=u==null?void 0:u(e,r),w=$==null?void 0:$.onClick,_=function(B){m&&g&&c(e,B);for(var D=arguments.length,U=new Array(D>1?D-1:0),A=1;A<D;A++)U[A-1]=arguments[A];w==null||w.apply(void 0,[B].concat(U))},I;typeof f=="string"?I=f:typeof f=="function"&&(I=f(e,r,n));var O=ur(a);return ne(ne({},o),{},{columnsKey:O,nestExpandable:v,expanded:x,hasNestChildren:E,record:e,onTriggerExpand:y,rowSupportExpand:h,expandable:g,rowProps:ne(ne({},$),{},{className:Ne(I,$==null?void 0:$.className),onClick:_})})}function Na(e){var t=e.prefixCls,r=e.children,n=e.component,o=e.cellComponent,a=e.className,s=e.expanded,l=e.colSpan,d=e.isEmpty,c=e.stickyOffset,p=c===void 0?0:c,u=kt(Nt,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),m=u.scrollbarSize,f=u.fixHeader,v=u.fixColumn,h=u.componentWidth,g=u.horizonScroll,x=r;return(d?g&&h:v)&&(x=i.createElement("div",{style:{width:h-p-(f&&!d?m:0),position:"sticky",left:p,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},x)),i.createElement(n,{className:a,style:{display:s?null:"none"}},i.createElement(Sn,{component:o,prefixCls:t,colSpan:l},x))}function Bi(e){var t=e.prefixCls,r=e.record,n=e.onExpand,o=e.expanded,a=e.expandable,s="".concat(t,"-row-expand-icon");if(!a)return i.createElement("span",{className:Ne(s,"".concat(t,"-row-spaced"))});var l=function(c){n(r,c),c.stopPropagation()};return i.createElement("span",{className:Ne(s,j(j({},"".concat(t,"-row-expanded"),o),"".concat(t,"-row-collapsed"),!o)),onClick:l})}function Ai(e,t,r){var n=[];function o(a){(a||[]).forEach(function(s,l){n.push(t(s,l)),o(s[r])})}return o(e),n}function Ra(e,t,r,n){return typeof e=="string"?e:typeof e=="function"?e(t,r,n):""}function Pa(e,t,r,n,o){var a,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,d=e.record,c=e.prefixCls,p=e.columnsKey,u=e.fixedInfoList,m=e.expandIconColumnIndex,f=e.nestExpandable,v=e.indentSize,h=e.expandIcon,g=e.expanded,x=e.hasNestChildren,E=e.onTriggerExpand,y=e.expandable,$=e.expandedKeys,w=p[r],_=u[r],I;r===(m||0)&&f&&(I=i.createElement(i.Fragment,null,i.createElement("span",{style:{paddingLeft:"".concat(v*n,"px")},className:"".concat(c,"-row-indent indent-level-").concat(n)}),h({prefixCls:c,expanded:g,expandable:x,record:d,onExpand:E})));var O=((a=t.onCell)===null||a===void 0?void 0:a.call(t,d,o))||{};if(l){var b=O.rowSpan,B=b===void 0?1:b;if(y&&B&&r<l){for(var D=B,U=o;U<o+B;U+=1){var A=s[U];$.has(A)&&(D+=1)}O.rowSpan=D}}return{key:w,fixedInfo:_,appendCellNode:I,additionalCellProps:O}}function Fi(e){var t=e.className,r=e.style,n=e.record,o=e.index,a=e.renderIndex,s=e.rowKey,l=e.rowKeys,d=e.indent,c=d===void 0?0:d,p=e.rowComponent,u=e.cellComponent,m=e.scopeCellComponent,f=e.expandedRowInfo,v=$a(n,s,o,c),h=v.prefixCls,g=v.flattenColumns,x=v.expandedRowClassName,E=v.expandedRowRender,y=v.rowProps,$=v.expanded,w=v.rowSupportExpand,_=i.useRef(!1);_.current||(_.current=$);var I=Ra(x,n,o,c),O=i.createElement(p,Xe({},y,{"data-row-key":s,className:Ne(t,"".concat(h,"-row"),"".concat(h,"-row-level-").concat(c),y==null?void 0:y.className,j({},I,c>=1)),style:ne(ne({},r),y==null?void 0:y.style)}),g.map(function(D,U){var A=D.render,N=D.dataIndex,K=D.className,P=Pa(v,D,U,c,o,l,f==null?void 0:f.offset),T=P.key,Q=P.fixedInfo,W=P.appendCellNode,le=P.additionalCellProps;return i.createElement(Sn,Xe({className:K,ellipsis:D.ellipsis,align:D.align,scope:D.rowScope,component:D.rowScope?m:u,prefixCls:h,key:T,record:n,index:o,renderIndex:a,dataIndex:N,render:A,shouldCellUpdate:D.shouldCellUpdate},Q,{appendNode:W,additionalProps:le}))})),b;if(w&&(_.current||$)){var B=E(n,o,c+1,$);b=i.createElement(Na,{expanded:$,className:Ne("".concat(h,"-expanded-row"),"".concat(h,"-expanded-row-level-").concat(c+1),I),prefixCls:h,component:p,cellComponent:u,colSpan:f?f.colSpan:g.length,stickyOffset:f==null?void 0:f.sticky,isEmpty:!1},B)}return i.createElement(i.Fragment,null,O,b)}const Hi=Cn(Fi);function zi(e){var t=e.columnKey,r=e.onColumnResize,n=e.prefixCls,o=e.title,a=i.useRef();return an(function(){a.current&&r(t,a.current.offsetWidth)},[]),i.createElement(jr,{data:t},i.createElement("th",{ref:a,className:"".concat(n,"-measure-cell")},i.createElement("div",{className:"".concat(n,"-measure-cell-content")},o||"Â ")))}function Ui(e){var t=e.prefixCls,r=e.columnsKey,n=e.onColumnResize,o=e.columns,a=i.useRef(null),s=kt(Nt,["measureRowRender"]),l=s.measureRowRender,d=i.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),ref:a,tabIndex:-1},i.createElement(jr.Collection,{onBatchResize:function(p){gl(a.current)&&p.forEach(function(u){var m=u.data,f=u.size;n(m,f.offsetWidth)})}},r.map(function(c){var p=o.find(function(f){return f.key===c}),u=p==null?void 0:p.title,m=i.isValidElement(u)?i.cloneElement(u,{ref:null}):u;return i.createElement(zi,{prefixCls:t,key:c,columnKey:c,onColumnResize:n,title:m})})));return l?l(d):d}function ji(e){var t=e.data,r=e.measureColumnWidth,n=kt(Nt,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","expandedRowOffset","fixedInfoList","colWidths"]),o=n.prefixCls,a=n.getComponent,s=n.onColumnResize,l=n.flattenColumns,d=n.getRowKey,c=n.expandedKeys,p=n.childrenColumnName,u=n.emptyNode,m=n.expandedRowOffset,f=m===void 0?0:m,v=n.colWidths,h=ka(t,p,c,d),g=i.useMemo(function(){return h.map(function(b){return b.rowKey})},[h]),x=i.useRef({renderWithProps:!1}),E=i.useMemo(function(){for(var b=l.length-f,B=0,D=0;D<f;D+=1)B+=v[D]||0;return{offset:f,colSpan:b,sticky:B}},[l.length,f,v]),y=a(["body","wrapper"],"tbody"),$=a(["body","row"],"tr"),w=a(["body","cell"],"td"),_=a(["body","cell"],"th"),I;t.length?I=h.map(function(b,B){var D=b.record,U=b.indent,A=b.index,N=b.rowKey;return i.createElement(Hi,{key:N,rowKey:N,rowKeys:g,record:D,index:B,renderIndex:A,rowComponent:$,cellComponent:w,scopeCellComponent:_,indent:U,expandedRowInfo:E})}):I=i.createElement(Na,{expanded:!0,className:"".concat(o,"-placeholder"),prefixCls:o,component:$,cellComponent:w,colSpan:l.length,isEmpty:!0},u);var O=ur(l);return i.createElement(Ca.Provider,{value:x.current},i.createElement(y,{className:"".concat(o,"-tbody")},r&&i.createElement(Ui,{prefixCls:o,columnsKey:O,onColumnResize:s,columns:l}),I))}const Wi=Cn(ji);var Vi=["expandable"],Bn="RC_TABLE_INTERNAL_COL_DEFINE";function qi(e){var t=e.expandable,r=_t(e,Vi),n;return"expandable"in e?n=ne(ne({},r),t):n=r,n.showExpandColumn===!1&&(n.expandIconColumnIndex=-1),n}var Gi=["columnType"];function Ia(e){for(var t=e.colWidths,r=e.columns,n=e.columCount,o=kt(Nt,["tableLayout"]),a=o.tableLayout,s=[],l=n||r.length,d=!1,c=l-1;c>=0;c-=1){var p=t[c],u=r&&r[c],m=void 0,f=void 0;if(u&&(m=u[Bn],a==="auto"&&(f=u.minWidth)),p||f||m||d){var v=m||{};v.columnType;var h=_t(v,Gi);s.unshift(i.createElement("col",Xe({key:c,style:{width:p,minWidth:f}},h))),d=!0}}return s.length>0?i.createElement("colgroup",null,s):null}var Xi=["className","noData","columns","flattenColumns","colWidths","colGroup","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","scrollX","tableLayout","onScroll","children"];function Yi(e,t){return i.useMemo(function(){for(var r=[],n=0;n<t;n+=1){var o=e[n];if(o!==void 0)r[n]=o;else return null}return r},[e.join("_"),t])}var Zi=i.forwardRef(function(e,t){var r=e.className,n=e.noData,o=e.columns,a=e.flattenColumns,s=e.colWidths,l=e.colGroup,d=e.columCount,c=e.stickyOffsets,p=e.direction,u=e.fixHeader,m=e.stickyTopOffset,f=e.stickyBottomOffset,v=e.stickyClassName,h=e.scrollX,g=e.tableLayout,x=g===void 0?"fixed":g,E=e.onScroll,y=e.children,$=_t(e,Xi),w=kt(Nt,["prefixCls","scrollbarSize","isSticky","getComponent"]),_=w.prefixCls,I=w.scrollbarSize,O=w.isSticky,b=w.getComponent,B=b(["header","table"],"table"),D=O&&!u?0:I,U=i.useRef(null),A=i.useCallback(function(fe){go(t,fe),go(U,fe)},[]);i.useEffect(function(){function fe(ce){var Ee=ce,Ie=Ee.currentTarget,ke=Ee.deltaX;ke&&(E({currentTarget:Ie,scrollLeft:Ie.scrollLeft+ke}),ce.preventDefault())}var be=U.current;return be==null||be.addEventListener("wheel",fe,{passive:!1}),function(){be==null||be.removeEventListener("wheel",fe)}},[]);var N=a[a.length-1],K={fixed:N?N.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(_,"-cell-scrollbar")}}},P=i.useMemo(function(){return D?[].concat(Ge(o),[K]):o},[D,o]),T=i.useMemo(function(){return D?[].concat(Ge(a),[K]):a},[D,a]),Q=i.useMemo(function(){var fe=c.right,be=c.left;return ne(ne({},c),{},{left:p==="rtl"?[].concat(Ge(be.map(function(ce){return ce+D})),[0]):be,right:p==="rtl"?fe:[].concat(Ge(fe.map(function(ce){return ce+D})),[0]),isSticky:O})},[D,c,O]),W=Yi(s,d),le=i.useMemo(function(){var fe=!W||!W.length||W.every(function(be){return!be});return n||fe},[n,W]);return i.createElement("div",{style:ne({overflow:"hidden"},O?{top:m,bottom:f}:{}),ref:A,className:Ne(r,j({},v,!!v))},i.createElement(B,{style:{tableLayout:x,minWidth:"100%",width:h}},le?l:i.createElement(Ia,{colWidths:[].concat(Ge(W),[D]),columCount:d+1,columns:T}),y(ne(ne({},$),{},{stickyOffsets:Q,columns:P,flattenColumns:T}))))});const No=i.memo(Zi);var Ji=function(t){var r=t.cells,n=t.stickyOffsets,o=t.flattenColumns,a=t.rowComponent,s=t.cellComponent,l=t.onHeaderRow,d=t.index,c=kt(Nt,["prefixCls","direction"]),p=c.prefixCls,u=c.direction,m;l&&(m=l(r.map(function(v){return v.column}),d));var f=ur(r.map(function(v){return v.column}));return i.createElement(a,m,r.map(function(v,h){var g=v.column,x=Yr(v.colStart,v.colEnd,o,n,u),E;return g&&g.onHeaderCell&&(E=v.column.onHeaderCell(g)),i.createElement(Sn,Xe({},v,{scope:g.title?v.colSpan>1?"colgroup":"col":null,ellipsis:g.ellipsis,align:g.align,component:s,prefixCls:p,key:f[h]},x,{additionalProps:E,rowType:"header"}))}))};function Qi(e){var t=[];function r(s,l){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[d]=t[d]||[];var c=l,p=s.filter(Boolean).map(function(u){var m={key:u.key,className:u.className||"",children:u.title,column:u,colStart:c},f=1,v=u.children;return v&&v.length>0&&(f=r(v,c,d+1).reduce(function(h,g){return h+g},0),m.hasSubColumns=!0),"colSpan"in u&&(f=u.colSpan),"rowSpan"in u&&(m.rowSpan=u.rowSpan),m.colSpan=f,m.colEnd=m.colStart+f-1,t[d].push(m),c+=f,f});return p}r(e,0);for(var n=t.length,o=function(l){t[l].forEach(function(d){!("rowSpan"in d)&&!d.hasSubColumns&&(d.rowSpan=n-l)})},a=0;a<n;a+=1)o(a);return t}var es=function(t){var r=t.stickyOffsets,n=t.columns,o=t.flattenColumns,a=t.onHeaderRow,s=kt(Nt,["prefixCls","getComponent"]),l=s.prefixCls,d=s.getComponent,c=i.useMemo(function(){return Qi(n)},[n]),p=d(["header","wrapper"],"thead"),u=d(["header","row"],"tr"),m=d(["header","cell"],"th");return i.createElement(p,{className:"".concat(l,"-thead")},c.map(function(f,v){var h=i.createElement(Ji,{key:v,flattenColumns:o,cells:f,stickyOffsets:r,rowComponent:u,cellComponent:m,onHeaderRow:a,index:v});return h}))};const Ro=Cn(es);function Po(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function ts(e,t,r){return i.useMemo(function(){if(t&&t>0){var n=0,o=0;e.forEach(function(m){var f=Po(t,m.width);f?n+=f:o+=1});var a=Math.max(t,r),s=Math.max(a-n,o),l=o,d=s/o,c=0,p=e.map(function(m){var f=ne({},m),v=Po(t,f.width);if(v)f.width=v;else{var h=Math.floor(d);f.width=l===1?s:h,s-=h,l-=1}return c+=f.width,f});if(c<a){var u=a/c;s=a,p.forEach(function(m,f){var v=Math.floor(m.width*u);m.width=f===p.length-1?s:v,s-=v})}return[p,Math.max(c,a)]}return[e,t]},[e,t,r])}var ns=["children"],rs=["fixed"];function Zr(e){return ua(e).filter(function(t){return i.isValidElement(t)}).map(function(t){var r=t.key,n=t.props,o=n.children,a=_t(n,ns),s=ne({key:r},a);return o&&(s.children=Zr(o)),s})}function Oa(e){return e.filter(function(t){return t&&Ut(t)==="object"&&!t.hidden}).map(function(t){var r=t.children;return r&&r.length>0?ne(ne({},t),{},{children:Oa(r)}):t})}function Pr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(r){return r&&Ut(r)==="object"}).reduce(function(r,n,o){var a=n.fixed,s=a===!0?"left":a,l="".concat(t,"-").concat(o),d=n.children;return d&&d.length>0?[].concat(Ge(r),Ge(Pr(d,l).map(function(c){var p;return ne(ne({},c),{},{fixed:(p=c.fixed)!==null&&p!==void 0?p:s})}))):[].concat(Ge(r),[ne(ne({key:l},n),{},{fixed:s})])},[])}function os(e){return e.map(function(t){var r=t.fixed,n=_t(t,rs),o=r;return r==="left"?o="right":r==="right"&&(o="left"),ne({fixed:o},n)})}function as(e,t){var r=e.prefixCls,n=e.columns,o=e.children,a=e.expandable,s=e.expandedKeys,l=e.columnTitle,d=e.getRowKey,c=e.onTriggerExpand,p=e.expandIcon,u=e.rowExpandable,m=e.expandIconColumnIndex,f=e.expandedRowOffset,v=f===void 0?0:f,h=e.direction,g=e.expandRowByClick,x=e.columnWidth,E=e.fixed,y=e.scrollWidth,$=e.clientWidth,w=i.useMemo(function(){var N=n||Zr(o)||[];return Oa(N.slice())},[n,o]),_=i.useMemo(function(){if(a){var N=w.slice();if(!N.includes(rn)){var K=m||0,P=K===0&&E==="right"?w.length:K;P>=0&&N.splice(P,0,rn)}var T=N.indexOf(rn);N=N.filter(function(fe,be){return fe!==rn||be===T});var Q=w[T],W;E?W=E:W=Q?Q.fixed:null;var le=j(j(j(j(j(j({},Bn,{className:"".concat(r,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",l),"fixed",W),"className","".concat(r,"-row-expand-icon-cell")),"width",x),"render",function(be,ce,Ee){var Ie=d(ce,Ee),ke=s.has(Ie),Pe=u?u(ce):!0,Re=p({prefixCls:r,expanded:ke,expandable:Pe,record:ce,onExpand:c});return g?i.createElement("span",{onClick:function(De){return De.stopPropagation()}},Re):Re});return N.map(function(fe,be){var ce=fe===rn?le:fe;return be<v?ne(ne({},ce),{},{fixed:ce.fixed||"left"}):ce})}return w.filter(function(fe){return fe!==rn})},[a,w,d,s,p,h,v]),I=i.useMemo(function(){var N=_;return t&&(N=t(N)),N.length||(N=[{render:function(){return null}}]),N},[t,_,h]),O=i.useMemo(function(){return h==="rtl"?os(Pr(I)):Pr(I)},[I,h,y]),b=i.useMemo(function(){for(var N=-1,K=O.length-1;K>=0;K-=1){var P=O[K].fixed;if(P==="left"||P===!0){N=K;break}}if(N>=0)for(var T=0;T<=N;T+=1){var Q=O[T].fixed;if(Q!=="left"&&Q!==!0)return!0}var W=O.findIndex(function(be){var ce=be.fixed;return ce==="right"});if(W>=0)for(var le=W;le<O.length;le+=1){var fe=O[le].fixed;if(fe!=="right")return!0}return!1},[O]),B=ts(O,y,$),D=Je(B,2),U=D[0],A=D[1];return[I,U,A,b]}function ls(e,t,r){var n=qi(e),o=n.expandIcon,a=n.expandedRowKeys,s=n.defaultExpandedRowKeys,l=n.defaultExpandAllRows,d=n.expandedRowRender,c=n.onExpand,p=n.onExpandedRowsChange,u=n.childrenColumnName,m=o||Bi,f=u||"children",v=i.useMemo(function(){return d?"row":e.expandable&&e.internalHooks===Un&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(w){return w&&Ut(w)==="object"&&w[f]})?"nest":!1},[!!d,t]),h=i.useState(function(){return s||(l?Ai(t,r,f):[])}),g=Je(h,2),x=g[0],E=g[1],y=i.useMemo(function(){return new Set(a||x||[])},[a,x]),$=i.useCallback(function(w){var _=r(w,t.indexOf(w)),I,O=y.has(_);O?(y.delete(_),I=Ge(y)):I=[].concat(Ge(y),[_]),E(I),c&&c(!O,w),p&&p(I)},[r,y,t,c,p]);return[n,v,y,m,f,$]}function is(e,t,r){var n=e.map(function(o,a){return Yr(a,a,e,t,r)});return fa(function(){return n},[n],function(o,a){return!Fn(o,a)})}function ss(e){var t=i.useRef(e),r=i.useState({}),n=Je(r,2),o=n[1],a=i.useRef(null),s=i.useRef([]);function l(d){s.current.push(d);var c=Promise.resolve();a.current=c,c.then(function(){if(a.current===c){var p=s.current,u=t.current;s.current=[],p.forEach(function(m){t.current=m(t.current)}),a.current=null,u!==t.current&&o({})}})}return i.useEffect(function(){return function(){a.current=null}},[]),[t.current,l]}function cs(e){var t=i.useRef(null),r=i.useRef();function n(){window.clearTimeout(r.current)}function o(s){t.current=s,n(),r.current=window.setTimeout(function(){t.current=null,r.current=void 0},100)}function a(){return t.current}return i.useEffect(function(){return n},[]),[o,a]}function ds(){var e=i.useState(-1),t=Je(e,2),r=t[0],n=t[1],o=i.useState(-1),a=Je(o,2),s=a[0],l=a[1],d=i.useCallback(function(c,p){n(c),l(p)},[]);return[r,s,d]}var Io=hl()?window:null;function us(e,t){var r=Ut(e)==="object"?e:{},n=r.offsetHeader,o=n===void 0?0:n,a=r.offsetSummary,s=a===void 0?0:a,l=r.offsetScroll,d=l===void 0?0:l,c=r.getContainer,p=c===void 0?function(){return Io}:c,u=p()||Io,m=!!e;return i.useMemo(function(){return{isSticky:m,stickyClassName:m?"".concat(t,"-sticky-holder"):"",offsetHeader:o,offsetSummary:s,offsetScroll:d,container:u}},[m,d,o,s,t,u])}function fs(e,t,r){var n=i.useMemo(function(){var o=t.length,a=function(c,p,u){for(var m=[],f=0,v=c;v!==p;v+=u)m.push(f),t[v].fixed&&(f+=e[v]||0);return m},s=a(0,o,1),l=a(o-1,-1,-1).reverse();return r==="rtl"?{left:l,right:s}:{left:s,right:l}},[e,t,r]);return n}function Oo(e){var t=e.className,r=e.children;return i.createElement("div",{className:t},r)}function Do(e){var t=Wr(e),r=t.getBoundingClientRect(),n=document.documentElement;return{left:r.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:r.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var ps=function(t,r){var n,o,a=t.scrollBodyRef,s=t.onScroll,l=t.offsetScroll,d=t.container,c=t.direction,p=kt(Nt,"prefixCls"),u=((n=a.current)===null||n===void 0?void 0:n.scrollWidth)||0,m=((o=a.current)===null||o===void 0?void 0:o.clientWidth)||0,f=u&&m*(m/u),v=i.useRef(),h=ss({scrollLeft:0,isHiddenScrollBar:!0}),g=Je(h,2),x=g[0],E=g[1],y=i.useRef({delta:0,x:0}),$=i.useState(!1),w=Je($,2),_=w[0],I=w[1],O=i.useRef(null);i.useEffect(function(){return function(){Mn.cancel(O.current)}},[]);var b=function(){I(!1)},B=function(K){K.persist(),y.current.delta=K.pageX-x.scrollLeft,y.current.x=0,I(!0),K.preventDefault()},D=function(K){var P,T=K||((P=window)===null||P===void 0?void 0:P.event),Q=T.buttons;if(!_||Q===0){_&&I(!1);return}var W=y.current.x+K.pageX-y.current.x-y.current.delta,le=c==="rtl";W=Math.max(le?f-m:0,Math.min(le?0:m-f,W));var fe=!le||Math.abs(W)+Math.abs(f)<m;fe&&(s({scrollLeft:W/m*(u+2)}),y.current.x=K.pageX)},U=function(){Mn.cancel(O.current),O.current=Mn(function(){if(a.current){var K=Do(a.current).top,P=K+a.current.offsetHeight,T=d===window?document.documentElement.scrollTop+window.innerHeight:Do(d).top+d.clientHeight;E(function(Q){return ne(ne({},Q),{},{isHiddenScrollBar:P-ho()<=T||K>=T-l})})}})},A=function(K){E(function(P){return ne(ne({},P),{},{scrollLeft:u?K/u*m:0})})};return i.useImperativeHandle(r,function(){return{setScrollLeft:A,checkScrollBarVisible:U}}),i.useEffect(function(){var N=$o(document.body,"mouseup",b,!1),K=$o(document.body,"mousemove",D,!1);return U(),function(){N.remove(),K.remove()}},[f,_]),i.useEffect(function(){if(a.current){for(var N=[],K=Wr(a.current);K;)N.push(K),K=K.parentElement;return N.forEach(function(P){return P.addEventListener("scroll",U,!1)}),window.addEventListener("resize",U,!1),window.addEventListener("scroll",U,!1),d.addEventListener("scroll",U,!1),function(){N.forEach(function(P){return P.removeEventListener("scroll",U)}),window.removeEventListener("resize",U),window.removeEventListener("scroll",U),d.removeEventListener("scroll",U)}}},[d]),i.useEffect(function(){x.isHiddenScrollBar||E(function(N){var K=a.current;return K?ne(ne({},N),{},{scrollLeft:K.scrollLeft/K.scrollWidth*K.clientWidth}):N})},[x.isHiddenScrollBar]),u<=m||!f||x.isHiddenScrollBar?null:i.createElement("div",{style:{height:ho(),width:m,bottom:l},className:"".concat(p,"-sticky-scroll")},i.createElement("div",{onMouseDown:B,ref:v,className:Ne("".concat(p,"-sticky-scroll-bar"),j({},"".concat(p,"-sticky-scroll-bar-active"),_)),style:{width:"".concat(f,"px"),transform:"translate3d(".concat(x.scrollLeft,"px, 0, 0)")}}))};const ms=i.forwardRef(ps);var Da="rc-table",vs=[],gs={};function hs(){return"No Data"}function ys(e,t){var r=ne({rowKey:"key",prefixCls:Da,emptyText:hs},e),n=r.prefixCls,o=r.className,a=r.rowClassName,s=r.style,l=r.data,d=r.rowKey,c=r.scroll,p=r.tableLayout,u=r.direction,m=r.title,f=r.footer,v=r.summary,h=r.caption,g=r.id,x=r.showHeader,E=r.components,y=r.emptyText,$=r.onRow,w=r.onHeaderRow,_=r.measureRowRender,I=r.onScroll,O=r.internalHooks,b=r.transformColumns,B=r.internalRefs,D=r.tailor,U=r.getContainerWidth,A=r.sticky,N=r.rowHoverable,K=N===void 0?!0:N,P=l||vs,T=!!P.length,Q=O===Un,W=i.useCallback(function(Me,Be){return Ur(E,Me)||Be},[E]),le=i.useMemo(function(){return typeof d=="function"?d:function(Me){var Be=Me&&Me[d];return Be}},[d]),fe=W(["body"]),be=ds(),ce=Je(be,3),Ee=ce[0],Ie=ce[1],ke=ce[2],Pe=ls(r,P,le),Re=Je(Pe,6),xe=Re[0],De=Re[1],Ae=Re[2],ie=Re[3],he=Re[4],te=Re[5],oe=c==null?void 0:c.x,ye=i.useState(0),pe=Je(ye,2),je=pe[0],gt=pe[1],at=as(ne(ne(ne({},r),xe),{},{expandable:!!xe.expandedRowRender,columnTitle:xe.columnTitle,expandedKeys:Ae,getRowKey:le,onTriggerExpand:te,expandIcon:ie,expandIconColumnIndex:xe.expandIconColumnIndex,direction:u,scrollWidth:Q&&D&&typeof oe=="number"?oe:null,clientWidth:je}),Q?b:null),X=Je(at,4),ae=X[0],S=X[1],F=X[2],z=X[3],L=F??oe,re=i.useMemo(function(){return{columns:ae,flattenColumns:S}},[ae,S]),se=i.useRef(),G=i.useRef(),ee=i.useRef(),Y=i.useRef();i.useImperativeHandle(t,function(){return{nativeElement:se.current,scrollTo:function(Be){var Ct;if(ee.current instanceof HTMLElement){var It=Be.index,yt=Be.top,Wt=Be.key;if(ki(yt)){var Vt;(Vt=ee.current)===null||Vt===void 0||Vt.scrollTo({top:yt})}else{var Mt,qt=Wt??le(P[It]);(Mt=ee.current.querySelector('[data-row-key="'.concat(qt,'"]')))===null||Mt===void 0||Mt.scrollIntoView()}}else(Ct=ee.current)!==null&&Ct!==void 0&&Ct.scrollTo&&ee.current.scrollTo(Be)}}});var k=i.useRef(),M=i.useState(!1),H=Je(M,2),ue=H[0],me=H[1],Te=i.useState(!1),de=Je(Te,2),ze=de[0],Qe=de[1],rt=i.useState(new Map),Ce=Je(rt,2),ht=Ce[0],it=Ce[1],dt=ur(S),tt=dt.map(function(Me){return ht.get(Me)}),pt=i.useMemo(function(){return tt},[tt.join("_")]),st=fs(pt,S,u),lt=c&&Rr(c.y),Ze=c&&Rr(L)||!!xe.fixed,mt=Ze&&S.some(function(Me){var Be=Me.fixed;return Be}),Rt=i.useRef(),Fe=us(A,n),_e=Fe.isSticky,Ye=Fe.offsetHeader,ut=Fe.offsetSummary,bt=Fe.offsetScroll,J=Fe.stickyClassName,Z=Fe.container,V=i.useMemo(function(){return v==null?void 0:v(P)},[v,P]),Le=(lt||_e)&&i.isValidElement(V)&&V.type===fr&&V.props.fixed,Ke,Se,qe;lt&&(Se={overflowY:T?"scroll":"auto",maxHeight:c.y}),Ze&&(Ke={overflowX:"auto"},lt||(Se={overflowY:"hidden"}),qe={width:L===!0?"auto":L,minWidth:"100%"});var He=i.useCallback(function(Me,Be){it(function(Ct){if(Ct.get(Me)!==Be){var It=new Map(Ct);return It.set(Me,Be),It}return Ct})},[]),ot=cs(),ft=Je(ot,2),et=ft[0],xt=ft[1];function Et(Me,Be){Be&&(typeof Be=="function"?Be(Me):Be.scrollLeft!==Me&&(Be.scrollLeft=Me,Be.scrollLeft!==Me&&setTimeout(function(){Be.scrollLeft=Me},0)))}var ct=zt(function(Me){var Be=Me.currentTarget,Ct=Me.scrollLeft,It=u==="rtl",yt=typeof Ct=="number"?Ct:Be.scrollLeft,Wt=Be||gs;if(!xt()||xt()===Wt){var Vt;et(Wt),Et(yt,G.current),Et(yt,ee.current),Et(yt,k.current),Et(yt,(Vt=Rt.current)===null||Vt===void 0?void 0:Vt.setScrollLeft)}var Mt=Be||G.current;if(Mt){var qt=Q&&D&&typeof L=="number"?L:Mt.scrollWidth,Dn=Mt.clientWidth;if(qt===Dn){me(!1),Qe(!1);return}It?(me(-yt<qt-Dn),Qe(-yt>0)):(me(yt>0),Qe(yt<qt-Dn))}}),Yt=zt(function(Me){ct(Me),I==null||I(Me)}),Dt=function(){if(Ze&&ee.current){var Be;ct({currentTarget:Wr(ee.current),scrollLeft:(Be=ee.current)===null||Be===void 0?void 0:Be.scrollLeft})}else me(!1),Qe(!1)},jn=function(Be){var Ct,It=Be.width;(Ct=Rt.current)===null||Ct===void 0||Ct.checkScrollBarVisible();var yt=se.current?se.current.offsetWidth:It;Q&&U&&se.current&&(yt=U(se.current,yt)||yt),yt!==je&&(Dt(),gt(yt))},un=i.useRef(!1);i.useEffect(function(){un.current&&Dt()},[Ze,l,ae.length]),i.useEffect(function(){un.current=!0},[]);var kn=i.useState(0),$n=Je(kn,2),sn=$n[0],Wn=$n[1],Nn=i.useState(!0),Zt=Je(Nn,2),Rn=Zt[0],Bt=Zt[1];an(function(){(!D||!Q)&&(ee.current instanceof Element?Wn(yo(ee.current).width):Wn(yo(Y.current).width)),Bt(yl("position","sticky"))},[]),i.useEffect(function(){Q&&B&&(B.body.current=ee.current)});var mr=i.useCallback(function(Me){return i.createElement(i.Fragment,null,i.createElement(Ro,Me),Le==="top"&&i.createElement(tr,Me,V))},[Le,V]),Kt=i.useCallback(function(Me){return i.createElement(tr,Me,V)},[V]),Pn=W(["table"],"table"),Jt=i.useMemo(function(){return p||(mt?L==="max-content"?"auto":"fixed":lt||_e||S.some(function(Me){var Be=Me.ellipsis;return Be})?"fixed":"auto")},[lt,mt,S,p,_e]),fn,pn={colWidths:pt,columCount:S.length,stickyOffsets:st,onHeaderRow:w,fixHeader:lt,scroll:c},In=i.useMemo(function(){return T?null:typeof y=="function"?y():y},[T,y]),Qt=i.createElement(Wi,{data:P,measureColumnWidth:lt||Ze||_e}),Tt=i.createElement(Ia,{colWidths:S.map(function(Me){var Be=Me.width;return Be}),columns:S}),Pt=h!=null?i.createElement("caption",{className:"".concat(n,"-caption")},h):void 0,vr=ar(r,{data:!0}),Vn=ar(r,{aria:!0});if(lt||_e){var cn;typeof fe=="function"?(cn=fe(P,{scrollbarSize:sn,ref:ee,onScroll:ct}),pn.colWidths=S.map(function(Me,Be){var Ct=Me.width,It=Be===S.length-1?Ct-sn:Ct;return typeof It=="number"&&!Number.isNaN(It)?It:0})):cn=i.createElement("div",{style:ne(ne({},Ke),Se),onScroll:Yt,ref:ee,className:Ne("".concat(n,"-body"))},i.createElement(Pn,Xe({style:ne(ne({},qe),{},{tableLayout:Jt})},Vn),Pt,Tt,Qt,!Le&&V&&i.createElement(tr,{stickyOffsets:st,flattenColumns:S},V)));var qn=ne(ne(ne({noData:!P.length},pn),re),{},{direction:u,stickyClassName:J,scrollX:L,tableLayout:Jt,onScroll:ct});fn=i.createElement(i.Fragment,null,x!==!1&&i.createElement(No,Xe({},qn,{stickyTopOffset:Ye,className:"".concat(n,"-header"),ref:G,colGroup:Tt}),mr),cn,Le&&Le!=="top"&&i.createElement(No,Xe({},qn,{stickyBottomOffset:ut,className:"".concat(n,"-summary"),ref:k,colGroup:Tt}),Kt),_e&&ee.current&&ee.current instanceof Element&&i.createElement(ms,{ref:Rt,offsetScroll:bt,scrollBodyRef:ee,onScroll:ct,container:Z,direction:u}))}else fn=i.createElement("div",{style:ne(ne({},Ke),Se),className:Ne("".concat(n,"-content")),onScroll:ct,ref:ee},i.createElement(Pn,Xe({style:ne(ne({},qe),{},{tableLayout:Jt})},Vn),Pt,Tt,x!==!1&&i.createElement(Ro,Xe({},pn,re)),Qt,V&&i.createElement(tr,{stickyOffsets:st,flattenColumns:S},V)));var On=i.createElement("div",Xe({className:Ne(n,o,j(j(j(j(j(j(j(j(j(j({},"".concat(n,"-rtl"),u==="rtl"),"".concat(n,"-ping-left"),ue),"".concat(n,"-ping-right"),ze),"".concat(n,"-layout-fixed"),p==="fixed"),"".concat(n,"-fixed-header"),lt),"".concat(n,"-fixed-column"),mt),"".concat(n,"-fixed-column-gapped"),mt&&z),"".concat(n,"-scroll-horizontal"),Ze),"".concat(n,"-has-fix-left"),S[0]&&S[0].fixed),"".concat(n,"-has-fix-right"),S[S.length-1]&&S[S.length-1].fixed==="right")),style:s,id:g,ref:se},vr),m&&i.createElement(Oo,{className:"".concat(n,"-title")},m(P)),i.createElement("div",{ref:Y,className:"".concat(n,"-container")},fn),f&&i.createElement(Oo,{className:"".concat(n,"-footer")},f(P)));Ze&&(On=i.createElement(jr,{onResize:jn},On));var At=is(S,st,u),Gn=i.useMemo(function(){return{scrollX:L,prefixCls:n,getComponent:W,scrollbarSize:sn,direction:u,fixedInfoList:At,isSticky:_e,supportSticky:Rn,componentWidth:je,fixHeader:lt,fixColumn:mt,horizonScroll:Ze,tableLayout:Jt,rowClassName:a,expandedRowClassName:xe.expandedRowClassName,expandIcon:ie,expandableType:De,expandRowByClick:xe.expandRowByClick,expandedRowRender:xe.expandedRowRender,expandedRowOffset:xe.expandedRowOffset,onTriggerExpand:te,expandIconColumnIndex:xe.expandIconColumnIndex,indentSize:xe.indentSize,allColumnsFixedLeft:S.every(function(Me){return Me.fixed==="left"}),emptyNode:In,columns:ae,flattenColumns:S,onColumnResize:He,colWidths:pt,hoverStartRow:Ee,hoverEndRow:Ie,onHover:ke,rowExpandable:xe.rowExpandable,onRow:$,getRowKey:le,expandedKeys:Ae,childrenColumnName:he,rowHoverable:K,measureRowRender:_}},[L,n,W,sn,u,At,_e,Rn,je,lt,mt,Ze,Jt,a,xe.expandedRowClassName,ie,De,xe.expandRowByClick,xe.expandedRowRender,xe.expandedRowOffset,te,xe.expandIconColumnIndex,xe.indentSize,In,ae,S,He,pt,Ee,Ie,ke,xe.rowExpandable,$,le,Ae,he,K,_]);return i.createElement(Nt.Provider,{value:Gn},On)}var bs=i.forwardRef(ys);function Ka(e){return xa(bs,e)}var wn=Ka();wn.EXPAND_COLUMN=rn;wn.INTERNAL_HOOKS=Un;wn.Column=Mi;wn.ColumnGroup=_i;wn.Summary=wa;var Jr=Gr(null),Ta=Gr(null);function xs(e,t,r){var n=t||1;return r[e+n]-(r[e]||0)}function Cs(e){var t=e.rowInfo,r=e.column,n=e.colIndex,o=e.indent,a=e.index,s=e.component,l=e.renderIndex,d=e.record,c=e.style,p=e.className,u=e.inverse,m=e.getHeight,f=r.render,v=r.dataIndex,h=r.className,g=r.width,x=kt(Ta,["columnsOffset"]),E=x.columnsOffset,y=Pa(t,r,n,o,a),$=y.key,w=y.fixedInfo,_=y.appendCellNode,I=y.additionalCellProps,O=I.style,b=I.colSpan,B=b===void 0?1:b,D=I.rowSpan,U=D===void 0?1:D,A=n-1,N=xs(A,B,E),K=B>1?g-N:0,P=ne(ne(ne({},O),c),{},{flex:"0 0 ".concat(N,"px"),width:"".concat(N,"px"),marginRight:K,pointerEvents:"auto"}),T=i.useMemo(function(){return u?U<=1:B===0||U===0||U>1},[U,B,u]);T?P.visibility="hidden":u&&(P.height=m==null?void 0:m(U));var Q=T?function(){return null}:f,W={};return(U===0||B===0)&&(W.rowSpan=1,W.colSpan=1),i.createElement(Sn,Xe({className:Ne(h,p),ellipsis:r.ellipsis,align:r.align,scope:r.rowScope,component:s,prefixCls:t.prefixCls,key:$,record:d,index:a,renderIndex:l,dataIndex:v,render:Q,shouldCellUpdate:r.shouldCellUpdate},w,{appendNode:_,additionalProps:ne(ne({},I),{},{style:P},W)}))}var Ss=["data","index","className","rowKey","style","extra","getHeight"],ws=i.forwardRef(function(e,t){var r=e.data,n=e.index,o=e.className,a=e.rowKey,s=e.style,l=e.extra,d=e.getHeight,c=_t(e,Ss),p=r.record,u=r.indent,m=r.index,f=kt(Nt,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),v=f.scrollX,h=f.flattenColumns,g=f.prefixCls,x=f.fixColumn,E=f.componentWidth,y=kt(Jr,["getComponent"]),$=y.getComponent,w=$a(p,a,n,u),_=$(["body","row"],"div"),I=$(["body","cell"],"div"),O=w.rowSupportExpand,b=w.expanded,B=w.rowProps,D=w.expandedRowRender,U=w.expandedRowClassName,A;if(O&&b){var N=D(p,n,u+1,b),K=Ra(U,p,n,u),P={};x&&(P={style:j({},"--virtual-width","".concat(E,"px"))});var T="".concat(g,"-expanded-row-cell");A=i.createElement(_,{className:Ne("".concat(g,"-expanded-row"),"".concat(g,"-expanded-row-level-").concat(u+1),K)},i.createElement(Sn,{component:I,prefixCls:g,className:Ne(T,j({},"".concat(T,"-fixed"),x)),additionalProps:P},N))}var Q=ne(ne({},s),{},{width:v});l&&(Q.position="absolute",Q.pointerEvents="none");var W=i.createElement(_,Xe({},B,c,{"data-row-key":a,ref:O?null:t,className:Ne(o,"".concat(g,"-row"),B==null?void 0:B.className,j({},"".concat(g,"-row-extra"),l)),style:ne(ne({},Q),B==null?void 0:B.style)}),h.map(function(le,fe){return i.createElement(Cs,{key:fe,component:I,rowInfo:w,column:le,colIndex:fe,indent:u,index:n,renderIndex:m,record:p,inverse:l,getHeight:d})}));return O?i.createElement("div",{ref:t},W,A):W}),Ko=Cn(ws),Es=i.forwardRef(function(e,t){var r=e.data,n=e.onScroll,o=kt(Nt,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),a=o.flattenColumns,s=o.onColumnResize,l=o.getRowKey,d=o.expandedKeys,c=o.prefixCls,p=o.childrenColumnName,u=o.scrollX,m=o.direction,f=kt(Jr),v=f.sticky,h=f.scrollY,g=f.listItemHeight,x=f.getComponent,E=f.onScroll,y=i.useRef(),$=ka(r,p,d,l),w=i.useMemo(function(){var A=0;return a.map(function(N){var K=N.width,P=N.minWidth,T=N.key,Q=Math.max(K||0,P||0);return A+=Q,[T,Q,A]})},[a]),_=i.useMemo(function(){return w.map(function(A){return A[2]})},[w]);i.useEffect(function(){w.forEach(function(A){var N=Je(A,2),K=N[0],P=N[1];s(K,P)})},[w]),i.useImperativeHandle(t,function(){var A,N={scrollTo:function(P){var T;(T=y.current)===null||T===void 0||T.scrollTo(P)},nativeElement:(A=y.current)===null||A===void 0?void 0:A.nativeElement};return Object.defineProperty(N,"scrollLeft",{get:function(){var P;return((P=y.current)===null||P===void 0?void 0:P.getScrollInfo().x)||0},set:function(P){var T;(T=y.current)===null||T===void 0||T.scrollTo({left:P})}}),Object.defineProperty(N,"scrollTop",{get:function(){var P;return((P=y.current)===null||P===void 0?void 0:P.getScrollInfo().y)||0},set:function(P){var T;(T=y.current)===null||T===void 0||T.scrollTo({top:P})}}),N});var I=function(N,K){var P,T=(P=$[K])===null||P===void 0?void 0:P.record,Q=N.onCell;if(Q){var W,le=Q(T,K);return(W=le==null?void 0:le.rowSpan)!==null&&W!==void 0?W:1}return 1},O=function(N){var K=N.start,P=N.end,T=N.getSize,Q=N.offsetY;if(P<0)return null;for(var W=a.filter(function(Ae){return I(Ae,K)===0}),le=K,fe=function(ie){if(W=W.filter(function(he){return I(he,ie)===0}),!W.length)return le=ie,1},be=K;be>=0&&!fe(be);be-=1);for(var ce=a.filter(function(Ae){return I(Ae,P)!==1}),Ee=P,Ie=function(ie){if(ce=ce.filter(function(he){return I(he,ie)!==1}),!ce.length)return Ee=Math.max(ie-1,P),1},ke=P;ke<$.length&&!Ie(ke);ke+=1);for(var Pe=[],Re=function(ie){var he=$[ie];if(!he)return 1;a.some(function(te){return I(te,ie)>1})&&Pe.push(ie)},xe=le;xe<=Ee;xe+=1)Re(xe);var De=Pe.map(function(Ae){var ie=$[Ae],he=l(ie.record,Ae),te=function(pe){var je=Ae+pe-1,gt=l($[je].record,je),at=T(he,gt);return at.bottom-at.top},oe=T(he);return i.createElement(Ko,{key:Ae,data:ie,rowKey:he,index:Ae,style:{top:-Q+oe.top},extra:!0,getHeight:te})});return De},b=i.useMemo(function(){return{columnsOffset:_}},[_]),B="".concat(c,"-tbody"),D=x(["body","wrapper"]),U={};return v&&(U.position="sticky",U.bottom=0,Ut(v)==="object"&&v.offsetScroll&&(U.bottom=v.offsetScroll)),i.createElement(Ta.Provider,{value:b},i.createElement(pa,{fullHeight:!1,ref:y,prefixCls:"".concat(B,"-virtual"),styles:{horizontalScrollBar:U},className:B,height:h,itemHeight:g||24,data:$,itemKey:function(N){return l(N.record)},component:D,scrollWidth:u,direction:m,onVirtualScroll:function(N){var K,P=N.x;n({currentTarget:(K=y.current)===null||K===void 0?void 0:K.nativeElement,scrollLeft:P})},onScroll:E,extraRender:O},function(A,N,K){var P=l(A.record,N);return i.createElement(Ko,{data:A,rowKey:P,index:N,style:K.style})}))}),ks=Cn(Es),$s=function(t,r){var n=r.ref,o=r.onScroll;return i.createElement(ks,{ref:n,data:t,onScroll:o})};function Ns(e,t){var r=e.data,n=e.columns,o=e.scroll,a=e.sticky,s=e.prefixCls,l=s===void 0?Da:s,d=e.className,c=e.listItemHeight,p=e.components,u=e.onScroll,m=o||{},f=m.x,v=m.y;typeof f!="number"&&(f=1),typeof v!="number"&&(v=500);var h=zt(function(E,y){return Ur(p,E)||y}),g=zt(u),x=i.useMemo(function(){return{sticky:a,scrollY:v,listItemHeight:c,getComponent:h,onScroll:g}},[a,v,c,h,g]);return i.createElement(Jr.Provider,{value:x},i.createElement(wn,Xe({},e,{className:Ne(d,"".concat(l,"-virtual")),scroll:ne(ne({},o),{},{x:f}),components:ne(ne({},p),{},{body:r!=null&&r.length?$s:void 0}),columns:n,internalHooks:Un,tailor:!0,ref:t})))}var Rs=i.forwardRef(Ns);function La(e){return xa(Rs,e)}La();const Ps=e=>null,Is=e=>null;var Qr=i.createContext(null),Os=i.createContext({}),Ds=function(t){for(var r=t.prefixCls,n=t.level,o=t.isStart,a=t.isEnd,s="".concat(r,"-indent-unit"),l=[],d=0;d<n;d+=1)l.push(i.createElement("span",{key:d,className:Ne(s,j(j({},"".concat(s,"-start"),o[d]),"".concat(s,"-end"),a[d]))}));return i.createElement("span",{"aria-hidden":"true",className:"".concat(r,"-indent")},l)};const Ks=i.memo(Ds);var Ts=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],To="open",Lo="close",Ls="---",Hn=function(t){var r,n,o,a=t.eventKey,s=t.className,l=t.style,d=t.dragOver,c=t.dragOverGapTop,p=t.dragOverGapBottom,u=t.isLeaf,m=t.isStart,f=t.isEnd,v=t.expanded,h=t.selected,g=t.checked,x=t.halfChecked,E=t.loading,y=t.domRef,$=t.active,w=t.data,_=t.onMouseMove,I=t.selectable,O=_t(t,Ts),b=Ve.useContext(Qr),B=Ve.useContext(Os),D=Ve.useRef(null),U=Ve.useState(!1),A=Je(U,2),N=A[0],K=A[1],P=!!(b.disabled||t.disabled||(r=B.nodeDisabled)!==null&&r!==void 0&&r.call(B,w)),T=Ve.useMemo(function(){return!b.checkable||t.checkable===!1?!1:b.checkable},[b.checkable,t.checkable]),Q=function(k){P||b.onNodeSelect(k,St(t))},W=function(k){P||!T||t.disableCheckbox||b.onNodeCheck(k,St(t),!g)},le=Ve.useMemo(function(){return typeof I=="boolean"?I:b.selectable},[I,b.selectable]),fe=function(k){b.onNodeClick(k,St(t)),le?Q(k):W(k)},be=function(k){b.onNodeDoubleClick(k,St(t))},ce=function(k){b.onNodeMouseEnter(k,St(t))},Ee=function(k){b.onNodeMouseLeave(k,St(t))},Ie=function(k){b.onNodeContextMenu(k,St(t))},ke=Ve.useMemo(function(){return!!(b.draggable&&(!b.draggable.nodeDraggable||b.draggable.nodeDraggable(w)))},[b.draggable,w]),Pe=function(k){k.stopPropagation(),K(!0),b.onNodeDragStart(k,t);try{k.dataTransfer.setData("text/plain","")}catch{}},Re=function(k){k.preventDefault(),k.stopPropagation(),b.onNodeDragEnter(k,t)},xe=function(k){k.preventDefault(),k.stopPropagation(),b.onNodeDragOver(k,t)},De=function(k){k.stopPropagation(),b.onNodeDragLeave(k,t)},Ae=function(k){k.stopPropagation(),K(!1),b.onNodeDragEnd(k,t)},ie=function(k){k.preventDefault(),k.stopPropagation(),K(!1),b.onNodeDrop(k,t)},he=function(k){E||b.onNodeExpand(k,St(t))},te=Ve.useMemo(function(){var Y=Ot(b.keyEntities,a)||{},k=Y.children;return!!(k||[]).length},[b.keyEntities,a]),oe=Ve.useMemo(function(){return u===!1?!1:u||!b.loadData&&!te||b.loadData&&t.loaded&&!te},[u,b.loadData,te,t.loaded]);Ve.useEffect(function(){E||typeof b.loadData=="function"&&v&&!oe&&!t.loaded&&b.onNodeLoad(St(t))},[E,b.loadData,b.onNodeLoad,v,oe,t]);var ye=Ve.useMemo(function(){var Y;return(Y=b.draggable)!==null&&Y!==void 0&&Y.icon?Ve.createElement("span",{className:"".concat(b.prefixCls,"-draggable-icon")},b.draggable.icon):null},[b.draggable]),pe=function(k){var M=t.switcherIcon||b.switcherIcon;return typeof M=="function"?M(ne(ne({},t),{},{isLeaf:k})):M},je=function(){if(oe){var k=pe(!0);return k!==!1?Ve.createElement("span",{className:Ne("".concat(b.prefixCls,"-switcher"),"".concat(b.prefixCls,"-switcher-noop"))},k):null}var M=pe(!1);return M!==!1?Ve.createElement("span",{onClick:he,className:Ne("".concat(b.prefixCls,"-switcher"),"".concat(b.prefixCls,"-switcher_").concat(v?To:Lo))},M):null},gt=Ve.useMemo(function(){if(!T)return null;var Y=typeof T!="boolean"?T:null;return Ve.createElement("span",{className:Ne("".concat(b.prefixCls,"-checkbox"),j(j(j({},"".concat(b.prefixCls,"-checkbox-checked"),g),"".concat(b.prefixCls,"-checkbox-indeterminate"),!g&&x),"".concat(b.prefixCls,"-checkbox-disabled"),P||t.disableCheckbox)),onClick:W,role:"checkbox","aria-checked":x?"mixed":g,"aria-disabled":P||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},Y)},[T,g,x,P,t.disableCheckbox,t.title]),at=Ve.useMemo(function(){return oe?null:v?To:Lo},[oe,v]),X=Ve.useMemo(function(){return Ve.createElement("span",{className:Ne("".concat(b.prefixCls,"-iconEle"),"".concat(b.prefixCls,"-icon__").concat(at||"docu"),j({},"".concat(b.prefixCls,"-icon_loading"),E))})},[b.prefixCls,at,E]),ae=Ve.useMemo(function(){var Y=!!b.draggable,k=!t.disabled&&Y&&b.dragOverNodeKey===a;return k?b.dropIndicatorRender({dropPosition:b.dropPosition,dropLevelOffset:b.dropLevelOffset,indent:b.indent,prefixCls:b.prefixCls,direction:b.direction}):null},[b.dropPosition,b.dropLevelOffset,b.indent,b.prefixCls,b.direction,b.draggable,b.dragOverNodeKey,b.dropIndicatorRender]),S=Ve.useMemo(function(){var Y=t.title,k=Y===void 0?Ls:Y,M="".concat(b.prefixCls,"-node-content-wrapper"),H;if(b.showIcon){var ue=t.icon||b.icon;H=ue?Ve.createElement("span",{className:Ne("".concat(b.prefixCls,"-iconEle"),"".concat(b.prefixCls,"-icon__customize"))},typeof ue=="function"?ue(t):ue):X}else b.loadData&&E&&(H=X);var me;return typeof k=="function"?me=k(w):b.titleRender?me=b.titleRender(w):me=k,Ve.createElement("span",{ref:D,title:typeof k=="string"?k:"",className:Ne(M,"".concat(M,"-").concat(at||"normal"),j({},"".concat(b.prefixCls,"-node-selected"),!P&&(h||N))),onMouseEnter:ce,onMouseLeave:Ee,onContextMenu:Ie,onClick:fe,onDoubleClick:be},H,Ve.createElement("span",{className:"".concat(b.prefixCls,"-title")},me),ae)},[b.prefixCls,b.showIcon,t,b.icon,X,b.titleRender,w,at,ce,Ee,Ie,fe,be]),F=ar(O,{aria:!0,data:!0}),z=Ot(b.keyEntities,a)||{},L=z.level,re=f[f.length-1],se=!P&&ke,G=b.draggingNodeKey===a,ee=I!==void 0?{"aria-selected":!!I}:void 0;return Ve.createElement("div",Xe({ref:y,role:"treeitem","aria-expanded":u?void 0:v,className:Ne(s,"".concat(b.prefixCls,"-treenode"),(o={},j(j(j(j(j(j(j(j(j(j(o,"".concat(b.prefixCls,"-treenode-disabled"),P),"".concat(b.prefixCls,"-treenode-switcher-").concat(v?"open":"close"),!u),"".concat(b.prefixCls,"-treenode-checkbox-checked"),g),"".concat(b.prefixCls,"-treenode-checkbox-indeterminate"),x),"".concat(b.prefixCls,"-treenode-selected"),h),"".concat(b.prefixCls,"-treenode-loading"),E),"".concat(b.prefixCls,"-treenode-active"),$),"".concat(b.prefixCls,"-treenode-leaf-last"),re),"".concat(b.prefixCls,"-treenode-draggable"),ke),"dragging",G),j(j(j(j(j(j(j(o,"drop-target",b.dropTargetKey===a),"drop-container",b.dropContainerKey===a),"drag-over",!P&&d),"drag-over-gap-top",!P&&c),"drag-over-gap-bottom",!P&&p),"filter-node",(n=b.filterTreeNode)===null||n===void 0?void 0:n.call(b,St(t))),"".concat(b.prefixCls,"-treenode-leaf"),oe))),style:l,draggable:se,onDragStart:se?Pe:void 0,onDragEnter:ke?Re:void 0,onDragOver:ke?xe:void 0,onDragLeave:ke?De:void 0,onDrop:ke?ie:void 0,onDragEnd:ke?Ae:void 0,onMouseMove:_},ee,F),Ve.createElement(Ks,{prefixCls:b.prefixCls,level:L,isStart:m,isEnd:f}),ye,je(),gt,S)};Hn.isTreeNode=1;function Ht(e,t){if(!e)return[];var r=e.slice(),n=r.indexOf(t);return n>=0&&r.splice(n,1),r}function Gt(e,t){var r=(e||[]).slice();return r.indexOf(t)===-1&&r.push(t),r}function eo(e){return e.split("-")}function Ms(e,t){var r=[],n=Ot(t,e);function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];a.forEach(function(s){var l=s.key,d=s.children;r.push(l),o(d)})}return o(n.children),r}function _s(e){if(e.parent){var t=eo(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Bs(e){var t=eo(e.pos);return Number(t[t.length-1])===0}function Mo(e,t,r,n,o,a,s,l,d,c){var p,u=e.clientX,m=e.clientY,f=e.target.getBoundingClientRect(),v=f.top,h=f.height,g=(c==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-u),x=(g-12)/n,E=d.filter(function(P){var T;return(T=l[P])===null||T===void 0||(T=T.children)===null||T===void 0?void 0:T.length}),y=Ot(l,r.eventKey);if(m<v+h/2){var $=s.findIndex(function(P){return P.key===y.key}),w=$<=0?0:$-1,_=s[w].key;y=Ot(l,_)}var I=y.key,O=y,b=y.key,B=0,D=0;if(!E.includes(I))for(var U=0;U<x&&_s(y);U+=1)y=y.parent,D+=1;var A=t.data,N=y.node,K=!0;return Bs(y)&&y.level===0&&m<v+h/2&&a({dragNode:A,dropNode:N,dropPosition:-1})&&y.key===r.eventKey?B=-1:(O.children||[]).length&&E.includes(b)?a({dragNode:A,dropNode:N,dropPosition:0})?B=0:K=!1:D===0?x>-1.5?a({dragNode:A,dropNode:N,dropPosition:1})?B=1:K=!1:a({dragNode:A,dropNode:N,dropPosition:0})?B=0:a({dragNode:A,dropNode:N,dropPosition:1})?B=1:K=!1:a({dragNode:A,dropNode:N,dropPosition:1})?B=1:K=!1,{dropPosition:B,dropLevelOffset:D,dropTargetKey:y.key,dropTargetPos:y.pos,dragOverNodeKey:b,dropContainerKey:B===0?null:((p=y.parent)===null||p===void 0?void 0:p.key)||null,dropAllowed:K}}function _o(e,t){if(e){var r=t.multiple;return r?e.slice():e.length?[e[0]]:e}}function xr(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(Ut(e)==="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return on(!1,"`checkedKeys` is not an array or an object"),null;return t}function Ir(e,t){var r=new Set;function n(o){if(!r.has(o)){var a=Ot(t,o);if(a){r.add(o);var s=a.parent,l=a.node;l.disabled||s&&n(s.key)}}}return(e||[]).forEach(function(o){n(o)}),Ge(r)}const tn={},Or="SELECT_ALL",Dr="SELECT_INVERT",Kr="SELECT_NONE",Bo=[],Ma=(e,t,r=[])=>((t||[]).forEach(n=>{r.push(n),n&&typeof n=="object"&&e in n&&Ma(e,n[e],r)}),r),As=(e,t)=>{const{preserveSelectedRowKeys:r,selectedRowKeys:n,defaultSelectedRowKeys:o,getCheckboxProps:a,getTitleCheckboxProps:s,onChange:l,onSelect:d,onSelectAll:c,onSelectInvert:p,onSelectNone:u,onSelectMultiple:m,columnWidth:f,type:v,selections:h,fixed:g,renderCell:x,hideSelectAll:E,checkStrictly:y=!0}=t||{},{prefixCls:$,data:w,pageData:_,getRecordByKey:I,getRowKey:O,expandType:b,childrenColumnName:B,locale:D,getPopupContainer:U}=e,A=cr(),[N,K]=ri(ie=>ie),[P,T]=sa(n||o||Bo,{value:n}),Q=i.useRef(new Map),W=i.useCallback(ie=>{if(r){const he=new Map;ie.forEach(te=>{let oe=I(te);!oe&&Q.current.has(te)&&(oe=Q.current.get(te)),he.set(te,oe)}),Q.current=he}},[I,r]);i.useEffect(()=>{W(P)},[P]);const le=i.useMemo(()=>Ma(B,_),[B,_]),{keyEntities:fe}=i.useMemo(()=>{if(y)return{keyEntities:null};let ie=w;if(r){const he=new Set(le.map((oe,ye)=>O(oe,ye))),te=Array.from(Q.current).reduce((oe,[ye,pe])=>he.has(ye)?oe:oe.concat(pe),[]);ie=[].concat(Ge(ie),Ge(te))}return Vr(ie,{externalGetKey:O,childrenPropName:B})},[w,O,y,B,r,le]),be=i.useMemo(()=>{const ie=new Map;return le.forEach((he,te)=>{const oe=O(he,te),ye=(a?a(he):null)||{};ie.set(oe,ye)}),ie},[le,O,a]),ce=i.useCallback(ie=>{const he=O(ie);let te;return be.has(he)?te=be.get(O(ie)):te=a?a(ie):void 0,!!(te!=null&&te.disabled)},[be,O]),[Ee,Ie]=i.useMemo(()=>{if(y)return[P||[],[]];const{checkedKeys:ie,halfCheckedKeys:he}=hn(P,!0,fe,ce);return[ie||[],he]},[P,y,fe,ce]),ke=i.useMemo(()=>{const ie=v==="radio"?Ee.slice(0,1):Ee;return new Set(ie)},[Ee,v]),Pe=i.useMemo(()=>v==="radio"?new Set:new Set(Ie),[Ie,v]);i.useEffect(()=>{t||T(Bo)},[!!t]);const Re=i.useCallback((ie,he)=>{let te,oe;W(ie),r?(te=ie,oe=ie.map(ye=>Q.current.get(ye))):(te=[],oe=[],ie.forEach(ye=>{const pe=I(ye);pe!==void 0&&(te.push(ye),oe.push(pe))})),T(te),l==null||l(te,oe,{type:he})},[T,I,l,r]),xe=i.useCallback((ie,he,te,oe)=>{if(d){const ye=te.map(pe=>I(pe));d(I(ie),he,ye,oe)}Re(te,"single")},[d,I,Re]),De=i.useMemo(()=>!h||E?null:(h===!0?[Or,Dr,Kr]:h).map(he=>he===Or?{key:"all",text:D.selectionAll,onSelect(){Re(w.map((te,oe)=>O(te,oe)).filter(te=>{const oe=be.get(te);return!(oe!=null&&oe.disabled)||ke.has(te)}),"all")}}:he===Dr?{key:"invert",text:D.selectInvert,onSelect(){const te=new Set(ke);_.forEach((ye,pe)=>{const je=O(ye,pe),gt=be.get(je);gt!=null&&gt.disabled||(te.has(je)?te.delete(je):te.add(je))});const oe=Array.from(te);p&&(A.deprecated(!1,"onSelectInvert","onChange"),p(oe)),Re(oe,"invert")}}:he===Kr?{key:"none",text:D.selectNone,onSelect(){u==null||u(),Re(Array.from(ke).filter(te=>{const oe=be.get(te);return oe==null?void 0:oe.disabled}),"none")}}:he).map(he=>Object.assign(Object.assign({},he),{onSelect:(...te)=>{var oe,ye;(ye=he.onSelect)===null||ye===void 0||(oe=ye).call.apply(oe,[he].concat(te)),K(null)}})),[h,ke,_,O,p,Re]);return[i.useCallback(ie=>{var he;if(!t)return ie.filter(Y=>Y!==tn);let te=Ge(ie);const oe=new Set(ke),ye=le.map(O).filter(Y=>!be.get(Y).disabled),pe=ye.every(Y=>oe.has(Y)),je=ye.some(Y=>oe.has(Y)),gt=()=>{const Y=[];pe?ye.forEach(M=>{oe.delete(M),Y.push(M)}):ye.forEach(M=>{oe.has(M)||(oe.add(M),Y.push(M))});const k=Array.from(oe);c==null||c(!pe,k.map(M=>I(M)),Y.map(M=>I(M))),Re(k,"all"),K(null)};let at,X;if(v!=="radio"){let Y;if(De){const ze={getPopupContainer:U,items:De.map((Qe,rt)=>{const{key:Ce,text:ht,onSelect:it}=Qe;return{key:Ce??rt,onClick:()=>{it==null||it(ye)},label:ht}})};Y=i.createElement("div",{className:`${$}-selection-extra`},i.createElement(qr,{menu:ze,getPopupContainer:U},i.createElement("span",null,i.createElement(bl,null))))}const k=le.map((ze,Qe)=>{const rt=O(ze,Qe),Ce=be.get(rt)||{};return Object.assign({checked:oe.has(rt)},Ce)}).filter(({disabled:ze})=>ze),M=!!k.length&&k.length===le.length,H=M&&k.every(({checked:ze})=>ze),ue=M&&k.some(({checked:ze})=>ze),me=(s==null?void 0:s())||{},{onChange:Te,disabled:de}=me;X=i.createElement(lr,Object.assign({"aria-label":Y?"Custom selection":"Select all"},me,{checked:M?H:!!le.length&&pe,indeterminate:M?!H&&ue:!pe&&je,onChange:ze=>{gt(),Te==null||Te(ze)},disabled:de??(le.length===0||M),skipGroup:!0})),at=!E&&i.createElement("div",{className:`${$}-selection`},X,Y)}let ae;v==="radio"?ae=(Y,k,M)=>{const H=O(k,M),ue=oe.has(H),me=be.get(H);return{node:i.createElement(ma,Object.assign({},me,{checked:ue,onClick:Te=>{var de;Te.stopPropagation(),(de=me==null?void 0:me.onClick)===null||de===void 0||de.call(me,Te)},onChange:Te=>{var de;oe.has(H)||xe(H,!0,[H],Te.nativeEvent),(de=me==null?void 0:me.onChange)===null||de===void 0||de.call(me,Te)}})),checked:ue}}:ae=(Y,k,M)=>{var H;const ue=O(k,M),me=oe.has(ue),Te=Pe.has(ue),de=be.get(ue);let ze;return b==="nest"?ze=Te:ze=(H=de==null?void 0:de.indeterminate)!==null&&H!==void 0?H:Te,{node:i.createElement(lr,Object.assign({},de,{indeterminate:ze,checked:me,skipGroup:!0,onClick:Qe=>{var rt;Qe.stopPropagation(),(rt=de==null?void 0:de.onClick)===null||rt===void 0||rt.call(de,Qe)},onChange:Qe=>{var rt;const{nativeEvent:Ce}=Qe,{shiftKey:ht}=Ce,it=ye.indexOf(ue),dt=Ee.some(tt=>ye.includes(tt));if(ht&&y&&dt){const tt=N(it,ye,oe),pt=Array.from(oe);m==null||m(!me,pt.map(st=>I(st)),tt.map(st=>I(st))),Re(pt,"multiple")}else{const tt=Ee;if(y){const pt=me?Ht(tt,ue):Gt(tt,ue);xe(ue,!me,pt,Ce)}else{const pt=hn([].concat(Ge(tt),[ue]),!0,fe,ce),{checkedKeys:st,halfCheckedKeys:lt}=pt;let Ze=st;if(me){const mt=new Set(st);mt.delete(ue),Ze=hn(Array.from(mt),{halfCheckedKeys:lt},fe,ce).checkedKeys}xe(ue,!me,Ze,Ce)}}K(me?null:it),(rt=de==null?void 0:de.onChange)===null||rt===void 0||rt.call(de,Qe)}})),checked:me}};const S=(Y,k,M)=>{const{node:H,checked:ue}=ae(Y,k,M);return x?x(ue,k,M,H):H};if(!te.includes(tn))if(te.findIndex(Y=>{var k;return((k=Y[Bn])===null||k===void 0?void 0:k.columnType)==="EXPAND_COLUMN"})===0){const[Y,...k]=te;te=[Y,tn].concat(Ge(k))}else te=[tn].concat(Ge(te));const F=te.indexOf(tn);te=te.filter((Y,k)=>Y!==tn||k===F);const z=te[F-1],L=te[F+1];let re=g;re===void 0&&((L==null?void 0:L.fixed)!==void 0?re=L.fixed:(z==null?void 0:z.fixed)!==void 0&&(re=z.fixed)),re&&z&&((he=z[Bn])===null||he===void 0?void 0:he.columnType)==="EXPAND_COLUMN"&&z.fixed===void 0&&(z.fixed=re);const se=Ne(`${$}-selection-col`,{[`${$}-selection-col-with-dropdown`]:h&&v==="checkbox"}),G=()=>t!=null&&t.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(X):t.columnTitle:at,ee={fixed:re,width:f,className:`${$}-selection-column`,title:G(),render:S,onCell:t.onCell,align:t.align,[Bn]:{className:se}};return te.map(Y=>Y===tn?ee:Y)},[O,le,t,Ee,ke,Pe,f,De,b,be,m,xe,ce]),ke]};function Fs(e){return t=>{const{prefixCls:r,onExpand:n,record:o,expanded:a,expandable:s}=t,l=`${r}-row-expand-icon`;return i.createElement("button",{type:"button",onClick:d=>{n(o,d),d.stopPropagation()},className:Ne(l,{[`${l}-spaced`]:!s,[`${l}-expanded`]:s&&a,[`${l}-collapsed`]:s&&!a}),"aria-label":a?e.collapse:e.expand,"aria-expanded":a})}}function Hs(e){return(r,n)=>{const o=r.querySelector(`.${e}-container`);let a=n;if(o){const s=getComputedStyle(o),l=Number.parseInt(s.borderLeftWidth,10),d=Number.parseInt(s.borderRightWidth,10);a=n-l-d}return a}}const ln=(e,t)=>"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function En(e,t){return t?`${t}-${e}`:`${e}`}const pr=(e,t)=>typeof e=="function"?e(t):e,zs=(e,t)=>{const r=pr(e,t);return Object.prototype.toString.call(r)==="[object Object]"?"":r};var Us={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},js=function(t,r){return i.createElement(jt,Xe({},t,{ref:r,icon:Us}))},Ws=i.forwardRef(js),Vs=function(t){var r=t.dropPosition,n=t.dropLevelOffset,o=t.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(r){case-1:a.top=0,a.left=-n*o;break;case 1:a.bottom=0,a.left=-n*o;break;case 0:a.bottom=0,a.left=o;break}return Ve.createElement("div",{style:a})};function _a(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function qs(e,t){var r=i.useState(!1),n=Je(r,2),o=n[0],a=n[1];an(function(){if(o)return e(),function(){t()}},[o]),an(function(){return a(!0),function(){a(!1)}},[])}var Gs=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Xs=i.forwardRef(function(e,t){var r=e.className,n=e.style,o=e.motion,a=e.motionNodes,s=e.motionType,l=e.onMotionStart,d=e.onMotionEnd,c=e.active,p=e.treeNodeRequiredProps,u=_t(e,Gs),m=i.useState(!0),f=Je(m,2),v=f[0],h=f[1],g=i.useContext(Qr),x=g.prefixCls,E=a&&s!=="hide";an(function(){a&&E!==v&&h(E)},[a]);var y=function(){a&&l()},$=i.useRef(!1),w=function(){a&&!$.current&&($.current=!0,d())};qs(y,w);var _=function(O){E===O&&w()};return a?i.createElement(xl,Xe({ref:t,visible:v},o,{motionAppear:s==="show",onVisibleChanged:_}),function(I,O){var b=I.className,B=I.style;return i.createElement("div",{ref:O,className:Ne("".concat(x,"-treenode-motion"),b),style:B},a.map(function(D){var U=Object.assign({},(_a(D.data),D.data)),A=D.title,N=D.key,K=D.isStart,P=D.isEnd;delete U.children;var T=_n(N,p);return i.createElement(Hn,Xe({},U,T,{title:A,active:c,data:D.data,key:N,isStart:K,isEnd:P}))}))}):i.createElement(Hn,Xe({domRef:t,className:r,style:n},u,{active:c}))});function Ys(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.length,n=t.length;if(Math.abs(r-n)!==1)return{add:!1,key:null};function o(a,s){var l=new Map;a.forEach(function(c){l.set(c,!0)});var d=s.filter(function(c){return!l.has(c)});return d.length===1?d[0]:null}return r<n?{add:!0,key:o(e,t)}:{add:!1,key:o(t,e)}}function Ao(e,t,r){var n=e.findIndex(function(l){return l.key===r}),o=e[n+1],a=t.findIndex(function(l){return l.key===r});if(o){var s=t.findIndex(function(l){return l.key===o.key});return t.slice(a+1,s)}return t.slice(a+1)}var Zs=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Fo={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Js=function(){},dn="RC_TREE_MOTION_".concat(Math.random()),Tr={key:dn},Ba={key:dn,level:0,index:0,pos:"0",node:Tr,nodes:[Tr]},Ho={parent:null,children:[],pos:Ba.pos,data:Tr,title:null,key:dn,isStart:[],isEnd:[]};function zo(e,t,r,n){return t===!1||!r?e:e.slice(0,Math.ceil(r/n)+1)}function Uo(e){var t=e.key,r=e.pos;return zn(t,r)}function Qs(e){for(var t=String(e.data.key),r=e;r.parent;)r=r.parent,t="".concat(r.data.key," > ").concat(t);return t}var ec=i.forwardRef(function(e,t){var r=e.prefixCls,n=e.data;e.selectable,e.checkable;var o=e.expandedKeys,a=e.selectedKeys,s=e.checkedKeys,l=e.loadedKeys,d=e.loadingKeys,c=e.halfCheckedKeys,p=e.keyEntities,u=e.disabled,m=e.dragging,f=e.dragOverNodeKey,v=e.dropPosition,h=e.motion,g=e.height,x=e.itemHeight,E=e.virtual,y=e.scrollWidth,$=e.focusable,w=e.activeItem,_=e.focused,I=e.tabIndex,O=e.onKeyDown,b=e.onFocus,B=e.onBlur,D=e.onActiveChange,U=e.onListChangeStart,A=e.onListChangeEnd,N=_t(e,Zs),K=i.useRef(null),P=i.useRef(null);i.useImperativeHandle(t,function(){return{scrollTo:function(ae){K.current.scrollTo(ae)},getIndentWidth:function(){return P.current.offsetWidth}}});var T=i.useState(o),Q=Je(T,2),W=Q[0],le=Q[1],fe=i.useState(n),be=Je(fe,2),ce=be[0],Ee=be[1],Ie=i.useState(n),ke=Je(Ie,2),Pe=ke[0],Re=ke[1],xe=i.useState([]),De=Je(xe,2),Ae=De[0],ie=De[1],he=i.useState(null),te=Je(he,2),oe=te[0],ye=te[1],pe=i.useRef(n);pe.current=n;function je(){var X=pe.current;Ee(X),Re(X),ie([]),ye(null),A()}an(function(){le(o);var X=Ys(W,o);if(X.key!==null)if(X.add){var ae=ce.findIndex(function(se){var G=se.key;return G===X.key}),S=zo(Ao(ce,n,X.key),E,g,x),F=ce.slice();F.splice(ae+1,0,Ho),Re(F),ie(S),ye("show")}else{var z=n.findIndex(function(se){var G=se.key;return G===X.key}),L=zo(Ao(n,ce,X.key),E,g,x),re=n.slice();re.splice(z+1,0,Ho),Re(re),ie(L),ye("hide")}else ce!==n&&(Ee(n),Re(n))},[o,n]),i.useEffect(function(){m||je()},[m]);var gt=h?Pe:n,at={expandedKeys:o,selectedKeys:a,loadedKeys:l,loadingKeys:d,checkedKeys:s,halfCheckedKeys:c,dragOverNodeKey:f,dropPosition:v,keyEntities:p};return i.createElement(i.Fragment,null,_&&w&&i.createElement("span",{style:Fo,"aria-live":"assertive"},Qs(w)),i.createElement("div",null,i.createElement("input",{style:Fo,disabled:$===!1||u,tabIndex:$!==!1?I:null,onKeyDown:O,onFocus:b,onBlur:B,value:"",onChange:Js,"aria-label":"for screen reader"})),i.createElement("div",{className:"".concat(r,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},i.createElement("div",{className:"".concat(r,"-indent")},i.createElement("div",{ref:P,className:"".concat(r,"-indent-unit")}))),i.createElement(pa,Xe({},N,{data:gt,itemKey:Uo,height:g,fullHeight:!1,virtual:E,itemHeight:x,scrollWidth:y,prefixCls:"".concat(r,"-list"),ref:K,role:"tree",onVisibleChange:function(ae){ae.every(function(S){return Uo(S)!==dn})&&je()}}),function(X){var ae=X.pos,S=Object.assign({},(_a(X.data),X.data)),F=X.title,z=X.key,L=X.isStart,re=X.isEnd,se=zn(z,ae);delete S.key,delete S.children;var G=_n(se,at);return i.createElement(Xs,Xe({},S,G,{title:F,active:!!w&&z===w.key,pos:ae,data:X.data,isStart:L,isEnd:re,motion:h,motionNodes:z===dn?Ae:null,motionType:oe,onMotionStart:U,onMotionEnd:je,treeNodeRequiredProps:at,onMouseMove:function(){D(null)}}))}))}),tc=10,to=function(e){Cl(r,e);var t=Sl(r);function r(){var n;wl(this,r);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),j(Ue(n),"destroyed",!1),j(Ue(n),"delayedDragEnterLogic",void 0),j(Ue(n),"loadingRetryTimes",{}),j(Ue(n),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:bn()}),j(Ue(n),"dragStartMousePosition",null),j(Ue(n),"dragNodeProps",null),j(Ue(n),"currentMouseOverDroppableNodeKey",null),j(Ue(n),"listRef",i.createRef()),j(Ue(n),"onNodeDragStart",function(l,d){var c=n.state,p=c.expandedKeys,u=c.keyEntities,m=n.props.onDragStart,f=d.eventKey;n.dragNodeProps=d,n.dragStartMousePosition={x:l.clientX,y:l.clientY};var v=Ht(p,f);n.setState({draggingNodeKey:f,dragChildrenKeys:Ms(f,u),indent:n.listRef.current.getIndentWidth()}),n.setExpandedKeys(v),window.addEventListener("dragend",n.onWindowDragEnd),m==null||m({event:l,node:St(d)})}),j(Ue(n),"onNodeDragEnter",function(l,d){var c=n.state,p=c.expandedKeys,u=c.keyEntities,m=c.dragChildrenKeys,f=c.flattenNodes,v=c.indent,h=n.props,g=h.onDragEnter,x=h.onExpand,E=h.allowDrop,y=h.direction,$=d.pos,w=d.eventKey;if(n.currentMouseOverDroppableNodeKey!==w&&(n.currentMouseOverDroppableNodeKey=w),!n.dragNodeProps){n.resetDragState();return}var _=Mo(l,n.dragNodeProps,d,v,n.dragStartMousePosition,E,f,u,p,y),I=_.dropPosition,O=_.dropLevelOffset,b=_.dropTargetKey,B=_.dropContainerKey,D=_.dropTargetPos,U=_.dropAllowed,A=_.dragOverNodeKey;if(m.includes(b)||!U){n.resetDragState();return}if(n.delayedDragEnterLogic||(n.delayedDragEnterLogic={}),Object.keys(n.delayedDragEnterLogic).forEach(function(N){clearTimeout(n.delayedDragEnterLogic[N])}),n.dragNodeProps.eventKey!==d.eventKey&&(l.persist(),n.delayedDragEnterLogic[$]=window.setTimeout(function(){if(n.state.draggingNodeKey!==null){var N=Ge(p),K=Ot(u,d.eventKey);K&&(K.children||[]).length&&(N=Gt(p,d.eventKey)),n.props.hasOwnProperty("expandedKeys")||n.setExpandedKeys(N),x==null||x(N,{node:St(d),expanded:!0,nativeEvent:l.nativeEvent})}},800)),n.dragNodeProps.eventKey===b&&O===0){n.resetDragState();return}n.setState({dragOverNodeKey:A,dropPosition:I,dropLevelOffset:O,dropTargetKey:b,dropContainerKey:B,dropTargetPos:D,dropAllowed:U}),g==null||g({event:l,node:St(d),expandedKeys:p})}),j(Ue(n),"onNodeDragOver",function(l,d){var c=n.state,p=c.dragChildrenKeys,u=c.flattenNodes,m=c.keyEntities,f=c.expandedKeys,v=c.indent,h=n.props,g=h.onDragOver,x=h.allowDrop,E=h.direction;if(n.dragNodeProps){var y=Mo(l,n.dragNodeProps,d,v,n.dragStartMousePosition,x,u,m,f,E),$=y.dropPosition,w=y.dropLevelOffset,_=y.dropTargetKey,I=y.dropContainerKey,O=y.dropTargetPos,b=y.dropAllowed,B=y.dragOverNodeKey;p.includes(_)||!b||(n.dragNodeProps.eventKey===_&&w===0?n.state.dropPosition===null&&n.state.dropLevelOffset===null&&n.state.dropTargetKey===null&&n.state.dropContainerKey===null&&n.state.dropTargetPos===null&&n.state.dropAllowed===!1&&n.state.dragOverNodeKey===null||n.resetDragState():$===n.state.dropPosition&&w===n.state.dropLevelOffset&&_===n.state.dropTargetKey&&I===n.state.dropContainerKey&&O===n.state.dropTargetPos&&b===n.state.dropAllowed&&B===n.state.dragOverNodeKey||n.setState({dropPosition:$,dropLevelOffset:w,dropTargetKey:_,dropContainerKey:I,dropTargetPos:O,dropAllowed:b,dragOverNodeKey:B}),g==null||g({event:l,node:St(d)}))}}),j(Ue(n),"onNodeDragLeave",function(l,d){n.currentMouseOverDroppableNodeKey===d.eventKey&&!l.currentTarget.contains(l.relatedTarget)&&(n.resetDragState(),n.currentMouseOverDroppableNodeKey=null);var c=n.props.onDragLeave;c==null||c({event:l,node:St(d)})}),j(Ue(n),"onWindowDragEnd",function(l){n.onNodeDragEnd(l,null,!0),window.removeEventListener("dragend",n.onWindowDragEnd)}),j(Ue(n),"onNodeDragEnd",function(l,d){var c=n.props.onDragEnd;n.setState({dragOverNodeKey:null}),n.cleanDragState(),c==null||c({event:l,node:St(d)}),n.dragNodeProps=null,window.removeEventListener("dragend",n.onWindowDragEnd)}),j(Ue(n),"onNodeDrop",function(l,d){var c,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=n.state,m=u.dragChildrenKeys,f=u.dropPosition,v=u.dropTargetKey,h=u.dropTargetPos,g=u.dropAllowed;if(g){var x=n.props.onDrop;if(n.setState({dragOverNodeKey:null}),n.cleanDragState(),v!==null){var E=ne(ne({},_n(v,n.getTreeNodeRequiredProps())),{},{active:((c=n.getActiveItem())===null||c===void 0?void 0:c.key)===v,data:Ot(n.state.keyEntities,v).node}),y=m.includes(v);on(!y,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var $=eo(h),w={event:l,node:St(E),dragNode:n.dragNodeProps?St(n.dragNodeProps):null,dragNodesKeys:[n.dragNodeProps.eventKey].concat(m),dropToGap:f!==0,dropPosition:f+Number($[$.length-1])};p||x==null||x(w),n.dragNodeProps=null}}}),j(Ue(n),"cleanDragState",function(){var l=n.state.draggingNodeKey;l!==null&&n.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),n.dragStartMousePosition=null,n.currentMouseOverDroppableNodeKey=null}),j(Ue(n),"triggerExpandActionExpand",function(l,d){var c=n.state,p=c.expandedKeys,u=c.flattenNodes,m=d.expanded,f=d.key,v=d.isLeaf;if(!(v||l.shiftKey||l.metaKey||l.ctrlKey)){var h=u.filter(function(x){return x.key===f})[0],g=St(ne(ne({},_n(f,n.getTreeNodeRequiredProps())),{},{data:h.data}));n.setExpandedKeys(m?Ht(p,f):Gt(p,f)),n.onNodeExpand(l,g)}}),j(Ue(n),"onNodeClick",function(l,d){var c=n.props,p=c.onClick,u=c.expandAction;u==="click"&&n.triggerExpandActionExpand(l,d),p==null||p(l,d)}),j(Ue(n),"onNodeDoubleClick",function(l,d){var c=n.props,p=c.onDoubleClick,u=c.expandAction;u==="doubleClick"&&n.triggerExpandActionExpand(l,d),p==null||p(l,d)}),j(Ue(n),"onNodeSelect",function(l,d){var c=n.state.selectedKeys,p=n.state,u=p.keyEntities,m=p.fieldNames,f=n.props,v=f.onSelect,h=f.multiple,g=d.selected,x=d[m.key],E=!g;E?h?c=Gt(c,x):c=[x]:c=Ht(c,x);var y=c.map(function($){var w=Ot(u,$);return w?w.node:null}).filter(Boolean);n.setUncontrolledState({selectedKeys:c}),v==null||v(c,{event:"select",selected:E,node:d,selectedNodes:y,nativeEvent:l.nativeEvent})}),j(Ue(n),"onNodeCheck",function(l,d,c){var p=n.state,u=p.keyEntities,m=p.checkedKeys,f=p.halfCheckedKeys,v=n.props,h=v.checkStrictly,g=v.onCheck,x=d.key,E,y={event:"check",node:d,checked:c,nativeEvent:l.nativeEvent};if(h){var $=c?Gt(m,x):Ht(m,x),w=Ht(f,x);E={checked:$,halfChecked:w},y.checkedNodes=$.map(function(D){return Ot(u,D)}).filter(Boolean).map(function(D){return D.node}),n.setUncontrolledState({checkedKeys:$})}else{var _=hn([].concat(Ge(m),[x]),!0,u),I=_.checkedKeys,O=_.halfCheckedKeys;if(!c){var b=new Set(I);b.delete(x);var B=hn(Array.from(b),{halfCheckedKeys:O},u);I=B.checkedKeys,O=B.halfCheckedKeys}E=I,y.checkedNodes=[],y.checkedNodesPositions=[],y.halfCheckedKeys=O,I.forEach(function(D){var U=Ot(u,D);if(U){var A=U.node,N=U.pos;y.checkedNodes.push(A),y.checkedNodesPositions.push({node:A,pos:N})}}),n.setUncontrolledState({checkedKeys:I},!1,{halfCheckedKeys:O})}g==null||g(E,y)}),j(Ue(n),"onNodeLoad",function(l){var d,c=l.key,p=n.state.keyEntities,u=Ot(p,c);if(!(u!=null&&(d=u.children)!==null&&d!==void 0&&d.length)){var m=new Promise(function(f,v){n.setState(function(h){var g=h.loadedKeys,x=g===void 0?[]:g,E=h.loadingKeys,y=E===void 0?[]:E,$=n.props,w=$.loadData,_=$.onLoad;if(!w||x.includes(c)||y.includes(c))return null;var I=w(l);return I.then(function(){var O=n.state.loadedKeys,b=Gt(O,c);_==null||_(b,{event:"load",node:l}),n.setUncontrolledState({loadedKeys:b}),n.setState(function(B){return{loadingKeys:Ht(B.loadingKeys,c)}}),f()}).catch(function(O){if(n.setState(function(B){return{loadingKeys:Ht(B.loadingKeys,c)}}),n.loadingRetryTimes[c]=(n.loadingRetryTimes[c]||0)+1,n.loadingRetryTimes[c]>=tc){var b=n.state.loadedKeys;on(!1,"Retry for `loadData` many times but still failed. No more retry."),n.setUncontrolledState({loadedKeys:Gt(b,c)}),f()}v(O)}),{loadingKeys:Gt(y,c)}})});return m.catch(function(){}),m}}),j(Ue(n),"onNodeMouseEnter",function(l,d){var c=n.props.onMouseEnter;c==null||c({event:l,node:d})}),j(Ue(n),"onNodeMouseLeave",function(l,d){var c=n.props.onMouseLeave;c==null||c({event:l,node:d})}),j(Ue(n),"onNodeContextMenu",function(l,d){var c=n.props.onRightClick;c&&(l.preventDefault(),c({event:l,node:d}))}),j(Ue(n),"onFocus",function(){var l=n.props.onFocus;n.setState({focused:!0});for(var d=arguments.length,c=new Array(d),p=0;p<d;p++)c[p]=arguments[p];l==null||l.apply(void 0,c)}),j(Ue(n),"onBlur",function(){var l=n.props.onBlur;n.setState({focused:!1}),n.onActiveChange(null);for(var d=arguments.length,c=new Array(d),p=0;p<d;p++)c[p]=arguments[p];l==null||l.apply(void 0,c)}),j(Ue(n),"getTreeNodeRequiredProps",function(){var l=n.state,d=l.expandedKeys,c=l.selectedKeys,p=l.loadedKeys,u=l.loadingKeys,m=l.checkedKeys,f=l.halfCheckedKeys,v=l.dragOverNodeKey,h=l.dropPosition,g=l.keyEntities;return{expandedKeys:d||[],selectedKeys:c||[],loadedKeys:p||[],loadingKeys:u||[],checkedKeys:m||[],halfCheckedKeys:f||[],dragOverNodeKey:v,dropPosition:h,keyEntities:g}}),j(Ue(n),"setExpandedKeys",function(l){var d=n.state,c=d.treeData,p=d.fieldNames,u=br(c,l,p);n.setUncontrolledState({expandedKeys:l,flattenNodes:u},!0)}),j(Ue(n),"onNodeExpand",function(l,d){var c=n.state.expandedKeys,p=n.state,u=p.listChanging,m=p.fieldNames,f=n.props,v=f.onExpand,h=f.loadData,g=d.expanded,x=d[m.key];if(!u){var E=c.includes(x),y=!g;if(on(g&&E||!g&&!E,"Expand state not sync with index check"),c=y?Gt(c,x):Ht(c,x),n.setExpandedKeys(c),v==null||v(c,{node:d,expanded:y,nativeEvent:l.nativeEvent}),y&&h){var $=n.onNodeLoad(d);$&&$.then(function(){var w=br(n.state.treeData,c,m);n.setUncontrolledState({flattenNodes:w})}).catch(function(){var w=n.state.expandedKeys,_=Ht(w,x);n.setExpandedKeys(_)})}}}),j(Ue(n),"onListChangeStart",function(){n.setUncontrolledState({listChanging:!0})}),j(Ue(n),"onListChangeEnd",function(){setTimeout(function(){n.setUncontrolledState({listChanging:!1})})}),j(Ue(n),"onActiveChange",function(l){var d=n.state.activeKey,c=n.props,p=c.onActiveChange,u=c.itemScrollOffset,m=u===void 0?0:u;d!==l&&(n.setState({activeKey:l}),l!==null&&n.scrollTo({key:l,offset:m}),p==null||p(l))}),j(Ue(n),"getActiveItem",function(){var l=n.state,d=l.activeKey,c=l.flattenNodes;return d===null?null:c.find(function(p){var u=p.key;return u===d})||null}),j(Ue(n),"offsetActiveKey",function(l){var d=n.state,c=d.flattenNodes,p=d.activeKey,u=c.findIndex(function(v){var h=v.key;return h===p});u===-1&&l<0&&(u=c.length),u=(u+l+c.length)%c.length;var m=c[u];if(m){var f=m.key;n.onActiveChange(f)}else n.onActiveChange(null)}),j(Ue(n),"onKeyDown",function(l){var d=n.state,c=d.activeKey,p=d.expandedKeys,u=d.checkedKeys,m=d.fieldNames,f=n.props,v=f.onKeyDown,h=f.checkable,g=f.selectable;switch(l.which){case nn.UP:{n.offsetActiveKey(-1),l.preventDefault();break}case nn.DOWN:{n.offsetActiveKey(1),l.preventDefault();break}}var x=n.getActiveItem();if(x&&x.data){var E=n.getTreeNodeRequiredProps(),y=x.data.isLeaf===!1||!!(x.data[m.children]||[]).length,$=St(ne(ne({},_n(c,E)),{},{data:x.data,active:!0}));switch(l.which){case nn.LEFT:{y&&p.includes(c)?n.onNodeExpand({},$):x.parent&&n.onActiveChange(x.parent.key),l.preventDefault();break}case nn.RIGHT:{y&&!p.includes(c)?n.onNodeExpand({},$):x.children&&x.children.length&&n.onActiveChange(x.children[0].key),l.preventDefault();break}case nn.ENTER:case nn.SPACE:{h&&!$.disabled&&$.checkable!==!1&&!$.disableCheckbox?n.onNodeCheck({},$,!u.includes(c)):!h&&g&&!$.disabled&&$.selectable!==!1&&n.onNodeSelect({},$);break}}}v==null||v(l)}),j(Ue(n),"setUncontrolledState",function(l){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!n.destroyed){var p=!1,u=!0,m={};Object.keys(l).forEach(function(f){if(n.props.hasOwnProperty(f)){u=!1;return}p=!0,m[f]=l[f]}),p&&(!d||u)&&n.setState(ne(ne({},m),c))}}),j(Ue(n),"scrollTo",function(l){n.listRef.current.scrollTo(l)}),n}return El(r,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props,a=o.activeKey,s=o.itemScrollOffset,l=s===void 0?0:s;a!==void 0&&a!==this.state.activeKey&&(this.setState({activeKey:a}),a!==null&&this.scrollTo({key:a,offset:l}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o=this.state,a=o.focused,s=o.flattenNodes,l=o.keyEntities,d=o.draggingNodeKey,c=o.activeKey,p=o.dropLevelOffset,u=o.dropContainerKey,m=o.dropTargetKey,f=o.dropPosition,v=o.dragOverNodeKey,h=o.indent,g=this.props,x=g.prefixCls,E=g.className,y=g.style,$=g.showLine,w=g.focusable,_=g.tabIndex,I=_===void 0?0:_,O=g.selectable,b=g.showIcon,B=g.icon,D=g.switcherIcon,U=g.draggable,A=g.checkable,N=g.checkStrictly,K=g.disabled,P=g.motion,T=g.loadData,Q=g.filterTreeNode,W=g.height,le=g.itemHeight,fe=g.scrollWidth,be=g.virtual,ce=g.titleRender,Ee=g.dropIndicatorRender,Ie=g.onContextMenu,ke=g.onScroll,Pe=g.direction,Re=g.rootClassName,xe=g.rootStyle,De=ar(this.props,{aria:!0,data:!0}),Ae;U&&(Ut(U)==="object"?Ae=U:typeof U=="function"?Ae={nodeDraggable:U}:Ae={});var ie={prefixCls:x,selectable:O,showIcon:b,icon:B,switcherIcon:D,draggable:Ae,draggingNodeKey:d,checkable:A,checkStrictly:N,disabled:K,keyEntities:l,dropLevelOffset:p,dropContainerKey:u,dropTargetKey:m,dropPosition:f,dragOverNodeKey:v,indent:h,direction:Pe,dropIndicatorRender:Ee,loadData:T,filterTreeNode:Q,titleRender:ce,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return i.createElement(Qr.Provider,{value:ie},i.createElement("div",{className:Ne(x,E,Re,j(j(j({},"".concat(x,"-show-line"),$),"".concat(x,"-focused"),a),"".concat(x,"-active-focused"),c!==null)),style:xe},i.createElement(ec,Xe({ref:this.listRef,prefixCls:x,style:y,data:s,disabled:K,selectable:O,checkable:!!A,motion:P,dragging:d!==null,height:W,itemHeight:le,virtual:be,focusable:w,focused:a,tabIndex:I,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Ie,onScroll:ke,scrollWidth:fe},this.getTreeNodeRequiredProps(),De))))}}],[{key:"getDerivedStateFromProps",value:function(o,a){var s=a.prevProps,l={prevProps:o};function d(I){return!s&&o.hasOwnProperty(I)||s&&s[I]!==o[I]}var c,p=a.fieldNames;if(d("fieldNames")&&(p=bn(o.fieldNames),l.fieldNames=p),d("treeData")?c=o.treeData:d("children")&&(on(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),c=ha(o.children)),c){l.treeData=c;var u=Vr(c,{fieldNames:p});l.keyEntities=ne(j({},dn,Ba),u.keyEntities)}var m=l.keyEntities||a.keyEntities;if(d("expandedKeys")||s&&d("autoExpandParent"))l.expandedKeys=o.autoExpandParent||!s&&o.defaultExpandParent?Ir(o.expandedKeys,m):o.expandedKeys;else if(!s&&o.defaultExpandAll){var f=ne({},m);delete f[dn];var v=[];Object.keys(f).forEach(function(I){var O=f[I];O.children&&O.children.length&&v.push(O.key)}),l.expandedKeys=v}else!s&&o.defaultExpandedKeys&&(l.expandedKeys=o.autoExpandParent||o.defaultExpandParent?Ir(o.defaultExpandedKeys,m):o.defaultExpandedKeys);if(l.expandedKeys||delete l.expandedKeys,c||l.expandedKeys){var h=br(c||a.treeData,l.expandedKeys||a.expandedKeys,p);l.flattenNodes=h}if(o.selectable&&(d("selectedKeys")?l.selectedKeys=_o(o.selectedKeys,o):!s&&o.defaultSelectedKeys&&(l.selectedKeys=_o(o.defaultSelectedKeys,o))),o.checkable){var g;if(d("checkedKeys")?g=xr(o.checkedKeys)||{}:!s&&o.defaultCheckedKeys?g=xr(o.defaultCheckedKeys)||{}:c&&(g=xr(o.checkedKeys)||{checkedKeys:a.checkedKeys,halfCheckedKeys:a.halfCheckedKeys}),g){var x=g,E=x.checkedKeys,y=E===void 0?[]:E,$=x.halfCheckedKeys,w=$===void 0?[]:$;if(!o.checkStrictly){var _=hn(y,!0,m);y=_.checkedKeys,w=_.halfCheckedKeys}l.checkedKeys=y,l.halfCheckedKeys=w}}return d("loadedKeys")&&(l.loadedKeys=o.loadedKeys),l}}]),r}(i.Component);j(to,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Vs,allowDrop:function(){return!0},expandAction:!1});j(to,"TreeNode",Hn);var nc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},rc=function(t,r){return i.createElement(jt,Xe({},t,{ref:r,icon:nc}))},Aa=i.forwardRef(rc),oc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},ac=function(t,r){return i.createElement(jt,Xe({},t,{ref:r,icon:oc}))},lc=i.forwardRef(ac),ic={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},sc=function(t,r){return i.createElement(jt,Xe({},t,{ref:r,icon:ic}))},cc=i.forwardRef(sc),dc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},uc=function(t,r){return i.createElement(jt,Xe({},t,{ref:r,icon:dc}))},fc=i.forwardRef(uc);const pc=({treeCls:e,treeNodeCls:t,directoryNodeSelectedBg:r,directoryNodeSelectedColor:n,motionDurationMid:o,borderRadius:a,controlItemBgHover:s})=>({[`${e}${e}-directory ${t}`]:{[`${e}-node-content-wrapper`]:{position:"static",[`&:has(${e}-drop-indicator)`]:{position:"relative"},[`> *:not(${e}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${o}`,content:'""',borderRadius:a},"&:hover:before":{background:s}},[`${e}-switcher, ${e}-checkbox, ${e}-draggable-icon`]:{zIndex:1},"&-selected":{background:r,borderRadius:a,[`${e}-switcher, ${e}-draggable-icon`]:{color:n},[`${e}-node-content-wrapper`]:{color:n,background:"transparent","&, &:hover":{color:n},"&:before, &:hover:before":{background:r}}}}}),mc=new Nl("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),vc=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),gc=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${ve(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),hc=(e,t)=>{const{treeCls:r,treeNodeCls:n,treeNodePadding:o,titleHeight:a,indentSize:s,nodeSelectedBg:l,nodeHoverBg:d,colorTextQuaternary:c,controlItemBgActiveDisabled:p}=t;return{[r]:Object.assign(Object.assign({},sr(t)),{"--rc-virtual-list-scrollbar-bg":t.colorSplit,background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${r}-rtl ${r}-switcher_close ${r}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${r}-active-focused)`]:Rl(t),[`${r}-list-holder-inner`]:{alignItems:"flex-start"},[`&${r}-block-node`]:{[`${r}-list-holder-inner`]:{alignItems:"stretch",[`${r}-node-content-wrapper`]:{flex:"auto"},[`${n}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:mc,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[n]:{display:"flex",alignItems:"flex-start",marginBottom:o,lineHeight:ve(a),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:o},[`&-disabled ${r}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${r}-checkbox-disabled + ${r}-node-selected,&${n}-disabled${n}-selected ${r}-node-content-wrapper`]:{backgroundColor:p},[`${r}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${n}-disabled)`]:{[`${r}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${r}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${n}-disabled).filter-node ${r}-title`]:{color:t.colorPrimary,fontWeight:t.fontWeightStrong},"&-draggable":{cursor:"grab",[`${r}-draggable-icon`]:{flexShrink:0,width:a,textAlign:"center",visibility:"visible",color:c},[`&${n}-disabled ${r}-draggable-icon`]:{visibility:"hidden"}}},[`${r}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${r}-draggable-icon`]:{visibility:"hidden"},[`${r}-switcher, ${r}-checkbox`]:{marginInlineEnd:t.calc(t.calc(a).sub(t.controlInteractiveSize)).div(2).equal()},[`${r}-switcher`]:Object.assign(Object.assign({},vc(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:a,height:a,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${r}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${r}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(o).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(a).div(2).equal()).mul(.8).equal(),height:t.calc(a).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${r}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:a,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},gc(e,t)),{"&:hover":{backgroundColor:d},[`&${r}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:l},[`${r}-iconEle`]:{display:"inline-block",width:a,height:a,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${r}-unselectable ${r}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${r}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(o).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${r}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${n}-leaf-last ${r}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${ve(t.calc(a).div(2).equal())} !important`}})}},yc=(e,t,r=!0)=>{const n=`.${e}`,o=`${n}-treenode`,a=t.calc(t.paddingXS).div(2).equal(),s=Fr(t,{treeCls:n,treeNodeCls:o,treeNodePadding:a});return[hc(e,s),r&&pc(s)].filter(Boolean)},bc=e=>{const{controlHeightSM:t,controlItemBgHover:r,controlItemBgActive:n}=e,o=t;return{titleHeight:o,indentSize:o,nodeHoverBg:r,nodeHoverColor:e.colorText,nodeSelectedBg:n,nodeSelectedColor:e.colorText}},xc=e=>{const{colorTextLightSolid:t,colorPrimary:r}=e;return Object.assign(Object.assign({},bc(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:r})},Cc=Ar("Tree",(e,{prefixCls:t})=>[{[e.componentCls]:kl(`${t}-checkbox`,e)},yc(t,e),$l(e)],xc),jo=4;function Sc(e){const{dropPosition:t,dropLevelOffset:r,prefixCls:n,indent:o,direction:a="ltr"}=e,s=a==="ltr"?"left":"right",l=a==="ltr"?"right":"left",d={[s]:-r*o+jo,[l]:0};switch(t){case-1:d.top=-3;break;case 1:d.bottom=-3;break;default:d.bottom=-3,d[s]=o+jo;break}return Ve.createElement("div",{style:d,className:`${n}-drop-indicator`})}var wc={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Ec=function(t,r){return i.createElement(jt,Xe({},t,{ref:r,icon:wc}))},kc=i.forwardRef(Ec),$c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Nc=function(t,r){return i.createElement(jt,Xe({},t,{ref:r,icon:$c}))},Rc=i.forwardRef(Nc),Pc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Ic=function(t,r){return i.createElement(jt,Xe({},t,{ref:r,icon:Pc}))},Oc=i.forwardRef(Ic);const Dc=e=>{var t,r;const{prefixCls:n,switcherIcon:o,treeNodeProps:a,showLine:s,switcherLoadingIcon:l}=e,{isLeaf:d,expanded:c,loading:p}=a;if(p)return i.isValidElement(l)?l:i.createElement(Pl,{className:`${n}-switcher-loading-icon`});let u;if(s&&typeof s=="object"&&(u=s.showLeafIcon),d){if(!s)return null;if(typeof u!="boolean"&&u){const v=typeof u=="function"?u(a):u,h=`${n}-switcher-line-custom-icon`;return i.isValidElement(v)?kr(v,{className:Ne((t=v.props)===null||t===void 0?void 0:t.className,h)}):v}return u?i.createElement(Aa,{className:`${n}-switcher-line-icon`}):i.createElement("span",{className:`${n}-switcher-leaf-line`})}const m=`${n}-switcher-icon`,f=typeof o=="function"?o(a):o;return i.isValidElement(f)?kr(f,{className:Ne((r=f.props)===null||r===void 0?void 0:r.className,m)}):f!==void 0?f:s?c?i.createElement(Rc,{className:`${n}-switcher-line-icon`}):i.createElement(Oc,{className:`${n}-switcher-line-icon`}):i.createElement(kc,{className:m})},Fa=Ve.forwardRef((e,t)=>{var r;const{getPrefixCls:n,direction:o,virtual:a,tree:s}=Ve.useContext(xn),{prefixCls:l,className:d,showIcon:c=!1,showLine:p,switcherIcon:u,switcherLoadingIcon:m,blockNode:f=!1,children:v,checkable:h=!1,selectable:g=!0,draggable:x,disabled:E,motion:y,style:$}=e,w=n("tree",l),_=n(),I=Ve.useContext(Il),O=E??I,b=y??Object.assign(Object.assign({},Ol(_)),{motionAppear:!1}),B=Object.assign(Object.assign({},e),{checkable:h,selectable:g,showIcon:c,motion:b,blockNode:f,disabled:O,showLine:!!p,dropIndicatorRender:Sc}),[D,U,A]=Cc(w),[,N]=Hr(),K=N.paddingXS/2+(((r=N.Tree)===null||r===void 0?void 0:r.titleHeight)||N.controlHeightSM),P=Ve.useMemo(()=>{if(!x)return!1;let Q={};switch(typeof x){case"function":Q.nodeDraggable=x;break;case"object":Q=Object.assign({},x);break}return Q.icon!==!1&&(Q.icon=Q.icon||Ve.createElement(fc,null)),Q},[x]),T=Q=>Ve.createElement(Dc,{prefixCls:w,switcherIcon:u,switcherLoadingIcon:m,treeNodeProps:Q,showLine:p});return D(Ve.createElement(to,Object.assign({itemHeight:K,ref:t,virtual:a},B,{style:Object.assign(Object.assign({},s==null?void 0:s.style),$),prefixCls:w,className:Ne({[`${w}-icon-hide`]:!c,[`${w}-block-node`]:f,[`${w}-unselectable`]:!g,[`${w}-rtl`]:o==="rtl",[`${w}-disabled`]:O},s==null?void 0:s.className,d,U,A),direction:o,checkable:h&&Ve.createElement("span",{className:`${w}-checkbox-inner`}),selectable:g,switcherIcon:T,draggable:P}),v))}),Wo=0,Cr=1,Vo=2;function no(e,t,r){const{key:n,children:o}=r;function a(s){const l=s[n],d=s[o];t(l,s)!==!1&&no(d||[],t,r)}e.forEach(a)}function Kc({treeData:e,expandedKeys:t,startKey:r,endKey:n,fieldNames:o}){const a=[];let s=Wo;if(r&&r===n)return[r];if(!r||!n)return[];function l(d){return d===r||d===n}return no(e,d=>{if(s===Vo)return!1;if(l(d)){if(a.push(d),s===Wo)s=Cr;else if(s===Cr)return s=Vo,!1}else s===Cr&&a.push(d);return t.includes(d)},bn(o)),a}function Sr(e,t,r){const n=Ge(t),o=[];return no(e,(a,s)=>{const l=n.indexOf(a);return l!==-1&&(o.push(s),n.splice(l,1)),!!n.length},bn(r)),o}var qo=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};function Tc(e){const{isLeaf:t,expanded:r}=e;return t?i.createElement(Aa,null):r?i.createElement(lc,null):i.createElement(cc,null)}function Go({treeData:e,children:t}){return e||ha(t)}const Lc=(e,t)=>{var{defaultExpandAll:r,defaultExpandParent:n,defaultExpandedKeys:o}=e,a=qo(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const s=i.useRef(null),l=i.useRef(null),d=()=>{const{keyEntities:O}=Vr(Go(a),{fieldNames:a.fieldNames});let b;return r?b=Object.keys(O):n?b=Ir(a.expandedKeys||o||[],O):b=a.expandedKeys||o||[],b},[c,p]=i.useState(a.selectedKeys||a.defaultSelectedKeys||[]),[u,m]=i.useState(()=>d());i.useEffect(()=>{"selectedKeys"in a&&p(a.selectedKeys)},[a.selectedKeys]),i.useEffect(()=>{"expandedKeys"in a&&m(a.expandedKeys)},[a.expandedKeys]);const f=(O,b)=>{var B;return"expandedKeys"in a||m(O),(B=a.onExpand)===null||B===void 0?void 0:B.call(a,O,b)},v=(O,b)=>{var B;const{multiple:D,fieldNames:U}=a,{node:A,nativeEvent:N}=b,{key:K=""}=A,P=Go(a),T=Object.assign(Object.assign({},b),{selected:!0}),Q=(N==null?void 0:N.ctrlKey)||(N==null?void 0:N.metaKey),W=N==null?void 0:N.shiftKey;let le;D&&Q?(le=O,s.current=K,l.current=le,T.selectedNodes=Sr(P,le,U)):D&&W?(le=Array.from(new Set([].concat(Ge(l.current||[]),Ge(Kc({treeData:P,expandedKeys:u,startKey:K,endKey:s.current,fieldNames:U}))))),T.selectedNodes=Sr(P,le,U)):(le=[K],s.current=K,l.current=le,T.selectedNodes=Sr(P,le,U)),(B=a.onSelect)===null||B===void 0||B.call(a,le,T),"selectedKeys"in a||p(le)},{getPrefixCls:h,direction:g}=i.useContext(xn),{prefixCls:x,className:E,showIcon:y=!0,expandAction:$="click"}=a,w=qo(a,["prefixCls","className","showIcon","expandAction"]),_=h("tree",x),I=Ne(`${_}-directory`,{[`${_}-directory-rtl`]:g==="rtl"},E);return i.createElement(Fa,Object.assign({icon:Tc,ref:t,blockNode:!0},w,{showIcon:y,expandAction:$,prefixCls:_,className:I,expandedKeys:u,selectedKeys:c,onSelect:v,onExpand:f}))},Mc=i.forwardRef(Lc),ro=Fa;ro.DirectoryTree=Mc;ro.TreeNode=Hn;const Xo=e=>{const{value:t,filterSearch:r,tablePrefixCls:n,locale:o,onChange:a}=e;return r?i.createElement("div",{className:`${n}-filter-dropdown-search`},i.createElement(Dl,{prefix:i.createElement(Kl,null),placeholder:o.filterSearchPlaceholder,onChange:a,value:t,htmlSize:1,className:`${n}-filter-dropdown-search-input`})):null},_c=e=>{const{keyCode:t}=e;t===nn.ENTER&&e.stopPropagation()},Bc=i.forwardRef((e,t)=>i.createElement("div",{className:e.className,onClick:r=>r.stopPropagation(),onKeyDown:_c,ref:t},e.children));function yn(e){let t=[];return(e||[]).forEach(({value:r,children:n})=>{t.push(r),n&&(t=[].concat(Ge(t),Ge(yn(n))))}),t}function Ac(e){return e.some(({children:t})=>t)}function Ha(e,t){return typeof t=="string"||typeof t=="number"?t==null?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function za({filters:e,prefixCls:t,filteredKeys:r,filterMultiple:n,searchValue:o,filterSearch:a}){return e.map((s,l)=>{const d=String(s.value);if(s.children)return{key:d||l,label:s.text,popupClassName:`${t}-dropdown-submenu`,children:za({filters:s.children,prefixCls:t,filteredKeys:r,filterMultiple:n,searchValue:o,filterSearch:a})};const c=n?lr:ma,p={key:s.value!==void 0?d:l,label:i.createElement(i.Fragment,null,i.createElement(c,{checked:r.includes(d)}),i.createElement("span",null,s.text))};return o.trim()?typeof a=="function"?a(o,s)?p:null:Ha(o,s.text)?p:null:p})}function wr(e){return e||[]}const Fc=e=>{var t,r,n,o;const{tablePrefixCls:a,prefixCls:s,column:l,dropdownPrefixCls:d,columnKey:c,filterOnClose:p,filterMultiple:u,filterMode:m="menu",filterSearch:f=!1,filterState:v,triggerFilter:h,locale:g,children:x,getPopupContainer:E,rootClassName:y}=e,{filterResetToDefaultFilteredValue:$,defaultFilteredValue:w,filterDropdownProps:_={},filterDropdownOpen:I,filterDropdownVisible:O,onFilterDropdownVisibleChange:b,onFilterDropdownOpenChange:B}=l,[D,U]=i.useState(!1),A=!!(v&&(!((t=v.filteredKeys)===null||t===void 0)&&t.length||v.forceFiltered)),N=X=>{var ae;U(X),(ae=_.onOpenChange)===null||ae===void 0||ae.call(_,X),B==null||B(X),b==null||b(X)},K=(o=(n=(r=_.open)!==null&&r!==void 0?r:I)!==null&&n!==void 0?n:O)!==null&&o!==void 0?o:D,P=v==null?void 0:v.filteredKeys,[T,Q]=li(wr(P)),W=({selectedKeys:X})=>{Q(X)},le=(X,{node:ae,checked:S})=>{W(u?{selectedKeys:X}:{selectedKeys:S&&ae.key?[ae.key]:[]})};i.useEffect(()=>{D&&W({selectedKeys:wr(P)})},[P]);const[fe,be]=i.useState([]),ce=X=>{be(X)},[Ee,Ie]=i.useState(""),ke=X=>{const{value:ae}=X.target;Ie(ae)};i.useEffect(()=>{D||Ie("")},[D]);const Pe=X=>{const ae=X!=null&&X.length?X:null;if(ae===null&&(!v||!v.filteredKeys)||Fn(ae,v==null?void 0:v.filteredKeys,!0))return null;h({column:l,key:c,filteredKeys:ae})},Re=()=>{N(!1),Pe(T())},xe=({confirm:X,closeDropdown:ae}={confirm:!1,closeDropdown:!1})=>{X&&Pe([]),ae&&N(!1),Ie(""),Q($?(w||[]).map(S=>String(S)):[])},De=({closeDropdown:X}={closeDropdown:!0})=>{X&&N(!1),Pe(T())},Ae=(X,ae)=>{ae.source==="trigger"&&(X&&P!==void 0&&Q(wr(P)),N(X),!X&&!l.filterDropdown&&p&&Re())},ie=Ne({[`${d}-menu-without-submenu`]:!Ac(l.filters||[])}),he=X=>{if(X.target.checked){const ae=yn(l==null?void 0:l.filters).map(S=>String(S));Q(ae)}else Q([])},te=({filters:X})=>(X||[]).map((ae,S)=>{const F=String(ae.value),z={title:ae.text,key:ae.value!==void 0?F:String(S)};return ae.children&&(z.children=te({filters:ae.children})),z}),oe=X=>{var ae;return Object.assign(Object.assign({},X),{text:X.title,value:X.key,children:((ae=X.children)===null||ae===void 0?void 0:ae.map(S=>oe(S)))||[]})};let ye;const{direction:pe,renderEmpty:je}=i.useContext(xn);if(typeof l.filterDropdown=="function")ye=l.filterDropdown({prefixCls:`${d}-custom`,setSelectedKeys:X=>W({selectedKeys:X}),selectedKeys:T(),confirm:De,clearFilters:xe,filters:l.filters,visible:K,close:()=>{N(!1)}});else if(l.filterDropdown)ye=l.filterDropdown;else{const X=T()||[],ae=()=>{var F,z;const L=(F=je==null?void 0:je("Table.filter"))!==null&&F!==void 0?F:i.createElement(bo,{image:bo.PRESENTED_IMAGE_SIMPLE,description:g.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((l.filters||[]).length===0)return L;if(m==="tree")return i.createElement(i.Fragment,null,i.createElement(Xo,{filterSearch:f,value:Ee,onChange:ke,tablePrefixCls:a,locale:g}),i.createElement("div",{className:`${a}-filter-dropdown-tree`},u?i.createElement(lr,{checked:X.length===yn(l.filters).length,indeterminate:X.length>0&&X.length<yn(l.filters).length,className:`${a}-filter-dropdown-checkall`,onChange:he},(z=g==null?void 0:g.filterCheckall)!==null&&z!==void 0?z:g==null?void 0:g.filterCheckAll):null,i.createElement(ro,{checkable:!0,selectable:!1,blockNode:!0,multiple:u,checkStrictly:!u,className:`${d}-menu`,onCheck:le,checkedKeys:X,selectedKeys:X,showIcon:!1,treeData:te({filters:l.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:Ee.trim()?G=>typeof f=="function"?f(Ee,oe(G)):Ha(Ee,G.title):void 0})));const re=za({filters:l.filters||[],filterSearch:f,prefixCls:s,filteredKeys:T(),filterMultiple:u,searchValue:Ee}),se=re.every(G=>G===null);return i.createElement(i.Fragment,null,i.createElement(Xo,{filterSearch:f,value:Ee,onChange:ke,tablePrefixCls:a,locale:g}),se?L:i.createElement(ca,{selectable:!0,multiple:u,prefixCls:`${d}-menu`,className:ie,onSelect:W,onDeselect:W,selectedKeys:X,getPopupContainer:E,openKeys:fe,onOpenChange:ce,items:re}))},S=()=>$?Fn((w||[]).map(F=>String(F)),X,!0):X.length===0;ye=i.createElement(i.Fragment,null,ae(),i.createElement("div",{className:`${s}-dropdown-btns`},i.createElement(or,{type:"link",size:"small",disabled:S(),onClick:()=>xe()},g.filterReset),i.createElement(or,{type:"primary",size:"small",onClick:Re},g.filterConfirm)))}l.filterDropdown&&(ye=i.createElement(da,{selectable:void 0},ye)),ye=i.createElement(Bc,{className:`${s}-dropdown`},ye);const at=va({trigger:["click"],placement:pe==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let X;return typeof l.filterIcon=="function"?X=l.filterIcon(A):l.filterIcon?X=l.filterIcon:X=i.createElement(Ws,null),i.createElement("span",{role:"button",tabIndex:-1,className:Ne(`${s}-trigger`,{active:A}),onClick:ae=>{ae.stopPropagation()}},X)})(),getPopupContainer:E},Object.assign(Object.assign({},_),{rootClassName:Ne(y,_.rootClassName),open:K,onOpenChange:Ae,popupRender:()=>typeof(_==null?void 0:_.dropdownRender)=="function"?_.dropdownRender(ye):ye}));return i.createElement("div",{className:`${s}-column`},i.createElement("span",{className:`${a}-column-title`},x),i.createElement(qr,Object.assign({},at)))},Lr=(e,t,r)=>{let n=[];return(e||[]).forEach((o,a)=>{var s;const l=En(a,r),d=o.filterDropdown!==void 0;if(o.filters||d||"onFilter"in o)if("filteredValue"in o){let c=o.filteredValue;d||(c=(s=c==null?void 0:c.map(String))!==null&&s!==void 0?s:c),n.push({column:o,key:ln(o,l),filteredKeys:c,forceFiltered:o.filtered})}else n.push({column:o,key:ln(o,l),filteredKeys:t&&o.defaultFilteredValue?o.defaultFilteredValue:void 0,forceFiltered:o.filtered});"children"in o&&(n=[].concat(Ge(n),Ge(Lr(o.children,t,l))))}),n};function Ua(e,t,r,n,o,a,s,l,d){return r.map((c,p)=>{const u=En(p,l),{filterOnClose:m=!0,filterMultiple:f=!0,filterMode:v,filterSearch:h}=c;let g=c;if(g.filters||g.filterDropdown){const x=ln(g,u),E=n.find(({key:y})=>x===y);g=Object.assign(Object.assign({},g),{title:y=>i.createElement(Fc,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:g,columnKey:x,filterState:E,filterOnClose:m,filterMultiple:f,filterMode:v,filterSearch:h,triggerFilter:a,locale:o,getPopupContainer:s,rootClassName:d},pr(c.title,y))})}return"children"in g&&(g=Object.assign(Object.assign({},g),{children:Ua(e,t,g.children,n,o,a,s,u,d)})),g})}const Yo=e=>{const t={};return e.forEach(({key:r,filteredKeys:n,column:o})=>{const a=r,{filters:s,filterDropdown:l}=o;if(l)t[a]=n||null;else if(Array.isArray(n)){const d=yn(s);t[a]=d.filter(c=>n.includes(String(c)))}else t[a]=null}),t},Mr=(e,t,r)=>t.reduce((o,a)=>{const{column:{onFilter:s,filters:l},filteredKeys:d}=a;return s&&d&&d.length?o.map(c=>Object.assign({},c)).filter(c=>d.some(p=>{const u=yn(l),m=u.findIndex(v=>String(v)===String(p)),f=m!==-1?u[m]:p;return c[r]&&(c[r]=Mr(c[r],t,r)),s(f,c)})):o},e),ja=e=>e.flatMap(t=>"children"in t?[t].concat(Ge(ja(t.children||[]))):[t]),Hc=e=>{const{prefixCls:t,dropdownPrefixCls:r,mergedColumns:n,onFilterChange:o,getPopupContainer:a,locale:s,rootClassName:l}=e;cr();const d=i.useMemo(()=>ja(n||[]),[n]),[c,p]=i.useState(()=>Lr(d,!0)),u=i.useMemo(()=>{const h=Lr(d,!1);if(h.length===0)return h;let g=!0;if(h.forEach(({filteredKeys:x})=>{x!==void 0&&(g=!1)}),g){const x=(d||[]).map((E,y)=>ln(E,En(y)));return c.filter(({key:E})=>x.includes(E)).map(E=>{const y=d[x.indexOf(E.key)];return Object.assign(Object.assign({},E),{column:Object.assign(Object.assign({},E.column),y),forceFiltered:y.filtered})})}return h},[d,c]),m=i.useMemo(()=>Yo(u),[u]),f=h=>{const g=u.filter(({key:x})=>x!==h.key);g.push(h),p(g),o(Yo(g),g)};return[h=>Ua(t,r,h,u,s,f,a,void 0,l),u,m]},zc=(e,t,r)=>{const n=i.useRef({});function o(a){var s;if(!n.current||n.current.data!==e||n.current.childrenColumnName!==t||n.current.getRowKey!==r){let d=function(c){c.forEach((p,u)=>{const m=r(p,u);l.set(m,p),p&&typeof p=="object"&&t in p&&d(p[t]||[])})};const l=new Map;d(e),n.current={data:e,childrenColumnName:t,kvMap:l,getRowKey:r}}return(s=n.current.kvMap)===null||s===void 0?void 0:s.get(a)}return[o]};var Uc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Wa=10;function jc(e,t){const r={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(o=>{const a=e[o];typeof a!="function"&&(r[o]=a)}),r}function Wc(e,t,r){const n=r&&typeof r=="object"?r:{},{total:o=0}=n,a=Uc(n,["total"]),[s,l]=i.useState(()=>({current:"defaultCurrent"in a?a.defaultCurrent:1,pageSize:"defaultPageSize"in a?a.defaultPageSize:Wa})),d=va(s,a,{total:o>0?o:e}),c=Math.ceil((o||e)/d.pageSize);d.current>c&&(d.current=c||1);const p=(m,f)=>{l({current:m??1,pageSize:f||d.pageSize})},u=(m,f)=>{var v;r&&((v=r.onChange)===null||v===void 0||v.call(r,m,f)),p(m,f),t(m,f||(d==null?void 0:d.pageSize))};return r===!1?[{},()=>{}]:[Object.assign(Object.assign({},d),{onChange:u}),p]}var Vc={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},qc=function(t,r){return i.createElement(jt,Xe({},t,{ref:r,icon:Vc}))},Gc=i.forwardRef(qc),Xc={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},Yc=function(t,r){return i.createElement(jt,Xe({},t,{ref:r,icon:Xc}))},Zc=i.forwardRef(Yc);const rr="ascend",Er="descend",ir=e=>typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1,Zo=e=>typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1,Jc=(e,t)=>t?e[e.indexOf(t)+1]:e[0],_r=(e,t,r)=>{let n=[];const o=(a,s)=>{n.push({column:a,key:ln(a,s),multiplePriority:ir(a),sortOrder:a.sortOrder})};return(e||[]).forEach((a,s)=>{const l=En(s,r);a.children?("sortOrder"in a&&o(a,l),n=[].concat(Ge(n),Ge(_r(a.children,t,l)))):a.sorter&&("sortOrder"in a?o(a,l):t&&a.defaultSortOrder&&n.push({column:a,key:ln(a,l),multiplePriority:ir(a),sortOrder:a.defaultSortOrder}))}),n},Va=(e,t,r,n,o,a,s,l)=>(t||[]).map((c,p)=>{const u=En(p,l);let m=c;if(m.sorter){const f=m.sortDirections||o,v=m.showSorterTooltip===void 0?s:m.showSorterTooltip,h=ln(m,u),g=r.find(({key:b})=>b===h),x=g?g.sortOrder:null,E=Jc(f,x);let y;if(c.sortIcon)y=c.sortIcon({sortOrder:x});else{const b=f.includes(rr)&&i.createElement(Zc,{className:Ne(`${e}-column-sorter-up`,{active:x===rr})}),B=f.includes(Er)&&i.createElement(Gc,{className:Ne(`${e}-column-sorter-down`,{active:x===Er})});y=i.createElement("span",{className:Ne(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(b&&B)})},i.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},b,B))}const{cancelSort:$,triggerAsc:w,triggerDesc:_}=a||{};let I=$;E===Er?I=_:E===rr&&(I=w);const O=typeof v=="object"?Object.assign({title:I},v):{title:I};m=Object.assign(Object.assign({},m),{className:Ne(m.className,{[`${e}-column-sort`]:x}),title:b=>{const B=`${e}-column-sorters`,D=i.createElement("span",{className:`${e}-column-title`},pr(c.title,b)),U=i.createElement("div",{className:B},D,y);return v?typeof v!="boolean"&&(v==null?void 0:v.target)==="sorter-icon"?i.createElement("div",{className:Ne(B,`${B}-tooltip-target-sorter`)},D,i.createElement($r,Object.assign({},O),y)):i.createElement($r,Object.assign({},O),U):U},onHeaderCell:b=>{var B;const D=((B=c.onHeaderCell)===null||B===void 0?void 0:B.call(c,b))||{},U=D.onClick,A=D.onKeyDown;D.onClick=P=>{n({column:c,key:h,sortOrder:E,multiplePriority:ir(c)}),U==null||U(P)},D.onKeyDown=P=>{P.keyCode===nn.ENTER&&(n({column:c,key:h,sortOrder:E,multiplePriority:ir(c)}),A==null||A(P))};const N=zs(c.title,{}),K=N==null?void 0:N.toString();return x&&(D["aria-sort"]=x==="ascend"?"ascending":"descending"),D["aria-label"]=K||"",D.className=Ne(D.className,`${e}-column-has-sorters`),D.tabIndex=0,c.ellipsis&&(D.title=(N??"").toString()),D}})}return"children"in m&&(m=Object.assign(Object.assign({},m),{children:Va(e,m.children,r,n,o,a,s,u)})),m}),Jo=e=>{const{column:t,sortOrder:r}=e;return{column:t,order:r,field:t.dataIndex,columnKey:t.key}},Qo=e=>{const t=e.filter(({sortOrder:r})=>r).map(Jo);if(t.length===0&&e.length){const r=e.length-1;return Object.assign(Object.assign({},Jo(e[r])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},Br=(e,t,r)=>{const n=t.slice().sort((s,l)=>l.multiplePriority-s.multiplePriority),o=e.slice(),a=n.filter(({column:{sorter:s},sortOrder:l})=>Zo(s)&&l);return a.length?o.sort((s,l)=>{for(let d=0;d<a.length;d+=1){const c=a[d],{column:{sorter:p},sortOrder:u}=c,m=Zo(p);if(m&&u){const f=m(s,l,u);if(f!==0)return u===rr?f:-f}}return 0}).map(s=>{const l=s[r];return l?Object.assign(Object.assign({},s),{[r]:Br(l,t,r)}):s}):o},Qc=e=>{const{prefixCls:t,mergedColumns:r,sortDirections:n,tableLocale:o,showSorterTooltip:a,onSorterChange:s}=e,[l,d]=i.useState(()=>_r(r,!0)),c=(h,g)=>{const x=[];return h.forEach((E,y)=>{const $=En(y,g);if(x.push(ln(E,$)),Array.isArray(E.children)){const w=c(E.children,$);x.push.apply(x,Ge(w))}}),x},p=i.useMemo(()=>{let h=!0;const g=_r(r,!1);if(!g.length){const $=c(r);return l.filter(({key:w})=>$.includes(w))}const x=[];function E($){h?x.push($):x.push(Object.assign(Object.assign({},$),{sortOrder:null}))}let y=null;return g.forEach($=>{y===null?(E($),$.sortOrder&&($.multiplePriority===!1?h=!1:y=!0)):(y&&$.multiplePriority!==!1||(h=!1),E($))}),x},[r,l]),u=i.useMemo(()=>{var h,g;const x=p.map(({column:E,sortOrder:y})=>({column:E,order:y}));return{sortColumns:x,sortColumn:(h=x[0])===null||h===void 0?void 0:h.column,sortOrder:(g=x[0])===null||g===void 0?void 0:g.order}},[p]),m=h=>{let g;h.multiplePriority===!1||!p.length||p[0].multiplePriority===!1?g=[h]:g=[].concat(Ge(p.filter(({key:x})=>x!==h.key)),[h]),d(g),s(Qo(g),g)};return[h=>Va(t,h,p,m,n,o,a),p,u,()=>Qo(p)]},qa=(e,t)=>e.map(n=>{const o=Object.assign({},n);return o.title=pr(n.title,t),"children"in o&&(o.children=qa(o.children,t)),o}),ed=e=>[i.useCallback(r=>qa(r,e),[e])],td=Ka((e,t)=>{const{_renderTimes:r}=e,{_renderTimes:n}=t;return r!==n}),nd=La((e,t)=>{const{_renderTimes:r}=e,{_renderTimes:n}=t;return r!==n}),rd=e=>{const{componentCls:t,lineWidth:r,lineType:n,tableBorderColor:o,tableHeaderBg:a,tablePaddingVertical:s,tablePaddingHorizontal:l,calc:d}=e,c=`${ve(r)} ${n} ${o}`,p=(u,m,f)=>({[`&${t}-${u}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${ve(d(m).mul(-1).equal())}
              ${ve(d(d(f).add(r)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:c,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:c,borderTop:c,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:c},"> thead":{"> tr:not(:last-child) > th":{borderBottom:c},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:c}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${ve(d(s).mul(-1).equal())} ${ve(d(d(l).add(r)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:r,bottom:0,borderInlineEnd:c,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},p("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),p("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:c,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${ve(r)} 0 ${ve(r)} ${a}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:c}}}},od=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},Tl),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},ad=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},ld=e=>{const{componentCls:t,antCls:r,motionDurationSlow:n,lineWidth:o,paddingXS:a,lineType:s,tableBorderColor:l,tableExpandIconBg:d,tableExpandColumnWidth:c,borderRadius:p,tablePaddingVertical:u,tablePaddingHorizontal:m,tableExpandedRowBg:f,paddingXXS:v,expandIconMarginTop:h,expandIconSize:g,expandIconHalfInner:x,expandIconScale:E,calc:y}=e,$=`${ve(o)} ${s} ${l}`,w=y(v).sub(o).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:c},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},Ll(e)),{position:"relative",float:"left",width:g,height:g,color:"inherit",lineHeight:ve(g),background:d,border:$,borderRadius:p,transform:`scale(${E})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${n} ease-out`,content:'""'},"&::before":{top:x,insetInlineEnd:w,insetInlineStart:w,height:o},"&::after":{top:w,bottom:w,insetInlineStart:x,width:o,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:h,marginInlineEnd:a},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:f}},[`${r}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${ve(y(u).mul(-1).equal())} ${ve(y(m).mul(-1).equal())}`,padding:`${ve(u)} ${ve(m)}`}}}},id=e=>{const{componentCls:t,antCls:r,iconCls:n,tableFilterDropdownWidth:o,tableFilterDropdownSearchWidth:a,paddingXXS:s,paddingXS:l,colorText:d,lineWidth:c,lineType:p,tableBorderColor:u,headerIconColor:m,fontSizeSM:f,tablePaddingHorizontal:v,borderRadius:h,motionDurationSlow:g,colorIcon:x,colorPrimary:E,tableHeaderFilterActiveBg:y,colorTextDisabled:$,tableFilterDropdownBg:w,tableFilterDropdownHeight:_,controlItemBgHover:I,controlItemBgActive:O,boxShadowSecondary:b,filterDropdownMenuBg:B,calc:D}=e,U=`${r}-dropdown`,A=`${t}-filter-dropdown`,N=`${r}-tree`,K=`${ve(c)} ${p} ${u}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:D(s).mul(-1).equal(),marginInline:`${ve(s)} ${ve(D(v).div(2).mul(-1).equal())}`,padding:`0 ${ve(s)}`,color:m,fontSize:f,borderRadius:h,cursor:"pointer",transition:`all ${g}`,"&:hover":{color:x,background:y},"&.active":{color:E}}}},{[`${r}-dropdown`]:{[A]:Object.assign(Object.assign({},sr(e)),{minWidth:o,backgroundColor:w,borderRadius:h,boxShadow:b,overflow:"hidden",[`${U}-menu`]:{maxHeight:_,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:B,"&:empty::after":{display:"block",padding:`${ve(l)} 0`,color:$,fontSize:f,textAlign:"center",content:'"Not Found"'}},[`${A}-tree`]:{paddingBlock:`${ve(l)} 0`,paddingInline:l,[N]:{padding:0},[`${N}-treenode ${N}-node-content-wrapper:hover`]:{backgroundColor:I},[`${N}-treenode-checkbox-checked ${N}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:O}}},[`${A}-search`]:{padding:l,borderBottom:K,"&-input":{input:{minWidth:a},[n]:{color:$}}},[`${A}-checkall`]:{width:"100%",marginBottom:s,marginInlineStart:s},[`${A}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${ve(D(l).sub(c).equal())} ${ve(l)}`,overflow:"hidden",borderTop:K}})}},{[`${r}-dropdown ${A}, ${A}-submenu`]:{[`${r}-checkbox-wrapper + span`]:{paddingInlineStart:l,color:d},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},sd=e=>{const{componentCls:t,lineWidth:r,colorSplit:n,motionDurationSlow:o,zIndexTableFixed:a,tableBg:s,zIndexTableSticky:l,calc:d}=e,c=n;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:a,background:s},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:d(r).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none",willChange:"transform"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:d(r).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:d(l).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${o}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${c}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${c}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${c}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},cd=e=>{const{componentCls:t,antCls:r,margin:n}=e;return{[`${t}-wrapper ${t}-pagination${r}-pagination`]:{margin:`${ve(n)} 0`}}},dd=e=>{const{componentCls:t,tableRadius:r}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${ve(r)} ${ve(r)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:r,borderStartEndRadius:r,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:r},"> *:last-child":{borderStartEndRadius:r}}},"&-footer":{borderRadius:`0 0 ${ve(r)} ${ve(r)}`}}}}},ud=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},fd=e=>{const{componentCls:t,antCls:r,iconCls:n,fontSizeIcon:o,padding:a,paddingXS:s,headerIconColor:l,headerIconHoverColor:d,tableSelectionColumnWidth:c,tableSelectedRowBg:p,tableSelectedRowHoverBg:u,tableRowHoverBg:m,tablePaddingHorizontal:f,calc:v}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:c,[`&${t}-selection-col-with-dropdown`]:{width:v(c).add(o).add(v(a).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:v(c).add(v(s).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:v(c).add(o).add(v(a).div(4)).add(v(s).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${r}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:v(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:ve(v(f).div(4).equal()),[n]:{color:l,fontSize:o,verticalAlign:"baseline","&:hover":{color:d}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:p,"&-row-hover":{background:u}}},[`> ${t}-cell-row-hover`]:{background:m}}}}}},pd=e=>{const{componentCls:t,tableExpandColumnWidth:r,calc:n}=e,o=(a,s,l,d)=>({[`${t}${t}-${a}`]:{fontSize:d,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${ve(s)} ${ve(l)}`},[`${t}-filter-trigger`]:{marginInlineEnd:ve(n(l).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${ve(n(s).mul(-1).equal())} ${ve(n(l).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:ve(n(s).mul(-1).equal()),marginInline:`${ve(n(r).sub(l).equal())} ${ve(n(l).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:ve(n(l).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},o("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),o("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},md=e=>{const{componentCls:t,marginXXS:r,fontSizeIcon:n,headerIconColor:o,headerIconHoverColor:a}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:r,color:o,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:n,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:a}}}},vd=e=>{const{componentCls:t,opacityLoading:r,tableScrollThumbBg:n,tableScrollThumbBgHover:o,tableScrollThumbSize:a,tableScrollBg:s,zIndexTableSticky:l,stickyScrollBarBorderRadius:d,lineWidth:c,lineType:p,tableBorderColor:u}=e,m=`${ve(c)} ${p} ${u}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:l,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${ve(a)} !important`,zIndex:l,display:"flex",alignItems:"center",background:s,borderTop:m,opacity:r,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:a,backgroundColor:n,borderRadius:d,transition:`all ${e.motionDurationSlow}, transform 0s`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:o}}}}}}},ea=e=>{const{componentCls:t,lineWidth:r,tableBorderColor:n,calc:o}=e,a=`${ve(r)} ${e.lineType} ${n}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:a}}},[`div${t}-summary`]:{boxShadow:`0 ${ve(o(r).mul(-1).equal())} 0 ${n}`}}}},gd=e=>{const{componentCls:t,motionDurationMid:r,lineWidth:n,lineType:o,tableBorderColor:a,calc:s}=e,l=`${ve(n)} ${o} ${a}`,d=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`
            & > ${t}-row, 
            & > div:not(${t}-row) > ${t}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:l,transition:`background ${r}`},[`${t}-expanded-row`]:{[`${d}${d}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${ve(n)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:l,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:l,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:s(n).mul(-1).equal(),borderInlineStart:l}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:l,borderBottom:l}}}}}},hd=e=>{const{componentCls:t,fontWeightStrong:r,tablePaddingVertical:n,tablePaddingHorizontal:o,tableExpandColumnWidth:a,lineWidth:s,lineType:l,tableBorderColor:d,tableFontSize:c,tableBg:p,tableRadius:u,tableHeaderTextColor:m,motionDurationMid:f,tableHeaderBg:v,tableHeaderCellSplitColor:h,tableFooterTextColor:g,tableFooterBg:x,calc:E}=e,y=`${ve(s)} ${l} ${d}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%","--rc-virtual-list-scrollbar-bg":e.tableScrollBg},Ml()),{[t]:Object.assign(Object.assign({},sr(e)),{fontSize:c,background:p,borderRadius:`${ve(u)} ${ve(u)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${ve(u)} ${ve(u)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${ve(n)} ${ve(o)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${ve(n)} ${ve(o)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:m,fontWeight:r,textAlign:"start",background:v,borderBottom:y,transition:`background ${f} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:h,transform:"translateY(-50%)",transition:`background-color ${f}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${f}, border-color ${f}`,borderBottom:y,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:ve(E(n).mul(-1).equal()),marginInline:`${ve(E(a).sub(o).equal())}
                ${ve(E(o).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:m,fontWeight:r,textAlign:"start",background:v,borderBottom:y,transition:`background ${f} ease`},[`& > ${t}-measure-cell`]:{paddingBlock:"0 !important",borderBlock:"0 !important",[`${t}-measure-cell-content`]:{height:0,overflow:"hidden",pointerEvents:"none"}}}},[`${t}-footer`]:{padding:`${ve(n)} ${ve(o)}`,color:g,background:x}})}},yd=e=>{const{colorFillAlter:t,colorBgContainer:r,colorTextHeading:n,colorFillSecondary:o,colorFillContent:a,controlItemBgActive:s,controlItemBgActiveHover:l,padding:d,paddingSM:c,paddingXS:p,colorBorderSecondary:u,borderRadiusLG:m,controlHeight:f,colorTextPlaceholder:v,fontSize:h,fontSizeSM:g,lineHeight:x,lineWidth:E,colorIcon:y,colorIconHover:$,opacityLoading:w,controlInteractiveSize:_}=e,I=new Tn(o).onBackground(r).toHexString(),O=new Tn(a).onBackground(r).toHexString(),b=new Tn(t).onBackground(r).toHexString(),B=new Tn(y),D=new Tn($),U=_/2-E,A=U*2+E*3;return{headerBg:b,headerColor:n,headerSortActiveBg:I,headerSortHoverBg:O,bodySortBg:b,rowHoverBg:b,rowSelectedBg:s,rowSelectedHoverBg:l,rowExpandedBg:t,cellPaddingBlock:d,cellPaddingInline:d,cellPaddingBlockMD:c,cellPaddingInlineMD:p,cellPaddingBlockSM:p,cellPaddingInlineSM:p,borderColor:u,headerBorderRadius:m,footerBg:b,footerColor:n,cellFontSize:h,cellFontSizeMD:h,cellFontSizeSM:h,headerSplitColor:u,fixedHeaderSortActiveBg:I,headerFilterHoverBg:a,filterDropdownMenuBg:r,filterDropdownBg:r,expandIconBg:r,selectionColumnWidth:f,stickyScrollBarBg:v,stickyScrollBarBorderRadius:100,expandIconMarginTop:(h*x-E*3)/2-Math.ceil((g*1.4-E*3)/2),headerIconColor:B.clone().setA(B.a*w).toRgbString(),headerIconHoverColor:D.clone().setA(D.a*w).toRgbString(),expandIconHalfInner:U,expandIconSize:A,expandIconScale:_/A}},ta=2,bd=Ar("Table",e=>{const{colorTextHeading:t,colorSplit:r,colorBgContainer:n,controlInteractiveSize:o,headerBg:a,headerColor:s,headerSortActiveBg:l,headerSortHoverBg:d,bodySortBg:c,rowHoverBg:p,rowSelectedBg:u,rowSelectedHoverBg:m,rowExpandedBg:f,cellPaddingBlock:v,cellPaddingInline:h,cellPaddingBlockMD:g,cellPaddingInlineMD:x,cellPaddingBlockSM:E,cellPaddingInlineSM:y,borderColor:$,footerBg:w,footerColor:_,headerBorderRadius:I,cellFontSize:O,cellFontSizeMD:b,cellFontSizeSM:B,headerSplitColor:D,fixedHeaderSortActiveBg:U,headerFilterHoverBg:A,filterDropdownBg:N,expandIconBg:K,selectionColumnWidth:P,stickyScrollBarBg:T,calc:Q}=e,W=Fr(e,{tableFontSize:O,tableBg:n,tableRadius:I,tablePaddingVertical:v,tablePaddingHorizontal:h,tablePaddingVerticalMiddle:g,tablePaddingHorizontalMiddle:x,tablePaddingVerticalSmall:E,tablePaddingHorizontalSmall:y,tableBorderColor:$,tableHeaderTextColor:s,tableHeaderBg:a,tableFooterTextColor:_,tableFooterBg:w,tableHeaderCellSplitColor:D,tableHeaderSortBg:l,tableHeaderSortHoverBg:d,tableBodySortBg:c,tableFixedHeaderSortActiveBg:U,tableHeaderFilterActiveBg:A,tableFilterDropdownBg:N,tableRowHoverBg:p,tableSelectedRowBg:u,tableSelectedRowHoverBg:m,zIndexTableFixed:ta,zIndexTableSticky:Q(ta).add(1).equal({unit:!1}),tableFontSizeMiddle:b,tableFontSizeSmall:B,tableSelectionColumnWidth:P,tableExpandIconBg:K,tableExpandColumnWidth:Q(o).add(Q(e.padding).mul(2)).equal(),tableExpandedRowBg:f,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:T,tableScrollThumbBgHover:t,tableScrollBg:r});return[hd(W),cd(W),ea(W),md(W),id(W),rd(W),dd(W),ld(W),ea(W),ad(W),fd(W),sd(W),vd(W),od(W),pd(W),ud(W),gd(W)]},yd,{unitless:{expandIconScale:!0}}),na=[],xd=(e,t)=>{var r,n;const{prefixCls:o,className:a,rootClassName:s,style:l,size:d,bordered:c,dropdownPrefixCls:p,dataSource:u,pagination:m,rowSelection:f,rowKey:v="key",rowClassName:h,columns:g,children:x,childrenColumnName:E,onChange:y,getPopupContainer:$,loading:w,expandIcon:_,expandable:I,expandedRowRender:O,expandIconColumnIndex:b,indentSize:B,scroll:D,sortDirections:U,locale:A,showSorterTooltip:N={target:"full-header"},virtual:K}=e;cr();const P=i.useMemo(()=>g||Zr(x),[g,x]),T=i.useMemo(()=>P.some(Z=>Z.responsive),[P]),Q=_l(T),W=i.useMemo(()=>{const Z=new Set(Object.keys(Q).filter(V=>Q[V]));return P.filter(V=>!V.responsive||V.responsive.some(Le=>Z.has(Le)))},[P,Q]),le=zr(e,["className","style","columns"]),{locale:fe=Bl,direction:be,table:ce,renderEmpty:Ee,getPrefixCls:Ie,getPopupContainer:ke}=i.useContext(xn),Pe=Al(d),Re=Object.assign(Object.assign({},fe.Table),A),xe=u||na,De=Ie("table",o),Ae=Ie("dropdown",p),[,ie]=Hr(),he=ia(De),[te,oe,ye]=bd(De,he),pe=Object.assign(Object.assign({childrenColumnName:E,expandIconColumnIndex:b},I),{expandIcon:(r=I==null?void 0:I.expandIcon)!==null&&r!==void 0?r:(n=ce==null?void 0:ce.expandable)===null||n===void 0?void 0:n.expandIcon}),{childrenColumnName:je="children"}=pe,gt=i.useMemo(()=>xe.some(Z=>Z==null?void 0:Z[je])?"nest":O||I!=null&&I.expandedRowRender?"row":null,[xe]),at={body:i.useRef(null)},X=Hs(De),ae=i.useRef(null),S=i.useRef(null);ai(t,()=>Object.assign(Object.assign({},S.current),{nativeElement:ae.current}));const F=i.useMemo(()=>typeof v=="function"?v:Z=>Z==null?void 0:Z[v],[v]),[z]=zc(xe,je,F),L={},re=(Z,V,Le=!1)=>{var Ke,Se,qe,He;const ot=Object.assign(Object.assign({},L),Z);Le&&((Ke=L.resetPagination)===null||Ke===void 0||Ke.call(L),!((Se=ot.pagination)===null||Se===void 0)&&Se.current&&(ot.pagination.current=1),m&&((qe=m.onChange)===null||qe===void 0||qe.call(m,1,(He=ot.pagination)===null||He===void 0?void 0:He.pageSize))),D&&D.scrollToFirstRowOnChange!==!1&&at.body.current&&ni(0,{getContainer:()=>at.body.current}),y==null||y(ot.pagination,ot.filters,ot.sorter,{currentDataSource:Mr(Br(xe,ot.sorterStates,je),ot.filterStates,je),action:V})},se=(Z,V)=>{re({sorter:Z,sorterStates:V},"sort",!1)},[G,ee,Y,k]=Qc({prefixCls:De,mergedColumns:W,onSorterChange:se,sortDirections:U||["ascend","descend"],tableLocale:Re,showSorterTooltip:N}),M=i.useMemo(()=>Br(xe,ee,je),[xe,ee]);L.sorter=k(),L.sorterStates=ee;const H=(Z,V)=>{re({filters:Z,filterStates:V},"filter",!0)},[ue,me,Te]=Hc({prefixCls:De,locale:Re,dropdownPrefixCls:Ae,mergedColumns:W,onFilterChange:H,getPopupContainer:$||ke,rootClassName:Ne(s,he)}),de=Mr(M,me,je);L.filters=Te,L.filterStates=me;const ze=i.useMemo(()=>{const Z={};return Object.keys(Te).forEach(V=>{Te[V]!==null&&(Z[V]=Te[V])}),Object.assign(Object.assign({},Y),{filters:Z})},[Y,Te]),[Qe]=ed(ze),rt=(Z,V)=>{re({pagination:Object.assign(Object.assign({},L.pagination),{current:Z,pageSize:V})},"paginate")},[Ce,ht]=Wc(de.length,rt,m);L.pagination=m===!1?{}:jc(Ce,m),L.resetPagination=ht;const it=i.useMemo(()=>{if(m===!1||!Ce.pageSize)return de;const{current:Z=1,total:V,pageSize:Le=Wa}=Ce;return de.length<V?de.length>Le?de.slice((Z-1)*Le,Z*Le):de:de.slice((Z-1)*Le,Z*Le)},[!!m,de,Ce==null?void 0:Ce.current,Ce==null?void 0:Ce.pageSize,Ce==null?void 0:Ce.total]),[dt,tt]=As({prefixCls:De,data:de,pageData:it,getRowKey:F,getRecordByKey:z,expandType:gt,childrenColumnName:je,locale:Re,getPopupContainer:$||ke},f),pt=(Z,V,Le)=>{let Ke;return typeof h=="function"?Ke=Ne(h(Z,V,Le)):Ke=Ne(h),Ne({[`${De}-row-selected`]:tt.has(F(Z,V))},Ke)};pe.__PARENT_RENDER_ICON__=pe.expandIcon,pe.expandIcon=pe.expandIcon||_||Fs(Re),gt==="nest"&&pe.expandIconColumnIndex===void 0?pe.expandIconColumnIndex=f?1:0:pe.expandIconColumnIndex>0&&f&&(pe.expandIconColumnIndex-=1),typeof pe.indentSize!="number"&&(pe.indentSize=typeof B=="number"?B:15);const st=i.useCallback(Z=>Qe(dt(ue(G(Z)))),[G,ue,dt]),lt=()=>{if(m===!1||!(Ce!=null&&Ce.total))return{};const Z=()=>Ce.size||(Pe==="small"||Pe==="middle"?"small":void 0),V=ct=>{const Yt=ct==="left"?"start":ct==="right"?"end":ct;return i.createElement(Ul,Object.assign({},Ce,{align:Ce.align||Yt,className:Ne(`${De}-pagination`,Ce.className),size:Z()}))},Le=be==="rtl"?"left":"right",Ke=Ce.position;if(Ke===null||!Array.isArray(Ke))return{bottom:V(Le)};const Se=Ke.find(ct=>typeof ct=="string"&&ct.toLowerCase().includes("top")),qe=Ke.find(ct=>typeof ct=="string"&&ct.toLowerCase().includes("bottom")),He=Ke.every(ct=>`${ct}`=="none"),ot=Se?Se.toLowerCase().replace("top",""):"",ft=qe?qe.toLowerCase().replace("bottom",""):"",et=!Se&&!qe&&!He,xt=()=>ot?V(ot):void 0,Et=()=>{if(ft)return V(ft);if(et)return V(Le)};return{top:xt(),bottom:Et()}},Ze=i.useMemo(()=>typeof w=="boolean"?{spinning:w}:typeof w=="object"&&w!==null?Object.assign({spinning:!0},w):void 0,[w]),mt=Ne(ye,he,`${De}-wrapper`,ce==null?void 0:ce.className,{[`${De}-wrapper-rtl`]:be==="rtl"},a,s,oe),Rt=Object.assign(Object.assign({},ce==null?void 0:ce.style),l),Fe=i.useMemo(()=>Ze!=null&&Ze.spinning&&xe===na?null:typeof(A==null?void 0:A.emptyText)<"u"?A.emptyText:(Ee==null?void 0:Ee("Table"))||i.createElement(Fl,{componentName:"Table"}),[Ze==null?void 0:Ze.spinning,xe,A==null?void 0:A.emptyText,Ee]),_e=K?nd:td,Ye={},ut=i.useMemo(()=>{const{fontSize:Z,lineHeight:V,lineWidth:Le,padding:Ke,paddingXS:Se,paddingSM:qe}=ie,He=Math.floor(Z*V);switch(Pe){case"middle":return qe*2+He+Le;case"small":return Se*2+He+Le;default:return Ke*2+He+Le}},[ie,Pe]);K&&(Ye.listItemHeight=ut);const{top:bt,bottom:J}=lt();return te(i.createElement("div",{ref:ae,className:mt,style:Rt},i.createElement(Hl,Object.assign({spinning:!1},Ze),bt,i.createElement(_e,Object.assign({},Ye,le,{ref:S,columns:W,direction:be,expandable:pe,prefixCls:De,className:Ne({[`${De}-middle`]:Pe==="middle",[`${De}-small`]:Pe==="small",[`${De}-bordered`]:c,[`${De}-empty`]:xe.length===0},ye,he,oe),data:it,rowKey:F,rowClassName:pt,emptyText:Fe,internalHooks:Un,internalRefs:at,transformColumns:st,getContainerWidth:X,measureRowRender:Z=>i.createElement(zl,{getPopupContainer:V=>V},Z)})),J)))},Cd=i.forwardRef(xd),Sd=(e,t)=>{const r=i.useRef(0);return r.current+=1,i.createElement(Cd,Object.assign({},e,{ref:t,_renderTimes:r.current}))},Xt=i.forwardRef(Sd);Xt.SELECTION_COLUMN=tn;Xt.EXPAND_COLUMN=rn;Xt.SELECTION_ALL=Or;Xt.SELECTION_INVERT=Dr;Xt.SELECTION_NONE=Kr;Xt.Column=Ps;Xt.ColumnGroup=Is;Xt.Summary=wa;function oo({title:e,children:t,placement:r="topLeft"}){return e?gn.jsx($r,{title:e,placement:r,mouseEnterDelay:.15,children:t}):t}function wd(e){if(e==null||e==="")return"â";const t=typeof e=="string"||typeof e=="number"?String(e):e;return typeof t!="string"?t:gn.jsx(oo,{title:t,children:gn.jsx("span",{className:"app-table-ellipsis",children:t})})}function Ed({columns:e,dataSource:t,rowKey:r="id",stickyFirstColumn:n=!1,scrollY:o,className:a,...s}){const l=(e||[]).map((c,p)=>{const u={...c};if(c.tooltip){const f=c.title??c.label??"";u.title=gn.jsx(oo,{title:c.tooltip,children:gn.jsx("span",{children:f})})}if(c.numeric&&!u.align&&(u.align="right"),n&&p===0&&!u.fixed&&(u.fixed="left"),c.ellipsis!==!1){const f=c.render;u.ellipsis={showTitle:!1},u.render=(v,h,g)=>{const x=f?f(v,h,g):v;return wd(x)}}return u}),d={x:"max-content",...o?{y:o}:{}};return gn.jsx(Xt,{className:a,size:"middle",pagination:!1,sticky:!0,rowKey:r,columns:l,dataSource:t||[],scroll:d,...s})}function Ln(e,t=document){return t.querySelector(e)}function C(e,t={},r=[]){const n=document.createElement(e);Object.entries(t).forEach(([o,a])=>{o==="class"?n.className=a:o.startsWith("on")&&typeof a=="function"?n.addEventListener(o.slice(2),a):o==="dataset"&&a&&typeof a=="object"?Object.entries(a).forEach(([s,l])=>n.dataset[s]=l):a!=null&&n.setAttribute(o,a)});for(const o of Array.isArray(r)?r:[r])o!=null&&n.append(o.nodeType?o:document.createTextNode(String(o)));return n}function Ga(e){if(!e)return"â";const[t,r,n]=e.split("-").map(Number);if(!t||!r||!n)return"â";const o=new Date(Date.UTC(t,r-1,n));return Number.isNaN(o.getTime())?"â":o.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})}function Xa(e){const t=we(e);return t==null?"â":t.toLocaleString("de-DE",{style:"currency",currency:"USD"})}function kd(e){const t=we(e);return t==null?"â":t.toLocaleString("de-DE",{style:"currency",currency:"EUR"})}const ao=["A","B","C"],$d={A:0,B:1,C:2};function lo(e){const t=String(e||"").trim().toUpperCase();return ao.includes(t)?t:null}function nr(e){return lo(e)||"â"}function ra(e){const t=lo(e);return t?$d[t]:ao.length}function vt(e,t=2){return $t(e,t,{emptyValue:"",useGrouping:!1})}function oa(e){if(!e.length)return"";const r=e.map(n=>n.field).map(n=>{switch(n){case"alias":return"Alias";case"currency":return"Currency";case"unitPrice":return"Unit Price";case"avgSellingPriceGrossEUR":return"Ã VK-Preis";case"sellerboardMarginPct":return"Sellerboard Marge";case"ddp":return"DDP";default:return n}});return`Fehlt: ${[...new Set(r)].join(", ")}`}function vn(e){let t=document.getElementById("products-toast");t||(t=document.createElement("div"),t.id="products-toast",t.className="po-toast",document.body.appendChild(t)),t.textContent=e,t.hidden=!1,setTimeout(()=>{t.hidden=!0},2e3)}function aa({title:e,content:t,actions:r=[],onClose:n}){const o=C("div",{class:"po-modal-backdrop"}),a=C("div",{class:"po-modal product-modal-frame"}),s=C("div",{class:"po-modal-header"},[C("h3",{},[e]),C("button",{type:"button",class:"btn tertiary",onclick:()=>{if(typeof n=="function"){n();return}document.body.removeChild(o),document.removeEventListener("keydown",p)},"aria-label":"SchlieÃen"},["â"])]),l=C("div",{class:"po-modal-body"},[t]),d=C("div",{class:"po-modal-actions"});r.forEach(u=>d.append(u)),a.append(s,l,d),o.append(a);let c=!1;o.addEventListener("mousedown",u=>{c=u.target===o}),o.addEventListener("mouseup",u=>{c&&u.target===o&&(typeof n=="function"?n():(document.body.removeChild(o),document.removeEventListener("keydown",p))),c=!1});function p(u){if(u.key==="Escape"){if(typeof n=="function"){n();return}document.body.removeChild(o),document.removeEventListener("keydown",p)}}return document.addEventListener("keydown",p),document.body.append(o),{overlay:o,modal:a,body:l,footer:d}}function la(e,t){const r=(e.pos||[]).filter(s=>((s==null?void 0:s.sku)||"").trim().toLowerCase()===String(t||"").trim().toLowerCase()).sort((s,l)=>(l.orderDate||"").localeCompare(s.orderDate||"")).slice(0,10);if(!r.length)return C("p",{class:"empty-state"},["Keine Bestellhistorie verfÃ¼gbar."]);const n=C("table",{class:"table","data-ui-table":"true"}),o=C("thead",{},[C("tr",{},[C("th",{},["PO-Nr."]),C("th",{},["Bestelldatum"]),C("th",{},["StÃ¼ckzahl"]),C("th",{},["StÃ¼ckpreis (USD)"]),C("th",{},["Produktionstage"]),C("th",{},["Transit"]),C("th",{},["Transport"]),C("th",{},["Fracht (â¬)"]),C("th",{},["Zoll %"]),C("th",{},["EUSt %"]),C("th",{},["FX-Fee %"])])]),a=C("tbody");return r.forEach(s=>{a.append(C("tr",{},[C("td",{},[s.poNumber||s.number||"â"]),C("td",{},[Ga(s.orderDate)]),C("td",{},[s.units!=null?$t(we(s.units),0):"â"]),C("td",{},[Xa(s.unitCostUsd)]),C("td",{},[Number.isFinite(Number(s.prodDays))?String(s.prodDays):"â"]),C("td",{},[Number.isFinite(Number(s.transitDays))?String(s.transitDays):"â"]),C("td",{},[s.transport||"â"]),C("td",{},[kd(s.freightEur)]),C("td",{},[s.dutyRatePct!=null?$t(we(s.dutyRatePct),2):"â"]),C("td",{},[s.eustRatePct!=null?$t(we(s.eustRatePct),2):"â"]),C("td",{},[s.fxFeePct!=null?$t(we(s.fxFeePct),2):"â"])]))}),n.append(o,a),n}function An(e){const t=yr(),r=Ql(t),n=jl().map(S=>{const F=String((S==null?void 0:S.sku)||"").trim().toLowerCase(),z=F?r.bySku.get(F):null;return{...S,abcClass:(z==null?void 0:z.abcClass)??null,abcMeta:z||null}}),o=Wl(n,t.settings||{}),a=new Map;o.forEach(S=>{const F=String(S.entityId||"").trim();F&&(a.has(F)||a.set(F,[]),a.get(F).push(S))});const s=Array.isArray(t.productCategories)?t.productCategories:[],l=new Map(s.map(S=>[String(S.id),S])),d=Jl(t,n);let c="";const p="productsCompletenessView";let m=Qn(p,{filter:"all"}).filter||"all";const f="productsAbcFilter";let h=Qn(f,{filter:"all"}).filter||"all";const g="productsTableSort";let E=Qn(g,{mode:"category"}).mode||"category";m==="ready"&&(m="ok");let y=Zl("productsView");y!=="table"&&y!=="list"&&(y="list");const $=e.__productsBulkDraft||ko({},{key:"products:bulk",enableDraftCache:!0});e.__productsBulkDraft=$;const w=$.draft;e.__productsBulkGuard&&(e.__productsBulkGuard.unregister(),e.__productsBulkGuard.detachBeforeUnload());const _=xo(()=>$.isDirty,"Ungespeicherte Ãnderungen verwerfen?");e.__productsBulkGuard=_,_.register(),_.attachBeforeUnload();const I="productsCategoryCollapse",O=sessionStorage.getItem("healthFocus");if(O){try{const S=JSON.parse(O);(S==null?void 0:S.tab)==="produkte"&&S.sku&&(c=String(S.sku))}catch{}sessionStorage.removeItem("healthFocus")}const b=$.loadDraftIfAvailable();!e.__bulkDraftPrompted&&(b!=null&&b.exists)&&Object.keys(w).length===0&&(e.__bulkDraftPrompted=!0,hr({title:"Entwurf gefunden",message:"Es gibt ungespeicherte TabellenÃ¤nderungen. Wiederherstellen?",confirmLabel:"Wiederherstellen",cancelLabel:"Verwerfen",onConfirm:()=>{$.restoreDraft(),ae()},onCancel:()=>{$.discardDraft()}}));function B(S){const F=a.get(S)||[];if(!F.length)return null;const z=oa(F);return C("button",{class:"data-health-dot",type:"button",title:z,"aria-label":z,onclick:L=>{L.stopPropagation(),wo({scope:"product",entityId:S})}})}const D=new Map,U={state:t};function A(S){return S!=null&&S.sku?(D.has(S.sku)||D.set(S.sku,Jn(S,U)),D.get(S.sku)):Jn(S,{state:t})}function N(S){var re;const F=we((re=t==null?void 0:t.settings)==null?void 0:re.moqDefaultUnits),z=we(S==null?void 0:S.moqOverrideUnits);if(z!=null&&z>0)return Math.round(z);const L=we(S==null?void 0:S.moqUnits);return L!=null&&L>0?Math.round(L):F!=null&&F>0?Math.round(F):null}function K(S,F,z,L){const re=F?S.filter(ee=>{const Y=F.trim().toLowerCase(),k=ie(ee.categoryId),M=d.get(ee.supplierId);return[ee.alias,ee.sku,ee.supplierId,M,k].filter(Boolean).some(H=>String(H).toLowerCase().includes(Y))}):S,se=!L||L==="all"?re:re.filter(ee=>lo(ee.abcClass)===L);if(!z||z==="all")return se;const G=z==="ready"?"ok":z==="warning"?"warn":z;return se.filter(ee=>A(ee).status===G)}function P(S){return S==="ok"?"OK":S==="warn"?"WARN":"BLOCKED"}function T(S,F=3){const z=(S||[]).map(se=>se.label).filter(Boolean);if(!z.length)return"";const L=z.slice(0,F),re=z.length-L.length;return`${L.join(", ")}${re>0?` +${re} weitere`:""}`}function Q(S){const F=[],z=T(S.blockingMissing),L=T(S.defaulted),re=T(S.suggestedMissing);z&&F.push(`Fehlt: ${z}`);const se=[];return L&&se.push(`Standardwert: ${L}`),re&&se.push(`Empfohlen: ${re}`),se.length&&F.push(se.join(" Â· ")),F.length||F.push("Alle Pflichtfelder vorhanden."),F.slice(0,2).map(G=>C("div",{},[G]))}function W(){let S=document.getElementById("products-completeness-tooltip");return S||(S=C("div",{id:"products-completeness-tooltip",class:"portal-tooltip",role:"tooltip",hidden:!0}),document.body.appendChild(S)),S}function le(S,F,{delay:z=150}={}){let L=null,re=!1,se=null;function G(){const H=W(),ue=S.getBoundingClientRect(),me=H.getBoundingClientRect(),Te=8;let de=ue.left,ze=ue.bottom+8;const Qe=window.innerWidth-me.width-Te;de>Qe&&(de=Qe),de<Te&&(de=Te),ze+me.height>window.innerHeight-Te&&(ze=ue.top-me.height-8),ze<Te&&(ze=Te),H.style.left=`${de}px`,H.style.top=`${ze}px`}function ee(){if(re)return;re=!0;const H=W();H.innerHTML="",H.append(...F()),H.hidden=!1,H.classList.add("is-visible"),S.setAttribute("aria-describedby",H.id),requestAnimationFrame(G);const ue=()=>G(),me=()=>G();window.addEventListener("scroll",ue,!0),window.addEventListener("resize",me),se=()=>{window.removeEventListener("scroll",ue,!0),window.removeEventListener("resize",me)}}function Y(){if(clearTimeout(L),!re)return;re=!1;const H=W();H.hidden=!0,H.classList.remove("is-visible"),H.innerHTML="",se&&se(),se=null}function k(){clearTimeout(L),L=setTimeout(ee,z)}function M(){Y()}S.addEventListener("mouseenter",k),S.addEventListener("focus",k),S.addEventListener("mouseleave",M),S.addEventListener("blur",M)}function fe(S){const F=A(S),z=F.status||"blocked",L=P(z),re=C("button",{class:`tooltip-trigger completeness-badge ${z}`,type:"button","aria-label":L,onclick:se=>{var G;se.stopPropagation(),z==="blocked"&&((G=F.blockingMissing)!=null&&G.length)&&pe(S,{focusFieldKey:F.blockingMissing[0].fieldKey})}},[L]);return le(re,()=>Q(F)),re}function be(S){const F=A(S),z=F.status||"blocked",L=P(z),re=[T(F.blockingMissing),T(F.defaulted),T(F.suggestedMissing)].filter(Boolean).join(" Â· ")||"Alle Pflichtfelder vorhanden.",se=i.createElement("button",{className:`tooltip-trigger completeness-badge ${z}`,type:"button",onClick:G=>{var ee;G.stopPropagation(),z==="blocked"&&((ee=F.blockingMissing)!=null&&ee.length)&&pe(S,{focusFieldKey:F.blockingMissing[0].fieldKey})}},L);return i.createElement(oo,{title:re},se)}function ce(S){const F=a.get(S)||[];if(!F.length)return null;const z=oa(F);return i.createElement("button",{className:"data-health-dot",type:"button","aria-label":z,onClick:L=>{L.stopPropagation(),wo({scope:"product",entityId:S})}})}e.__productsActionsCleanup&&e.__productsActionsCleanup();let Ee=null,Ie=null;function ke(){Ie&&Ie.setAttribute("aria-expanded","false"),Ee&&Ee.remove(),Ee=null,Ie=null}function Pe(){if(!Ee||!Ie)return;const S=Ie.getBoundingClientRect(),F=Ee.getBoundingClientRect(),z=8,L=window.innerWidth-F.width-z,re=window.innerHeight-F.height-z;let se=S.right-F.width,G=S.bottom+6;se=Math.min(L,se),se=Math.max(z,se),G>re&&(G=S.top-F.height-6),G=Math.max(z,G),Ee.style.left=`${se}px`,Ee.style.top=`${G}px`}function Re(S,F){if(!S||!F)return;if(Ie===S){ke();return}ke();const z=C("div",{class:"product-actions-menu",role:"menu"}),L=C("button",{class:"product-actions-menu-item",type:"button",onclick:G=>{G.stopPropagation(),X(F),ke()}},["Historie"]),re=C("button",{class:"product-actions-menu-item",type:"button",onclick:G=>{G.stopPropagation(),Xl(F.sku,F.status==="inactive"?"active":"inactive"),ke(),An(e)}},[F.status==="inactive"?"Aktiv setzen":"Inaktiv setzen"]),se=C("button",{class:"product-actions-menu-item danger",type:"button",onclick:G=>{G.stopPropagation(),confirm("Produkt wirklich lÃ¶schen?")&&(Yl(F.sku),ke(),An(e))}},["LÃ¶schen"]);z.append(L,re,se),document.body.appendChild(z),Ee=z,Ie=S,Ie.setAttribute("aria-expanded","true"),Pe(),requestAnimationFrame(Pe)}function xe(S){Ee&&(Ee.contains(S.target)||Ie&&Ie.contains(S.target)||ke())}function De(){Pe()}function Ae(){Ee&&ke()}document.addEventListener("click",xe),window.addEventListener("resize",De),window.addEventListener("scroll",Ae,!0),e.__productsActionsCleanup=()=>{ke(),document.removeEventListener("click",xe),window.removeEventListener("resize",De),window.removeEventListener("scroll",Ae,!0)};function ie(S){if(!S)return"Ohne Kategorie";const F=l.get(String(S));return(F==null?void 0:F.name)||"Ohne Kategorie"}function he(){return Qn(I,{})}function te(S){er(I,S)}function oe(S){const F={};ye(n).forEach(L=>{F[L.id]=S}),te(F)}function ye(S,{sortMode:F}={}){const z=new Map;S.forEach(G=>{const ee=G.categoryId?String(G.categoryId):"";z.has(ee)||z.set(ee,[]),z.get(ee).push(G)}),F==="abc"&&z.forEach(G=>{G.sort((ee,Y)=>{const k=ra(ee.abcClass)-ra(Y.abcClass);return k||String(ee.alias||ee.sku||"").localeCompare(String(Y.alias||Y.sku||""))})});const re=s.slice().sort((G,ee)=>(G.sortOrder??0)-(ee.sortOrder??0)||String(G.name||"").localeCompare(String(ee.name||""))).map(G=>({id:String(G.id),name:G.name||"Ohne Kategorie",items:z.get(String(G.id))||[]})),se=z.get("")||[];return se.length&&re.push({id:"uncategorized",name:"Ohne Kategorie",items:se}),re}function pe(S,F={}){var co;const z=yr();let L=S?{...S}:{sku:"",alias:"",supplierId:"",status:"active",tags:[],template:null,abcClass:null};const re=ko(L,{key:L.sku?`product:${L.sku}`:"product:new",enableDraftCache:!0});L=re.draft;const se=xo(()=>re.isDirty,"Ungespeicherte Ãnderungen verwerfen?"),G=C("form",{class:"form"}),ee=F.focusFieldKey,Y=C("input",{value:L.sku||"",required:!0}),k=C("input",{value:L.alias||"",required:!0}),M=(()=>{const R=C("select");return R.append(C("option",{value:""},["Ohne Supplier"])),(z.suppliers||[]).forEach(q=>{const ge=d.get(q.id)||q.name||q.id;R.append(C("option",{value:q.id},[ge]))}),R.value=L.supplierId||"",R})(),H=C("select",{},[C("option",{value:"active",selected:L.status!=="inactive"},["Aktiv"]),C("option",{value:"inactive",selected:L.status==="inactive"},["Inaktiv"])]),ue=C("input",{value:nr(L.abcClass),disabled:!0}),me=(()=>{const R=C("select");return R.append(C("option",{value:""},["Ohne Kategorie"])),s.forEach(q=>{R.append(C("option",{value:q.id},[q.name]))}),R.value=L.categoryId||"",R})(),Te=C("input",{value:L.avgSellingPriceGrossEUR!=null?vt(we(L.avgSellingPriceGrossEUR),2):"",inputmode:"decimal"}),de=C("input",{value:L.sellerboardMarginPct!=null?vt(we(L.sellerboardMarginPct),2):"",inputmode:"decimal"}),ze=C("input",{value:L.productionLeadTimeDaysDefault!=null?vt(we(L.productionLeadTimeDaysDefault),0):"",inputmode:"decimal"}),Qe=C("input",{value:L.moqUnits!=null?vt(we(L.moqUnits),0):"",inputmode:"decimal"}),rt=C("input",{value:L.safetyStockDohOverride!=null?vt(we(L.safetyStockDohOverride),0):"",inputmode:"decimal"}),Ce=C("input",{value:L.foCoverageDohOverride!=null?vt(we(L.foCoverageDohOverride),0):"",inputmode:"decimal"}),ht=C("input",{value:L.moqOverrideUnits!=null?vt(we(L.moqOverrideUnits),0):"",inputmode:"decimal"}),it=C("input",{value:L.landedUnitCostEur!=null?vt(we(L.landedUnitCostEur),2):"",inputmode:"decimal"}),dt=(co=L.template)!=null&&co.fields?{...L.template.fields}:L.template||{};!dt.transportMode&&dt.transport&&(dt.transportMode=dt.transport);const tt=z.settings||{},pt=Number(tt.safetyStockDohDefault??60),st=Number(tt.foCoverageDohDefault??90),lt=Number(tt.moqDefaultUnits??500),Ze=we(tt.fxRate)??we(tt.fxRate)??null,mt={unitPriceUsd:0,extraPerUnitUsd:0,extraFlatUsd:0,transportMode:"SEA",productionDays:0,transitDays:0,freightEur:0,dutyPct:0,vatImportPct:19,vatRefundLag:0,fxRate:Ze,fxFeePct:0,ddp:tt.defaultDdp===!0,currency:tt.defaultCurrency||"EUR"},Rt=[{key:"unitPriceUsd",label:"StÃ¼ckpreis (USD)",valueType:"number",decimals:2},{key:"extraPerUnitUsd",label:"Zusatz je StÃ¼ck (USD)",valueType:"number",decimals:2},{key:"extraFlatUsd",label:"Zusatz pauschal (USD)",valueType:"number",decimals:2},{key:"transportMode",label:"Transport",type:"select",options:["SEA","RAIL","AIR"]},{key:"productionDays",label:"Produktionstage",valueType:"number",decimals:0},{key:"transitDays",label:"Transit-Tage",valueType:"number",decimals:0},{key:"freightEur",label:"Logistik / Stk. (EUR)",valueType:"number",decimals:2},{key:"dutyPct",label:"Zoll %",valueType:"number",decimals:2},{key:"dutyIncludesFreight",label:"Fracht einbeziehen",type:"checkbox"},{key:"vatImportPct",label:"EUSt %",valueType:"number",decimals:2},{key:"vatRefundActive",label:"EUSt-Erstattung aktiv",type:"checkbox"},{key:"vatRefundLag",label:"EUSt-Lag (Monate)",valueType:"number",decimals:0},{key:"fxRate",label:"FX-Kurs",valueType:"number",decimals:4},{key:"fxFeePct",label:"FX-GebÃ¼hr %",valueType:"number",decimals:2},{key:"currency",label:"Currency",type:"select",options:["USD","EUR","CNY"]},{key:"ddp",label:"DDP",type:"checkbox"}],Fe=C("div",{class:"table-card-header"},[C("h4",{},["Template-Werte"]),C("button",{class:"btn secondary",type:"button",id:"product-apply-latest"},["Letzte PO Werte Ã¼bernehmen"])]),_e=C("div",{class:"product-completeness-summary",hidden:!0}),Ye=C("div",{class:"product-completeness-summary-title"}),ut=C("div",{class:"product-completeness-summary-list"});_e.append(Ye,ut);const bt=C("label",{},["SKU",Y]),J=C("label",{},["Alias",k]),Z=C("label",{},["Supplier",M]),V=C("label",{},["Kategorie",me]),Le=C("label",{},["Status",H]),Ke=C("label",{},["ABC Klassifizierung",ue]),Se=C("label",{},["Ã VK-Preis (Brutto)",Te]),qe=C("label",{},["Sellerboard Marge (%)",de]),He=C("label",{},["Default Production Lead Time (Fallback)",ze]),ot=C("label",{},["MOQ (Einheiten)",Qe]),ft=C("label",{},["Safety Stock DOH Override (optional)",rt,C("small",{class:"muted",id:"safety-stock-effective"},[])]),et=C("label",{},["FO Coverage DOH Override (optional)",Ce,C("small",{class:"muted",id:"fo-coverage-effective"},[])]),xt=C("label",{},["MOQ Override (optional)",ht,C("small",{class:"muted",id:"moq-effective"},[])]),Et=C("label",{},["Einstandspreis (EUR)",it,C("small",{class:"muted",id:"shipping-derived"},[])]);G.append(_e,bt,J,Z,V,Le,Ke,Se,qe,He,ot,C("hr"),C("h4",{},["Inventory Planning Overrides"]),ft,et,xt,Et,C("hr"),Fe),[{input:Te,decimals:2},{input:de,decimals:2},{input:ze,decimals:0},{input:Qe,decimals:0},{input:rt,decimals:0},{input:Ce,decimals:0},{input:ht,decimals:0},{input:it,decimals:2}].forEach(({input:R,decimals:q})=>{R.addEventListener("blur",()=>{const ge=we(R.value);R.value=ge==null?"":vt(ge,q),Tt()}),R.addEventListener("input",()=>{Tt()})});const Yt=C("div",{class:"grid two"}),Dt={},jn={},un={},kn=new Map,$n=new Map,sn="Pflichtfeld â benÃ¶tigt fÃ¼r PO/FO & Kalkulation",Wn={avgSellingPriceGrossEUR:"Empfohlen fÃ¼r Pricing Analytics.",sellerboardMarginPct:"Empfohlen fÃ¼r Pricing Analytics.",landedUnitCostEur:"Wird verfÃ¼gbar nach erster PO / kann spÃ¤ter gepflegt werden."},Nn={unitPriceUsd:{min:0},extraPerUnitUsd:{min:0},extraFlatUsd:{min:0},productionDays:{min:0,integer:!0},transitDays:{min:0,integer:!0},freightEur:{min:0},dutyPct:{min:0,max:100},vatImportPct:{min:0,max:100},vatRefundLag:{min:0,integer:!0},fxRate:{min:1e-4},fxFeePct:{min:0,max:100}};function Zt(R){const q=Nn[R];if(!q)return!0;const ge=Dt[R],$e=jn[R];if(!ge||!$e)return!0;const Oe=String(ge.value||"").trim();if(!Oe){const nt=mt[R];return R==="fxRate"&&(nt==null||nt<=0)?($e.textContent="FX-Kurs ist erforderlich.",!1):($e.textContent="",!0)}const We=we(Oe);return We==null?($e.textContent="UngÃ¼ltiger Wert.",!1):q.integer&&!Number.isInteger(We)?($e.textContent="Bitte eine ganze Zahl eingeben.",!1):q.min!=null&&We<q.min?($e.textContent=`Wert muss â¥ ${q.min} sein.`,!1):q.max!=null&&We>q.max?($e.textContent=`Wert muss â¤ ${q.max} sein.`,!1):($e.textContent="",!0)}function Rn(){return Object.keys(Nn).every(R=>Zt(R))}function Bt(){const R=Rn(),ge=(Be||qt()).status==="blocked";At.disabled=!R||!re.isDirty||ge}const mr=(()=>{const q=(z.pos||[]).filter(nt=>String((nt==null?void 0:nt.sku)||"").trim().toLowerCase()===String(L.sku||"").trim().toLowerCase()).sort((nt,wt)=>(wt.orderDate||"").localeCompare(nt.orderDate||""))[0];if(!q)return"Hinweis: â";const ge=we(q.freightPerUnitEur),$e=we(q.units),Oe=we(q.freightEur),We=ge??(Oe!=null&&$e?Oe/$e:null);return We==null||!Number.isFinite(We)?"Hinweis: â":`Hinweis: Logistik / Stk. (EUR) aus letzter PO: ${$t(We,2)} â¬`})();function Kt(R,q,ge){if(!q||!ge)return;const $e=C("small",{class:"field-required-helper",hidden:!0},[sn]);q.append($e),kn.set(R,{input:ge,helper:$e})}function Pn(R,q,ge){if(!q||!ge)return;const $e=C("small",{class:"field-suggested-helper",hidden:!0},[Wn[R]||"Empfohlen."]);q.append($e),$n.set(R,{input:ge,helper:$e})}function Jt(R){const q=kn.get(R);q&&(q.input.scrollIntoView({behavior:"smooth",block:"center"}),q.input.focus({preventScroll:!0}))}Rt.forEach(R=>{if(un[R.key]=R,R.type==="checkbox"){const q=C("input",{type:"checkbox",name:R.key,checked:!!dt[R.key]});Dt[R.key]=q,Yt.append(C("label",{class:"inline-checkbox"},[q," ",R.label]))}else if(R.type==="select"){const q=C("select",{name:R.key});(R.options||[]).forEach($e=>{q.append(C("option",{value:$e},[$e]))});const ge=dt[R.key]??mt[R.key];q.value=ge||(R.options?R.options[0]:""),Dt[R.key]=q,Yt.append(C("label",{},[R.label,q]))}else{const q=typeof R.decimals=="number"?R.decimals:2,ge=dt[R.key]??mt[R.key],$e=we(ge),Oe=$e!=null?vt($e,q):"",We=C("input",{name:R.key,value:Oe,inputmode:"decimal"});We.addEventListener("blur",()=>{const Lt=we(We.value),Ft=mt[R.key],en=Lt??Ft;We.value=en==null?"":vt(en,q),Zt(R.key),Bt(),R.key==="unitPriceUsd"&&Tt()}),We.addEventListener("input",()=>{Zt(R.key),Bt(),R.key==="unitPriceUsd"&&Tt()}),Dt[R.key]=We;const nt=C("small",{class:"form-error"},[]);jn[R.key]=nt;const wt=C("label",{},[R.label,We,nt]);R.key==="freightEur"&&wt.append(C("small",{class:"muted"},[mr])),R.key==="unitPriceUsd"&&Kt("unitPriceUsd",wt,We),R.key==="transitDays"&&Kt("transitDays",wt,We),R.key==="dutyPct"&&Kt("dutyPct",wt,We),R.key==="vatImportPct"&&Kt("vatImportPct",wt,We),Yt.append(wt)}}),G.append(Yt);const fn=Ln("#safety-stock-effective",G),pn=Ln("#fo-coverage-effective",G),In=Ln("#moq-effective",G),Qt=Ln("#shipping-derived",G);function Tt(){var nt,wt;const R=we(rt.value),q=we(Ce.value),ge=we(ht.value),$e=R??pt,Oe=q??st,We=ge??lt;if(fn&&(fn.textContent=`Effektiv: ${$t($e,0)} Tage (Default: ${$t(pt,0)})`),pn&&(pn.textContent=`Effektiv: ${$t(Oe,0)} Tage (Default: ${$t(st,0)})`),In&&(In.textContent=`Effektiv: ${$t(We,0)} Einheiten (Default: ${$t(lt,0)})`),Qt){const Lt=we((nt=Dt.unitPriceUsd)==null?void 0:nt.value),Ft=we(it.value),en=we((wt=Dt.fxRate)==null?void 0:wt.value)??Ze,mn=So({unitPriceUsd:Lt,landedCostEur:Ft,fxUsdPerEur:en});Qt.innerHTML="";const Yn=mn.value==null?"Logistik / Stk. (EUR, berechnet): â":`Logistik / Stk. (EUR, berechnet): ${$t(mn.value,2)} â¬`;Qt.append(document.createTextNode(Yn));const Kn=mn.missingFields.map(Zn=>Zn==="landedCostEur"?"Einstandspreis (EUR)":Zn==="unitPriceUsd"?"StÃ¼ckpreis USD":Zn==="fxUsdPerEur"?"FX (USD je EUR)":Zn);Qt.append(C("span",{class:"tooltip"},[C("button",{class:"tooltip-trigger",type:"button","aria-label":"Formel"},["â¹ï¸"]),C("span",{class:"tooltip-content"},["Formel: Einstandspreis (EUR) â (StÃ¼ckpreis USD Ã· FX). Negative Werte werden auf 0 gesetzt.",Kn.length?` Fehlend: ${Kn.join(", ")}.`:""])])),mn.warning&&Qt.append(C("span",{class:"badge fo-recommendation-badge"},["Check landed cost / FX"]))}}function Pt(R,q){const ge=Dt[R];if(!ge)return;const $e=un[R]||{};if(ge.type==="checkbox"){ge.checked=!!q;return}if(ge.tagName==="SELECT"){ge.value=q!=null?String(q):ge.value;return}const Oe=typeof $e.decimals=="number"?$e.decimals:2,We=we(q);ge.value=We==null?"":vt(We,Oe),Zt(R)}function vr(){var ge;const R=re.draft||{};Y.value=R.sku||"",k.value=R.alias||"",M.value=R.supplierId||"",H.value=R.status||"active",me.value=R.categoryId||"",ue.value=nr(L.abcClass),Te.value=R.avgSellingPriceGrossEUR!=null?vt(we(R.avgSellingPriceGrossEUR),2):"",de.value=R.sellerboardMarginPct!=null?vt(we(R.sellerboardMarginPct),2):"",ze.value=R.productionLeadTimeDaysDefault!=null?vt(we(R.productionLeadTimeDaysDefault),0):"",Qe.value=R.moqUnits!=null?vt(we(R.moqUnits),0):"",rt.value=R.safetyStockDohOverride!=null?vt(we(R.safetyStockDohOverride),0):"",Ce.value=R.foCoverageDohOverride!=null?vt(we(R.foCoverageDohOverride),0):"",ht.value=R.moqOverrideUnits!=null?vt(we(R.moqOverrideUnits),0):"",it.value=R.landedUnitCostEur!=null?vt(we(R.landedUnitCostEur),2):"";const q=(ge=R.template)!=null&&ge.fields?R.template.fields:R.template||{};Object.keys(Dt).forEach($e=>{Pt($e,q[$e])}),cn.value=q.milestones?JSON.stringify(q.milestones,null,2):"",Tt(),gr()}function Vn(){const R=Y.value.trim();if(!R){vn("Bitte zuerst eine SKU angeben.");return}const q=(z.pos||[]).filter(nt=>String((nt==null?void 0:nt.sku)||"").trim().toLowerCase()===R.toLowerCase()).sort((nt,wt)=>(wt.orderDate||"").localeCompare(nt.orderDate||""))[0];if(!q){vn("Keine PO vorhanden.");return}const ge=we(q.freightPerUnitEur),$e=we(q.units),Oe=we(q.freightEur),We=ge??(Oe!=null&&$e?Oe/$e:null);Pt("unitPriceUsd",q.unitCostUsd),Pt("freightEur",We),Pt("productionDays",q.prodDays),Pt("transitDays",q.transitDays),Pt("transportMode",String(q.transport||"SEA").toUpperCase()),Pt("dutyPct",q.dutyRatePct),Pt("vatImportPct",q.eustRatePct),Pt("fxRate",q.fxOverride??tt.fxRate),Pt("fxFeePct",q.fxFeePct),Pt("ddp",q.ddp===!0),Pt("currency","USD"),Tt(),Xn(),vn("Letzte PO Werte Ã¼bernommen.")}const cn=C("textarea",{placeholder:"Milestones im JSON-Format (optional)",value:dt.milestones?JSON.stringify(dt.milestones,null,2):"",rows:6,style:"width:100%; margin-top:12px;"});G.append(C("label",{},["Meilensteine (JSON)",cn]));const qn=C("div",{class:"product-history"},[C("h4",{},["Historie"]),la(z,L.sku)]),On=C("div",{class:"product-suppliers"},[C("h4",{},["Suppliers"]),C("p",{class:"muted"},["SKU-Mappings wurden entfernt. Lieferanten und Preise werden direkt im Produktstamm gepflegt."])]),At=C("button",{class:"btn",type:"submit"},["Speichern"]),Gn=C("button",{class:"btn secondary",type:"button"},["Abbrechen"]);let Me,Be=Jn(L,{state:z});se.register(),se.attachBeforeUnload();function Ct(){se.unregister(),se.detachBeforeUnload(),e.__productsBulkGuard&&e.__productsBulkGuard.register(),Me.overlay.remove()}function It(){if(!re.isDirty){Ct();return}se({confirmWithModal:({onConfirm:R})=>hr({title:"Ungespeicherte Ãnderungen",message:"Ungespeicherte Ãnderungen verwerfen?",confirmLabel:"Verwerfen",cancelLabel:"Abbrechen",onConfirm:()=>{re.discardDraft(),R==null||R(),Ct()}})})}Me=aa({title:S?`Produkt bearbeiten â ${S.alias||S.sku}`:"Neues Produkt",content:C("div",{},[G,qn,On]),actions:[Gn,At],onClose:It}),Gn.addEventListener("click",It),At.addEventListener("click",R=>{R.preventDefault(),G.requestSubmit()});const yt=re.loadDraftIfAvailable();yt!=null&&yt.exists&&hr({title:"Entwurf gefunden",message:"Es gibt einen ungespeicherten Entwurf. Wiederherstellen?",confirmLabel:"Wiederherstellen",cancelLabel:"Verwerfen",onConfirm:()=>{re.restoreDraft(),vr(),Xn()},onCancel:()=>{re.discardDraft(),Bt()}});const Wt=Ln("#product-apply-latest",G);Wt&&Wt.addEventListener("click",Vn),Kt("sku",bt,Y),Kt("alias",J,k),Kt("categoryId",V,me),Kt("moqUnits",ot,Qe),Kt("productionLeadTimeDaysDefault",He,ze),Kt("avgSellingPriceGrossEUR",Se,Te),Pn("sellerboardMarginPct",qe,de),Pn("landedUnitCostEur",Et,it),Object.keys(Nn).forEach(R=>Zt(R)),gr(),Tt(),ee&&requestAnimationFrame(()=>Jt(ee));function Vt({strict:R}={}){const q=cn.value.trim();if(!q)return null;try{const ge=JSON.parse(q);if(!Array.isArray(ge))return null;const $e=ge.reduce((Oe,We)=>Oe+Number(We.percent||0),0);if(R&&Math.round($e)!==100)throw new Error("Meilensteine mÃ¼ssen in Summe 100 % ergeben.");return ge}catch(ge){if(R)throw ge;return null}}function Mt({strictMilestones:R=!1}={}){var nt,wt;const q={sku:Y.value.trim(),alias:k.value.trim(),supplierId:M.value.trim(),categoryId:me.value.trim()||null,status:H.value,tags:Array.isArray(L.tags)?[...L.tags]:[],avgSellingPriceGrossEUR:we(Te.value.trim()),sellerboardMarginPct:we(de.value.trim()),productionLeadTimeDaysDefault:we(ze.value.trim()),moqUnits:we(Qe.value.trim()),safetyStockDohOverride:we(rt.value.trim()),foCoverageDohOverride:we(Ce.value.trim()),moqOverrideUnits:we(ht.value.trim()),landedUnitCostEur:we(it.value.trim())};S!=null&&S.sku&&(q.originalSku=S.sku);const ge={};Object.entries(Dt).forEach(([Lt,Ft])=>{if(!Ft)return;if(Ft.type==="checkbox"){ge[Lt]=Ft.checked;return}if(Ft.tagName==="SELECT"){ge[Lt]=Ft.value;return}const en=Ft.value.trim(),mn=un[Lt]||{};if(en===""){const Kn=mt[Lt];Kn!=null&&(ge[Lt]=Kn);return}if(mn.valueType==="text"){ge[Lt]=en;return}const Yn=we(en);Yn!=null&&(ge[Lt]=Yn)});const $e=Vt({strict:R});$e&&(ge.milestones=$e),Object.keys(ge).length?q.template={scope:((nt=S==null?void 0:S.template)==null?void 0:nt.scope)||"SKU",name:((wt=S==null?void 0:S.template)==null?void 0:wt.name)||"Standard (SKU)",fields:ge}:q.template=null;const Oe=ge.fxRate??Ze,We=So({unitPriceUsd:ge.unitPriceUsd??null,landedCostEur:q.landedUnitCostEur,fxUsdPerEur:Oe});return q.fxUsdPerEur=Oe??null,q.logisticsPerUnitEur=We.value,q.freightPerUnitEur=We.value,q}function qt(){const R=Mt();return Jn(R,{state:z})}function Dn(R){if(!R)return"";if(R.fieldKey==="unitPriceUsd"&&R.value){const q=$t(R.value.amount,2),ge=R.value.currency||"";return`Default aktiv: ${q} ${ge}`.trim()}return R.fieldKey==="moqUnits"?`Default aktiv: ${$t(R.value,0)} Einheiten`:R.fieldKey==="productionLeadTimeDaysDefault"||R.fieldKey==="transitDays"?`Default aktiv: ${$t(R.value,0)} Tage`:R.fieldKey==="dutyPct"||R.fieldKey==="vatImportPct"?`Default aktiv: ${$t(R.value,2)} %`:"Default aktiv"}function io(R){const q=R.blockingMissing||[],ge=R.defaulted||[];if(ut.innerHTML="",q.length){_e.hidden=!1,_e.classList.add("blocked"),_e.classList.remove("warn"),Ye.textContent=`Blockiert: ${q.length} Pflichtfelder fehlen`,q.forEach($e=>{const Oe=C("button",{class:"btn secondary sm",type:"button"},[$e.label]);Oe.addEventListener("click",()=>Jt($e.fieldKey)),ut.append(Oe)});return}if(ge.length){_e.hidden=!1,_e.classList.add("warn"),_e.classList.remove("blocked"),Ye.textContent="Hinweis: Defaults aktiv",ge.forEach($e=>{const Oe=C("span",{class:"btn secondary sm"},[$e.label]);ut.append(Oe)});return}_e.hidden=!0,_e.classList.remove("blocked","warn")}function so(R){const q=new Set((R.blockingMissing||[]).map(Oe=>Oe.fieldKey)),ge=new Map((R.defaulted||[]).map(Oe=>[Oe.fieldKey,Oe]));kn.forEach((Oe,We)=>{const nt=q.has(We),wt=ge.get(We);if(Oe.input.classList.toggle("field-missing-required",nt),Oe.input.setAttribute("aria-invalid",nt?"true":"false"),nt){Oe.helper.textContent=sn,Oe.helper.classList.add("is-missing"),Oe.helper.classList.remove("is-defaulted"),Oe.helper.hidden=!1;return}if(wt){Oe.helper.textContent=Dn(wt),Oe.helper.classList.add("is-defaulted"),Oe.helper.classList.remove("is-missing"),Oe.helper.hidden=!1;return}Oe.helper.textContent="",Oe.helper.classList.remove("is-missing","is-defaulted"),Oe.helper.hidden=!0});const $e=new Set((R.suggestedMissing||[]).map(Oe=>Oe.fieldKey));$n.forEach((Oe,We)=>{const nt=$e.has(We);Oe.helper.hidden=!nt})}function gr(){Be=qt(),so(Be),io(Be),Bt()}function Xn(){const R=Mt();re.setDraft(R),gr()}G.addEventListener("submit",async R=>{if(R.preventDefault(),!Rn()){Bt();return}const q=qt();if(q.status==="blocked"){so(q),io(q),vn("Bitte Pflichtfelder ergÃ¤nzen."),Bt();return}At.disabled=!0,At.textContent="Speichernâ¦";let ge;try{ge=Mt({strictMilestones:!0})}catch($e){alert($e.message||String($e)),At.textContent="Speichern",Bt();return}try{await re.commit(()=>Co(ge)),Me.overlay.remove(),An(e)}catch($e){alert($e.message||String($e)),At.textContent="Speichern",Bt()}}),G.addEventListener("input",Xn),G.addEventListener("change",Xn)}function je(S){if(!S.length)return C("p",{class:"empty-state"},["Keine Produkte gefunden. Lege ein Produkt an oder erfasse eine PO."]);const F=he(),z=ye(S),L=[];z.forEach(k=>{const M=!!F[k.id];L.push({id:`group-${k.id}`,isGroup:!0,categoryId:k.id,categoryName:k.name,count:k.items.length,collapsed:M}),!M&&k.items.forEach(H=>{L.push({id:`product-${H.sku}`,isGroup:!1,product:H})})});const re=[{key:"alias",title:"Alias",dataIndex:"alias",width:230,fixed:"left",onCell:k=>k.isGroup?{colSpan:14}:{},render:(k,M)=>{if(M.isGroup)return i.createElement("button",{className:"product-group-toggle",type:"button","aria-expanded":String(!M.collapsed),onClick:()=>{const me=he();me[M.categoryId]=!M.collapsed,te(me),ae()}},`${M.categoryName} (${M.count})`);const H=M.product,ue=H.alias||"â";return i.createElement("div",{className:"data-health-inline"},[ce(H.sku),i.createElement("span",{className:"truncate-text"},ue),H.status==="inactive"?i.createElement("span",{className:"badge muted"},"inaktiv"):null])}},{key:"sku",title:"SKU",dataIndex:"sku",width:130,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>M.isGroup?null:M.product.sku||"â"},{key:"supplier",title:"Supplier",dataIndex:"supplier",width:180,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>{if(M.isGroup)return null;const H=M.product;return d.get(H.supplierId)||H.supplierId||"â"}},{key:"category",title:"Kategorie",dataIndex:"category",width:150,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>M.isGroup?null:ie(M.product.categoryId)},{key:"status",title:"Status",dataIndex:"status",width:100,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>M.isGroup?null:M.product.status==="inactive"?i.createElement("span",{className:"badge muted"},"inaktiv"):i.createElement("span",{className:"badge"},"aktiv")},{key:"abcClass",title:"ABC",dataIndex:"abcClass",width:70,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>{if(M.isGroup)return null;const H=nr(M.product.abcClass);return i.createElement("span",{className:H==="â"?"badge muted":"badge"},H)}},{key:"completeness",title:"VollstÃ¤ndigkeit",dataIndex:"completeness",width:130,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>M.isGroup?null:be(M.product)},{key:"moqUnits",title:"MOQ",tooltip:"Minimum Order Quantity",dataIndex:"moqUnits",width:90,numeric:!0,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>{if(M.isGroup)return null;const H=N(M.product);return Number.isFinite(H)?Number(H).toLocaleString("de-DE"):"â"}},{key:"lastPo",title:"Letzte PO",dataIndex:"lastPo",width:110,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>{var H;return M.isGroup?null:(H=M.product.stats)!=null&&H.lastOrderDate?Ga(M.product.stats.lastOrderDate):"â"}},{key:"avg",title:"Ã StÃ¼ckpreis",dataIndex:"avg",width:120,numeric:!0,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>{var H;return M.isGroup?null:((H=M.product.stats)==null?void 0:H.avgUnitPriceUsd)!=null?Xa(M.product.stats.avgUnitPriceUsd):"â"}},{key:"count",title:"POs",dataIndex:"count",width:80,numeric:!0,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>{var H;return M.isGroup?null:String(((H=M.product.stats)==null?void 0:H.poCount)??0)}},{key:"template",title:"Template",dataIndex:"template",width:100,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>M.isGroup?null:M.product.template?i.createElement("span",{className:"badge"},"vorhanden"):i.createElement("span",{className:"badge muted"},"â")},{key:"actions",title:"Aktionen",dataIndex:"actions",width:170,fixed:"right",ellipsis:!1,onCell:k=>k.isGroup?{colSpan:0}:{},render:(k,M)=>{if(M.isGroup)return null;const H=M.product;return i.createElement("div",{className:"table-actions"},[i.createElement("button",{className:"btn secondary sm",type:"button",onClick:()=>pe(H)},"Bearbeiten"),i.createElement("button",{className:"btn ghost sm",type:"button","aria-haspopup":"menu","aria-expanded":"false",onClick:ue=>{ue.stopPropagation(),Re(ue.currentTarget,H)}},"Mehrâ¦")])}}],se=C("div",{class:"table-wrap products-list products-list-antd"}),G=C("div",{class:"ui-scrollbar-custom ui-scrollbar-custom-top products-custom-scroll","aria-hidden":"true"},[C("div",{class:"ui-scrollbar-custom-rail"},[C("button",{class:"ui-scrollbar-custom-thumb",type:"button",tabindex:"-1"})])]),ee=C("div",{class:"products-list-react-mount"}),Y=C("div",{class:"ui-scrollbar-custom ui-scrollbar-custom-bottom products-custom-scroll","aria-hidden":"true"},[C("div",{class:"ui-scrollbar-custom-rail"},[C("button",{class:"ui-scrollbar-custom-thumb",type:"button",tabindex:"-1"})])]);return se.append(G,ee,Y),e.__productsListReactRoot=ql(ee),e.__productsListReactRoot.render(i.createElement(Ed,{className:"products-list-table-antd",columns:re,dataSource:L,rowKey:"id",rowClassName:k=>k.isGroup?"product-group-row":"product-product-row"})),requestAnimationFrame(()=>{const k=e.__productsListScrollCleanup;typeof k=="function"&&k();const M=Array.from(ee.querySelectorAll(".ant-table-content, .ant-table-body")),H=M.find(Fe=>Fe&&Fe.scrollWidth-Fe.clientWidth>0)||M[0]||null,ue=ee.querySelector(".ant-table-content table, .ant-table-body table"),me=G.querySelector(".ui-scrollbar-custom-rail"),Te=G.querySelector(".ui-scrollbar-custom-thumb"),de=Y.querySelector(".ui-scrollbar-custom-rail"),ze=Y.querySelector(".ui-scrollbar-custom-thumb");if(!H||!ue||!me||!Te||!de||!ze)return;const Qe=(Fe,_e,Ye)=>Math.min(Ye,Math.max(_e,Fe)),rt=48,Ce={max:0,top:{span:1,thumb:1,left:0},bottom:{span:1,thumb:1,left:0}};let ht=!1;const it=Fe=>{const _e=Math.max(0,Math.ceil(H.scrollWidth-H.clientWidth)),Ye=Math.max(1,Math.floor(Fe.clientWidth||1)),ut=H.clientWidth/Math.max(H.scrollWidth,1),bt=_e<=0?Ye:Math.min(Ye,Math.max(rt,Math.round(Ye*ut))),J=Math.max(1,Ye-bt);return{max:_e,thumb:bt,span:J}},dt=(Fe,_e,Ye)=>{Fe.style.width=`${Math.max(1,Math.round(Ye))}px`,Fe.style.transform=`translateX(${Math.round(_e)}px)`,Fe.dataset.left=String(_e)},tt=()=>{const Fe=Math.max(0,Math.ceil(H.scrollWidth-H.clientWidth));Ce.max=Fe;const _e=it(me),Ye=it(de);Ce.top.span=_e.span,Ce.top.thumb=_e.thumb,Ce.bottom.span=Ye.span,Ce.bottom.thumb=Ye.thumb;const ut=Qe(Math.round(H.scrollLeft),0,Fe),bt=Fe<=0?0:ut/Fe*_e.span,J=Fe<=0?0:ut/Fe*Ye.span;Ce.top.left=bt,Ce.bottom.left=J,dt(Te,bt,_e.thumb),dt(ze,J,Ye.thumb),G.classList.toggle("is-overflow",Fe>0),Y.classList.toggle("is-overflow",Fe>0)},pt=(Fe,_e)=>{if(ht)return;const Ye=_e==="top"?Ce.top:Ce.bottom;if(Ce.max<=0)return;const ut=Qe(Fe,0,Ye.span),bt=Ye.span<=0?0:ut/Ye.span;ht=!0,H.scrollLeft=bt*Ce.max,ht=!1},st=(Fe,_e,Ye)=>{let ut=!1,bt=0,J=0;const Z=Se=>{if(!ut)return;Se.preventDefault();const qe=Se.clientX-bt;pt(J+qe,Fe)},V=()=>{ut&&(ut=!1,Ye.classList.remove("is-dragging"),window.removeEventListener("pointermove",Z),window.removeEventListener("pointerup",V),window.removeEventListener("pointercancel",V))},Le=Se=>{Ce.max<=0||(Se.preventDefault(),ut=!0,Ye.classList.add("is-dragging"),bt=Se.clientX,J=Number(Ye.dataset.left||0),window.addEventListener("pointermove",Z),window.addEventListener("pointerup",V),window.addEventListener("pointercancel",V))},Ke=Se=>{if(Ce.max<=0||Se.target===Ye)return;const qe=_e.getBoundingClientRect(),He=Fe==="top"?Ce.top:Ce.bottom,ot=Se.clientX-qe.left-He.thumb/2;pt(ot,Fe)};return Ye.addEventListener("pointerdown",Le),_e.addEventListener("pointerdown",Ke),()=>{V(),Ye.removeEventListener("pointerdown",Le),_e.removeEventListener("pointerdown",Ke)}},lt=st("top",me,Te),Ze=st("bottom",de,ze),mt=()=>{ht||tt()};H.classList.add("ui-scrollbar-managed"),tt(),H.addEventListener("scroll",mt,{passive:!0}),window.addEventListener("resize",tt);const Rt=typeof ResizeObserver=="function"?new ResizeObserver(()=>tt()):null;Rt&&(Rt.observe(H),Rt.observe(ue)),e.__productsListScrollCleanup=()=>{lt(),Ze(),H.removeEventListener("scroll",mt),window.removeEventListener("resize",tt),H.classList.remove("ui-scrollbar-managed"),Rt&&Rt.disconnect()}}),se}function gt(S,{key:F,colgroup:z=null,widths:L=[]}={}){if(!S)return;const re=S.querySelector("thead tr:last-child");if(!re)return;const se=Array.from(re.querySelectorAll("th"));if(!se.length)return;S.style.tableLayout="fixed",se.forEach((M,H)=>{if(M.querySelector(".col-resizer"))return;const ue=C("span",{class:"col-resizer","aria-hidden":"true"});M.append(ue),M.dataset.colIndex=String(H)});const G=z?Array.from(z.children):null;se.forEach((M,H)=>{const ue=L[H];if(Number.isFinite(ue)){M.style.width=`${ue}px`,G&&G[H]&&(G[H].style.width=`${ue}px`);return}const me=M.getBoundingClientRect().width;me&&(M.style.width=`${me}px`,G&&G[H]&&(G[H].style.width=`${me}px`))});let ee=null;function Y(M){if(!ee)return;const H=M.clientX-ee.startX,ue=Math.max(ee.minWidth,ee.startWidth+H);ee.th.style.width=`${ue}px`,ee.col&&(ee.col.style.width=`${ue}px`)}function k(){if(!ee)return;document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",k);const M=se.map((H,ue)=>G&&G[ue]?G[ue].getBoundingClientRect().width:H.getBoundingClientRect().width);F&&Gl(F,M),ee=null,S.classList.remove("is-resizing")}S.addEventListener("pointerdown",M=>{const H=M.target.closest(".col-resizer");if(!H)return;const ue=H.closest("th");if(!ue)return;M.preventDefault();const me=Number(ue.dataset.colIndex),Te=G&&Number.isFinite(me)?G[me]:null,de=ue.getBoundingClientRect().width;ee={th:ue,col:Te,startX:M.clientX,startWidth:de,minWidth:80},S.classList.add("is-resizing"),document.addEventListener("pointermove",Y),document.addEventListener("pointerup",k)})}function at(S){var ut,bt;if(!S.length)return C("p",{class:"empty-state"},["Keine Produkte gefunden. Lege ein Produkt an oder erfasse eine PO."]);const F=t.settings||{},L={unitPriceUsd:0,extraPerUnitUsd:0,extraFlatUsd:0,transportMode:"SEA",productionDays:0,transitDays:0,freightEur:0,dutyPct:0,dutyIncludesFreight:!1,vatImportPct:19,vatRefundActive:!1,vatRefundLag:0,fxRate:we(F.fxRate)??null??0,fxFeePct:0,ddp:F.defaultDdp===!0,currency:F.defaultCurrency||"EUR"},se=(Array.isArray(t.suppliers)?t.suppliers:[]).map(J=>({value:String(J.id||"").trim(),label:d.get(J.id)||J.name||J.id||"â"})).filter(J=>J.value),G=s.map(J=>({value:String(J.id),label:J.name||"Ohne Kategorie"})),ee=[{key:"alias",label:"Alias",type:"text",width:"240px",className:"col-alias"},{key:"sku",label:"SKU",type:"text",width:"160px",readOnly:!0,className:"col-sku"},{key:"supplierId",label:"Supplier",type:"select",options:se,width:"180px",className:"col-supplier"},{key:"categoryId",label:"Kategorie",type:"select",options:[{value:"",label:"Ohne Kategorie"},...G],width:"180px",className:"col-category"},{key:"status",label:"Status",type:"select",options:[{value:"active",label:"Aktiv"},{value:"inactive",label:"Inaktiv"}],width:"110px",className:"col-status"},{key:"abcClass",label:"ABC",type:"display",width:"80px",className:"col-abc"},{key:"completeness",label:"VollstÃ¤ndigkeit",type:"display",width:"160px",className:"col-completeness"},{key:"avgSellingPriceGrossEUR",label:"Ã VK-Preis (Brutto)",type:"number",decimals:2,width:"150px",className:"col-amount"},{key:"sellerboardMarginPct",label:"Sellerboard Marge (%)",type:"number",decimals:2,width:"140px",className:"col-short"},{key:"productionLeadTimeDaysDefault",label:"Default Production Lead Time (Fallback)",type:"number",decimals:0,width:"170px",className:"col-days"},{key:"moqUnits",label:"MOQ (Einheiten)",type:"number",decimals:0,width:"120px",className:"col-short col-group-end"},{key:"template.unitPriceUsd",label:"StÃ¼ckpreis (USD)",type:"number",decimals:2,width:"140px",className:"col-amount"},{key:"template.extraPerUnitUsd",label:"Zusatz je StÃ¼ck (USD)",type:"number",decimals:2,width:"140px",className:"col-amount"},{key:"template.extraFlatUsd",label:"Zusatz pauschal (USD)",type:"number",decimals:2,width:"140px",className:"col-amount col-group-end"},{key:"template.transportMode",label:"Transport",type:"select",options:[{value:"SEA",label:"SEA"},{value:"RAIL",label:"RAIL"},{value:"AIR",label:"AIR"}],width:"130px",className:"col-transport"},{key:"template.productionDays",label:"Produktionstage",type:"number",decimals:0,width:"120px",className:"col-days"},{key:"template.transitDays",label:"Transit-Tage",type:"number",decimals:0,width:"120px",className:"col-days col-group-end"},{key:"template.freightEur",label:"Logistik / Stk. (EUR)",type:"number",decimals:2,width:"140px",className:"col-amount"},{key:"template.dutyPct",label:"Zoll %",type:"number",decimals:2,width:"90px",className:"col-short"},{key:"template.dutyIncludesFreight",label:"Fracht einbeziehen",type:"checkbox",width:"56px",className:"col-check"},{key:"template.vatImportPct",label:"EUSt %",type:"number",decimals:2,width:"90px",className:"col-short"},{key:"template.vatRefundActive",label:"EUSt-Erstattung aktiv",type:"checkbox",width:"56px",className:"col-check"},{key:"template.vatRefundLag",label:"EUSt-Lag",type:"number",decimals:0,width:"80px",className:"col-short col-group-end"},{key:"template.fxRate",label:"FX-Kurs",type:"number",decimals:4,width:"140px",className:"col-amount"},{key:"template.fxFeePct",label:"FX-GebÃ¼hr %",type:"number",decimals:2,width:"90px",className:"col-short col-group-end"},{key:"template.currency",label:"Currency",type:"select",options:[{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"CNY",label:"CNY"}],width:"110px",className:"col-currency"},{key:"template.ddp",label:"DDP",type:"checkbox",width:"56px",className:"col-check col-group-end"}];function Y(J){var V;const Z=((V=J.template)==null?void 0:V.fields)||J.template||{};return{...L,...Z}}function k(J,Z){if(Z.key.startsWith("template.")){const V=Z.key.replace("template.","");return Y(J)[V]}if(Z.key==="categoryId")return J.categoryId||"";if(Z.key==="abcClass")return nr(J.abcClass);if(Z.key==="completeness")return A(J);if(Z.key==="moqUnits"){const V=N(J);return V??""}return J[Z.key]??""}function M(J,Z){if(Z.type==="number"){const V=we(J);return V==null?"":vt(V,Z.decimals??2)}return Z.type==="display"?J:Z.type==="checkbox"?!!J:J??""}function H(J,Z){return Z.type==="number"?we(J):Z.type==="display"?J:Z.type==="checkbox"?!!J:String(J??"").trim()}function ue(J){return w[J]||(w[J]={}),w[J]}function me(J,Z){const V=w[J];V&&(delete V[Z],Object.keys(V).length||delete w[J])}function Te(){return Object.values(w).reduce((J,Z)=>J+Object.keys(Z||{}).length,0)}const de=C("div",{class:"products-grid-toolbar"}),ze=C("select",{onchange:J=>{E=J.target.value,er(g,{mode:E}),ae()}},[C("option",{value:"category"},["Sortierung: Kategorie"]),C("option",{value:"abc"},["Sortierung: ABC (A â C)"])]);ze.value=E;const Qe=C("span",{class:"muted"},["0 Ãnderungen"]),rt=C("button",{class:"btn",type:"button",disabled:!0},["Ãnderungen speichern"]),Ce=C("button",{class:"btn secondary",type:"button",disabled:!0},["Ãnderungen verwerfen"]);de.append(ze,Qe,C("div",{class:"products-grid-actions"},[Ce,rt]));function ht(){const J=Te();Qe.textContent=`${J} Ãnderungen`,rt.disabled=J===0,Ce.disabled=J===0}function it(J){const Z=!!J.querySelector("td.is-dirty");J.classList.toggle("is-dirty",Z)}function dt(J,Z,V){var ot;const Le=V.type==="checkbox"?J.checked:J.value;V.type==="select"&&(J.title=((ot=J.options[J.selectedIndex])==null?void 0:ot.textContent)||String(Le??""));const Ke=H(Le,V),Se=H(k(Z,V),V),qe=V.type==="number"?Number(Ke)!==Number(Se):Ke!==Se;if(qe){const ft=ue(Z.sku);ft[V.key]=Ke}else me(Z.sku,V.key);const He=J.closest("td");if(He){He.classList.toggle("is-dirty",qe);const ft=He.closest("tr");ft&&it(ft)}ht(),$.setDraft($.draft)}const tt=C("div",{class:"products-grid"}),pt=C("div",{class:"products-grid-scroll"}),st=C("table",{class:"products-grid-table","data-ui-table":"true","data-sticky-cols":"1"}),lt=C("colgroup"),Ze=((bt=(ut=t==null?void 0:t.settings)==null?void 0:ut.productsTableColumns)==null?void 0:bt.grid)||[];ee.forEach((J,Z)=>{const V=Number.isFinite(Ze[Z])?`${Ze[Z]}px`:J.width;lt.append(C("col",{style:V?`width:${V}`:null}))});const mt=Number.isFinite(Ze[ee.length])?`${Ze[ee.length]}px`:"180px";lt.append(C("col",{style:`width:${mt}`}));const Rt=C("thead",{},[C("tr",{class:"products-grid-group-header"},[C("th",{colspan:"10",title:"Stammdaten"},["Stammdaten"]),C("th",{colspan:"3",title:"Kosten"},["Kosten"]),C("th",{colspan:"4",title:"Logistik"},["Logistik"]),C("th",{colspan:"5",title:"Steuern"},["Steuern"]),C("th",{colspan:"3",title:"FX & WÃ¤hrung"},["FX & WÃ¤hrung"]),C("th",{colspan:"1",title:"Sonstiges"},["Sonstiges"]),C("th",{colspan:"1",title:"Tags"},["Tags"]),C("th",{colspan:"1",class:"actions",title:"Aktionen"},["Aktionen"])]),C("tr",{},[...ee.map(J=>C("th",{class:J.className||"",title:J.label},[J.label])),C("th",{class:"actions",title:"Aktionen"},["Aktionen"])])]),Fe=C("tbody"),_e=he();return ye(S,{sortMode:E}).forEach(J=>{const Z=!!_e[J.id];Fe.append(C("tr",{class:"product-group-row"},[C("td",{colspan:String(ee.length+1)},[C("button",{class:"product-group-toggle",type:"button",dataset:{categoryId:J.id},"aria-expanded":String(!Z)},[`${J.name} (${J.items.length})`])])])),!Z&&J.items.forEach(V=>{const Le=C("tr");ee.forEach(Se=>{var ot,ft;const qe=C("td",{class:Se.className||""}),He=((ot=w[V.sku])==null?void 0:ot[Se.key])??k(V,Se);if(Se.type==="display")qe.append(fe(V));else if(Se.type==="checkbox"){const et=C("input",{type:"checkbox",checked:!!He,onchange:()=>dt(et,V,Se),title:Se.label});qe.append(et)}else if(Se.type==="select"){const et=C("select",{onchange:()=>dt(et,V,Se)}),xt=Se.options||[],Et=String(He??"");["supplierId","status","categoryId","template.transportMode","template.currency"].includes(Se.key)&&(et.title=Et),!xt.some(ct=>ct.value===Et)&&Et&&et.append(C("option",{value:Et},[Et])),xt.forEach(ct=>{et.append(C("option",{value:ct.value},[ct.label]))}),et.value=Et,et.title=((ft=et.options[et.selectedIndex])==null?void 0:ft.textContent)||Et,qe.append(et)}else{const et=C("input",{value:M(He,Se),inputmode:Se.type==="number"?"decimal":"text",readonly:Se.readOnly?"readonly":null,title:["alias","sku","supplierId"].includes(Se.key)?String(He??""):null,oninput:()=>dt(et,V,Se),onblur:()=>{if(Se.type==="number"){const xt=we(et.value);et.value=xt==null?"":vt(xt,Se.decimals??2)}}});if(Se.key==="alias"){const xt=B(V.sku);xt&&qe.append(xt)}qe.append(et)}if(Se.type!=="display"){const et=H(k(V,Se),Se),xt=H(He,Se);(Se.type==="number"?Number(xt)!==Number(et):xt!==et)&&qe.classList.add("is-dirty")}Le.append(qe)});const Ke=C("td",{class:"actions"},[C("button",{class:"btn secondary",type:"button",onclick:()=>pe(V)},["Bearbeiten"]),C("button",{class:"btn tertiary",type:"button",onclick:()=>X(V)},["Historie"])]);Le.append(Ke),it(Le),Fe.append(Le)})}),st.append(lt,Rt,Fe),gt(st,{key:"grid",colgroup:lt,widths:Ze}),pt.append(st),tt.append(de,pt),ht(),st.addEventListener("click",J=>{const Z=J.target.closest(".product-group-toggle");if(!Z)return;const V=he(),Le=Z.dataset.categoryId;V[Le]=!V[Le],te(V),ae()}),Ce.addEventListener("click",()=>{$.resetDraft(),ae()}),rt.addEventListener("click",async()=>{const J=Object.entries(w);if(!J.length)return;const Z=[];await Promise.allSettled(J.map(([V,Le])=>{var ot;const Ke=Vl(V);if(!Ke)return Z.push(V),Promise.resolve();const Se=Object.keys(Le).some(ft=>ft.startsWith("template.")),qe=Se?Y(Ke):null,He={sku:Ke.sku,alias:Ke.alias,supplierId:Ke.supplierId,categoryId:Ke.categoryId??null,status:Ke.status,tags:Array.isArray(Ke.tags)?[...Ke.tags]:[],template:Ke.template?{...Ke.template}:null,avgSellingPriceGrossEUR:Ke.avgSellingPriceGrossEUR??null,sellerboardMarginPct:Ke.sellerboardMarginPct??null,originalSku:Ke.sku};Object.entries(Le).forEach(([ft,et])=>{if(ft.startsWith("template.")){const xt=ft.replace("template.","");He.template||(He.template={scope:"SKU",name:"Standard (SKU)",fields:{}}),He.template.fields||(He.template.fields={...qe}),He.template.fields[xt]=et}else ft==="categoryId"?He.categoryId=et?String(et):null:He[ft]=et}),Se&&((ot=He.template)!=null&&ot.fields)&&qe&&(He.template.fields={...qe,...He.template.fields});try{Co(He)}catch{Z.push(V)}})),Z.length?vn(`Fehler bei SKUs: ${Z.join(", ")}`):vn("Ãnderungen gespeichert"),$.resetDraft(),ae()}),tt}function X(S){const F=yr(),z=la(F,S.sku),L=C("button",{class:"btn",type:"button"},["SchlieÃen"]),re=aa({title:`Historie â ${S.alias||S.sku}`,content:z,actions:[L],onClose:()=>{}});L.addEventListener("click",()=>re.overlay.remove())}function ae(){const S=e.querySelector('input[type="search"]'),F=document.activeElement===S,z=F?S.selectionStart:null;typeof e.__productsListScrollCleanup=="function"&&(e.__productsListScrollCleanup(),e.__productsListScrollCleanup=null),e.__productsListReactRoot&&(e.__productsListReactRoot.unmount(),e.__productsListReactRoot=null),e.innerHTML="";const L=K(n,c,m,h),re=n.filter(de=>de.alias.startsWith("Ohne Alias")).length,se=C("div",{class:"products-header"}),G=C("h2",{},["Produkte"]),ee=C("div",{class:"products-actions"}),Y=C("button",{class:"btn",type:"button",onclick:()=>pe(null)},["+ Produkt anlegen"]),k=C("button",{class:"btn secondary",type:"button",onclick:()=>{oe(!1),ae()}},["Alles aufklappen"]),M=C("button",{class:"btn secondary",type:"button",onclick:()=>{oe(!0),ae()}},["Alles zuklappen"]),H=C("input",{type:"search",placeholder:"Suche nach Alias, SKU, Supplier",value:c,oninput:de=>{c=de.target.value,ae()}}),ue=C("select",{class:"products-completeness-filter",onchange:de=>{m=de.target.value,er(p,{filter:m}),ae()}},[C("option",{value:"all"},["Alle VollstÃ¤ndigkeiten"]),C("option",{value:"blocked"},["Nur Blockierte"]),C("option",{value:"warn"},["Nur Warnungen"]),C("option",{value:"ok"},["Nur VollstÃ¤ndige"])]);ue.value=m==="warning"?"warn":m;const me=C("select",{class:"products-abc-filter",onchange:de=>{h=de.target.value,er(f,{filter:h}),ae()}},[C("option",{value:"all"},["ABC: Alle"]),...ao.map(de=>C("option",{value:de},[`ABC: ${de}`]))]);me.value=h;const Te=C("div",{class:"view-toggle"},[C("button",{type:"button",class:`btn tertiary${y==="list"?" is-active":""}`,"aria-pressed":y==="list",onclick:()=>{y="list",Eo("productsView",y),ae()}},["Liste"]),C("button",{type:"button",class:`btn tertiary${y==="table"?" is-active":""}`,"aria-pressed":y==="table",onclick:()=>{y="table",Eo("productsView",y),ae()}},["Tabelle"])]);ee.append(H,ue,me,k,M,Te,Y),se.append(G,ee),e.append(se),re&&e.append(C("div",{class:"banner info"},[`${re} Produkte ohne Alias â bitte ergÃ¤nzen.`])),e.append(y==="table"?at(L):je(L)),F&&(H.focus(),z!=null&&H.setSelectionRange(z,z))}ae()}function Dd(e){const t=()=>An(e);return e.__productsCleanup&&e.__productsCleanup(),document.addEventListener("state:changed",t),e.__productsCleanup=()=>{typeof e.__productsListScrollCleanup=="function"&&(e.__productsListScrollCleanup(),e.__productsListScrollCleanup=null),e.__productsListReactRoot&&(e.__productsListReactRoot.unmount(),e.__productsListReactRoot=null),document.removeEventListener("state:changed",t),e.__productsActionsCleanup&&(e.__productsActionsCleanup(),e.__productsActionsCleanup=null),e.__productsBulkGuard&&(e.__productsBulkGuard.unregister(),e.__productsBulkGuard.detachBeforeUnload(),e.__productsBulkGuard=null)},An(e),{cleanup:e.__productsCleanup}}export{Dd as default};
