import{bn as l,l as c,bo as u,bp as i}from"./index-DZx8ouWC.js";const n="drafts/v1";function r(t,e){if(!t)return e;try{return JSON.parse(t)}catch{return e}}function m(){return c()}function g(t,e={}){u(t,{source:e.source||"commit",...e})}function S(t,e=null){const a=t;return r(localStorage.getItem(a),e)}function d(t,e){const a=t;localStorage.setItem(a,JSON.stringify(e))}function p(t,e=null){const a=t,o=localStorage.getItem(a);return o??e}function y(t,e){const a=t;localStorage.setItem(a,e)}function A(t,e=n){if(!t)return null;const a=`${e}:${t}`,o=r(localStorage.getItem(a),null);return!o||typeof o!="object"?null:{updatedAt:o.updatedAt||null,data:o.data??null}}function C(t,e,a=n){const o=`${a}:${t}`,s={updatedAt:new Date().toISOString(),data:e};localStorage.setItem(o,JSON.stringify(s))}function I(t,e=n){if(!t)return;const a=`${e}:${t}`;localStorage.removeItem(a)}function w(t=n){if(typeof localStorage>"u")return 0;let e=0;for(let a=0;a<localStorage.length;a+=1){const o=localStorage.key(a);o&&o.startsWith(`${t}:`)&&(e+=1)}return e}function D(){const t=i();return{lastCommitAt:(t==null?void 0:t.lastCommitAt)||null,lastCommitMeta:(t==null?void 0:t.lastCommitMeta)||null,storageKey:l}}export{S as a,d as b,g as c,w as d,D as e,I as f,p as g,m as l,A as r,y as s,C as w};
