import{k as H,t as pe,a9 as se}from"./index-DrOkdIyL.js";function Ln(s){let i=0,a=0,p=!0;for(;s;)!s.offsetParent&&s.tagName==="BODY"&&s.scrollLeft===0&&s.scrollTop===0&&(s=document.scrollingElement||s),i+=s.offsetLeft-(p?0:s.scrollLeft)+s.clientLeft,a+=s.offsetTop-(p?0:s.scrollTop)+s.clientTop,s=s.offsetParent,p=!1;return{x:i,y:a}}function jt(s){if(s===document.body)return{scrollLeft:0,scrollTop:0};{const i=jt(s.parentNode);return{scrollLeft:s.scrollLeft+i.scrollLeft,scrollTop:s.scrollTop+i.scrollTop}}}function Rt(s){if(s===document.body||!s.offsetParent)return{offsetLeft:0,offsetTop:0};{const i=Rt(s.offsetParent);return{offsetLeft:s.offsetLeft+i.offsetLeft,offsetTop:s.offsetTop+i.offsetTop}}}var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qe(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var $t={exports:{}};$t.exports;(function(s,i){(function(a,p){s.exports=p()})(We,function(){function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(n){w(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f(t){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function y(t,e,r){return e&&g(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t,e,r){return(e=O(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z(t,e)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(t)}function z(t,e){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},z(t,e)}function x(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=R(t);if(e){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(l,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(l)}(this,r)}}function P(){return P=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(l,u){for(;!Object.prototype.hasOwnProperty.call(l,u)&&(l=R(l))!==null;);return l}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},P.apply(this,arguments)}function O(t){var e=function(r,n){if(typeof r!="object"||r===null)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var l=o.call(r,n);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(t,"string");return typeof e=="symbol"?e:e+""}var I=function(t){return!(!t||!t.Window)&&t instanceof t.Window},G=void 0,K=void 0;function J(t){G=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&typeof t.wrap=="function"&&t.wrap(e)===e&&(t=t.wrap(t)),K=t}function re(t){return I(t)?t:(t.ownerDocument||t).defaultView||K.window}typeof window<"u"&&window&&J(window);var ee=function(t){return!!t&&f(t)==="object"},he=function(t){return typeof t=="function"},S={window:function(t){return t===K||I(t)},docFrag:function(t){return ee(t)&&t.nodeType===11},object:ee,func:he,number:function(t){return typeof t=="number"},bool:function(t){return typeof t=="boolean"},string:function(t){return typeof t=="string"},element:function(t){if(!t||f(t)!=="object")return!1;var e=re(t)||K;return/object|function/.test(typeof Element>"u"?"undefined":f(Element))?t instanceof Element||t instanceof e.Element:t.nodeType===1&&typeof t.nodeName=="string"},plainObject:function(t){return ee(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return ee(t)&&t.length!==void 0&&he(t.splice)}};function Pe(t){var e=t.interaction;if(e.prepared.name==="drag"){var r=e.prepared.axis;r==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):r==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function Te(t){var e=t.iEvent,r=t.interaction;if(r.prepared.name==="drag"){var n=r.prepared.axis;if(n==="x"||n==="y"){var o=n==="x"?"y":"x";e.page[o]=r.coords.start.page[o],e.client[o]=r.coords.start.client[o],e.delta[o]=0}}}var ue={id:"actions/drag",install:function(t){var e=t.actions,r=t.Interactable,n=t.defaults;r.prototype.draggable=ue.draggable,e.map.drag=ue,e.methodDict.drag="draggable",n.actions.drag=ue.defaults},listeners:{"interactions:before-action-move":Pe,"interactions:action-resume":Pe,"interactions:action-move":Te,"auto-start:check":function(t){var e=t.interaction,r=t.interactable,n=t.buttons,o=r.options.drag;if(o&&o.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||n&r.options.drag.mouseButtons))return t.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(t){return S.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):S.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:Pe,move:Te,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(t){return t.search("drag")===0}},ne=ue,fe={init:function(t){var e=t;fe.document=e.document,fe.DocumentFragment=e.DocumentFragment||Ee,fe.SVGElement=e.SVGElement||Ee,fe.SVGSVGElement=e.SVGSVGElement||Ee,fe.SVGElementInstance=e.SVGElementInstance||Ee,fe.Element=e.Element||Ee,fe.HTMLElement=e.HTMLElement||fe.Element,fe.Event=e.Event,fe.Touch=e.Touch||Ee,fe.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function Ee(){}var F=fe,j={init:function(t){var e=F.Element,r=t.navigator||{};j.supportsTouch="ontouchstart"in t||S.func(t.DocumentTouch)&&F.document instanceof t.DocumentTouch,j.supportsPointerEvent=r.pointerEnabled!==!1&&!!F.PointerEvent,j.isIOS=/iP(hone|od|ad)/.test(r.platform),j.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),j.isIe9=/MSIE 9/.test(r.userAgent),j.isOperaMobile=r.appName==="Opera"&&j.supportsTouch&&/Presto/.test(r.userAgent),j.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",j.pEventTypes=j.supportsPointerEvent?F.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,j.wheelEvent=F.document&&"onmousewheel"in F.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},D=j;function N(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function L(t,e){for(;S.element(t);){if(X(t,e))return t;t=Y(t)}return null}function Y(t){var e=t.parentNode;if(S.docFrag(e)){for(;(e=e.host)&&S.docFrag(e););return e}return e}function X(t,e){return K!==G&&(e=e.replace(/\/deep\//g," ")),t[D.prefixedMatchesSelector](e)}var ie=function(t){return t.parentNode||t.host};function ae(t,e){for(var r,n=[],o=t;(r=ie(o))&&o!==e&&r!==o.ownerDocument;)n.unshift(o),o=r;return n}function ce(t,e,r){for(;S.element(t);){if(X(t,e))return!0;if((t=Y(t))===r)return X(t,e)}return!1}function de(t){return t.correspondingUseElement||t}function ve(t){var e=t instanceof F.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function we(t){var e,r=ve(t);if(!D.isIOS7&&r){var n={x:(e=(e=re(t))||K).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop};r.left+=n.x,r.right+=n.x,r.top+=n.y,r.bottom+=n.y}return r}function Oe(t){for(var e=[];t;)e.push(t),t=Y(t);return e}function je(t){return!!S.string(t)&&(F.document.querySelector(t),!0)}function W(t,e){for(var r in e)t[r]=e[r];return t}function me(t,e,r){return t==="parent"?Y(r):t==="self"?e.getRect(r):L(r,t)}function ye(t,e,r,n){var o=t;return S.string(o)?o=me(o,e,r):S.func(o)&&(o=o.apply(void 0,n)),S.element(o)&&(o=we(o)),o}function Me(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}}function Re(t){return!t||"x"in t&&"y"in t||((t=W({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t}function vt(t,e,r){t.left&&(e.left+=r.x),t.right&&(e.right+=r.x),t.top&&(e.top+=r.y),t.bottom&&(e.bottom+=r.y),e.width=e.right-e.left,e.height=e.bottom-e.top}function nt(t,e,r){var n=r&&t.options[r];return Me(ye(n&&n.origin||t.options.origin,t,e,[t&&e]))||{x:0,y:0}}function Ne(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(h){return!0},n=arguments.length>3?arguments[3]:void 0;if(n=n||{},S.string(t)&&t.search(" ")!==-1&&(t=Kr(t)),S.array(t))return t.forEach(function(h){return Ne(h,e,r,n)}),n;if(S.object(t)&&(e=t,t=""),S.func(e)&&r(t))n[t]=n[t]||[],n[t].push(e);else if(S.array(e))for(var o=0,l=e;o<l.length;o++){var u=l[o];Ne(t,u,r,n)}else if(S.object(e))for(var c in e)Ne(Kr(c).map(function(h){return"".concat(t).concat(h)}),e[c],r,n);return n}function Kr(t){return t.trim().split(/ +/)}var it=function(t,e){return Math.sqrt(t*t+e*e)},no=["webkit","moz"];function gt(t,e){t.__set||(t.__set={});var r=function(o){if(no.some(function(l){return o.indexOf(l)===0}))return 1;typeof t[o]!="function"&&o!=="__set"&&Object.defineProperty(t,o,{get:function(){return o in t.__set?t.__set[o]:t.__set[o]=e[o]},set:function(l){t.__set[o]=l},configurable:!0})};for(var n in e)r(n);return t}function bt(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function Xr(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0}function Vr(t){return t instanceof F.Event||t instanceof F.Touch}function yt(t,e,r){return t=t||"page",(r=r||{}).x=e[t+"X"],r.y=e[t+"Y"],r}function Zr(t,e){return e=e||{x:0,y:0},D.isOperaMobile&&Vr(t)?(yt("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):yt("page",t,e),e}function ot(t){return S.number(t.pointerId)?t.pointerId:t.identifier}function io(t,e,r){var n=e.length>1?qr(e):e[0];Zr(n,t.page),function(o,l){l=l||{},D.isOperaMobile&&Vr(o)?yt("screen",o,l):yt("client",o,l)}(n,t.client),t.timeStamp=r}function qt(t){var e=[];return S.array(t)?(e[0]=t[0],e[1]=t[1]):t.type==="touchend"?t.touches.length===1?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):t.touches.length===0&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function qr(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<t.length;r++){var n=t[r];for(var o in e)e[o]+=n[o]}for(var l in e)e[l]/=t.length;return e}function Qt(t){if(!t.length)return null;var e=qt(t),r=Math.min(e[0].pageX,e[1].pageX),n=Math.min(e[0].pageY,e[1].pageY),o=Math.max(e[0].pageX,e[1].pageX),l=Math.max(e[0].pageY,e[1].pageY);return{x:r,y:n,left:r,top:n,right:o,bottom:l,width:o-r,height:l-n}}function Bt(t,e){var r=e+"X",n=e+"Y",o=qt(t),l=o[0][r]-o[1][r],u=o[0][n]-o[1][n];return it(l,u)}function Jt(t,e){var r=e+"X",n=e+"Y",o=qt(t),l=o[1][r]-o[0][r],u=o[1][n]-o[0][n];return 180*Math.atan2(u,l)/Math.PI}function Qr(t){return S.string(t.pointerType)?t.pointerType:S.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof F.Touch?"touch":"mouse"}function Br(t){var e=S.func(t.composedPath)?t.composedPath():t.path;return[de(e?e[0]:t.target),de(t.currentTarget)]}var xt=function(){function t(e){m(this,t),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=e}return y(t,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),t}();Object.defineProperty(xt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Jr=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.push(n)}return t},en=function(t){return Jr([],t)},st=function(t,e){for(var r=0;r<t.length;r++)if(e(t[r],r,t))return r;return-1},at=function(t,e){return t[st(t,e)]},Xe=function(t){M(r,t);var e=k(r);function r(n,o,l){var u;m(this,r),(u=e.call(this,o._interaction)).dropzone=void 0,u.dragEvent=void 0,u.relatedTarget=void 0,u.draggable=void 0,u.propagationStopped=!1,u.immediatePropagationStopped=!1;var c=l==="dragleave"?n.prev:n.cur,h=c.element,v=c.dropzone;return u.type=l,u.target=h,u.currentTarget=h,u.dropzone=v,u.dragEvent=o,u.relatedTarget=o.target,u.draggable=o.interactable,u.timeStamp=o.timeStamp,u}return y(r,[{key:"reject",value:function(){var n=this,o=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&o.cur.dropzone===this.dropzone&&o.cur.element===this.target)if(o.prev.dropzone=this.dropzone,o.prev.element=this.target,o.rejected=!0,o.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var l=o.activeDrops,u=st(l,function(h){var v=h.dropzone,d=h.element;return v===n.dropzone&&d===n.target});o.activeDrops.splice(u,1);var c=new r(o,this.dragEvent,"dropdeactivate");c.dropzone=this.dropzone,c.target=this.target,this.dropzone.fire(c)}else this.dropzone.fire(new r(o,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),r}(xt);function tn(t,e){for(var r=0,n=t.slice();r<n.length;r++){var o=n[r],l=o.dropzone,u=o.element;e.dropzone=l,e.target=u,l.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function er(t,e){for(var r=function(l,u){for(var c=[],h=0,v=l.interactables.list;h<v.length;h++){var d=v[h];if(d.options.drop.enabled){var b=d.options.drop.accept;if(!(S.element(b)&&b!==u||S.string(b)&&!X(u,b)||S.func(b)&&!b({dropzone:d,draggableElement:u})))for(var T=0,_=d.getAllElements();T<_.length;T++){var E=_[T];E!==u&&c.push({dropzone:d,element:E,rect:d.getRect(E)})}}}return c}(t,e),n=0;n<r.length;n++){var o=r[n];o.rect=o.dropzone.getRect(o.element)}return r}function rn(t,e,r){for(var n=t.dropState,o=t.interactable,l=t.element,u=[],c=0,h=n.activeDrops;c<h.length;c++){var v=h[c],d=v.dropzone,b=v.element,T=v.rect,_=d.dropCheck(e,r,o,l,b,T);u.push(_?b:null)}var E=function(C){for(var A,$,U,q=[],te=0;te<C.length;te++){var V=C[te],Q=C[A];if(V&&te!==A)if(Q){var be=ie(V),le=ie(Q);if(be!==V.ownerDocument)if(le!==V.ownerDocument)if(be!==le){q=q.length?q:ae(Q);var xe=void 0;if(Q instanceof F.HTMLElement&&V instanceof F.SVGElement&&!(V instanceof F.SVGSVGElement)){if(V===le)continue;xe=V.ownerSVGElement}else xe=V;for(var Se=ae(xe,Q.ownerDocument),Ce=0;Se[Ce]&&Se[Ce]===q[Ce];)Ce++;var zt=[Se[Ce-1],Se[Ce],q[Ce]];if(zt[0])for(var dt=zt[0].lastChild;dt;){if(dt===zt[1]){A=te,q=Se;break}if(dt===zt[2])break;dt=dt.previousSibling}}else U=Q,(parseInt(re($=V).getComputedStyle($).zIndex,10)||0)>=(parseInt(re(U).getComputedStyle(U).zIndex,10)||0)&&(A=te);else A=te}else A=te}return A}(u);return n.activeDrops[E]||null}function tr(t,e,r){var n=t.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return r.type==="dragstart"&&(o.activate=new Xe(n,r,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),r.type==="dragend"&&(o.deactivate=new Xe(n,r,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),n.rejected||(n.cur.element!==n.prev.element&&(n.prev.dropzone&&(o.leave=new Xe(n,r,"dragleave"),r.dragLeave=o.leave.target=n.prev.element,r.prevDropzone=o.leave.dropzone=n.prev.dropzone),n.cur.dropzone&&(o.enter=new Xe(n,r,"dragenter"),r.dragEnter=n.cur.element,r.dropzone=n.cur.dropzone)),r.type==="dragend"&&n.cur.dropzone&&(o.drop=new Xe(n,r,"drop"),r.dropzone=n.cur.dropzone,r.relatedTarget=n.cur.element),r.type==="dragmove"&&n.cur.dropzone&&(o.move=new Xe(n,r,"dropmove"),r.dropzone=n.cur.dropzone)),o}function rr(t,e){var r=t.dropState,n=r.activeDrops,o=r.cur,l=r.prev;e.leave&&l.dropzone.fire(e.leave),e.enter&&o.dropzone.fire(e.enter),e.move&&o.dropzone.fire(e.move),e.drop&&o.dropzone.fire(e.drop),e.deactivate&&tn(n,e.deactivate),r.prev.dropzone=o.dropzone,r.prev.element=o.element}function nn(t,e){var r=t.interaction,n=t.iEvent,o=t.event;if(n.type==="dragmove"||n.type==="dragend"){var l=r.dropState;e.dynamicDrop&&(l.activeDrops=er(e,r.element));var u=n,c=rn(r,u,o);l.rejected=l.rejected&&!!c&&c.dropzone===l.cur.dropzone&&c.element===l.cur.element,l.cur.dropzone=c&&c.dropzone,l.cur.element=c&&c.element,l.events=tr(r,0,u)}}var on={id:"actions/drop",install:function(t){var e=t.actions,r=t.interactStatic,n=t.Interactable,o=t.defaults;t.usePlugin(ne),n.prototype.dropzone=function(l){return function(u,c){if(S.object(c)){if(u.options.drop.enabled=c.enabled!==!1,c.listeners){var h=Ne(c.listeners),v=Object.keys(h).reduce(function(b,T){return b[/^(enter|leave)/.test(T)?"drag".concat(T):/^(activate|deactivate|move)/.test(T)?"drop".concat(T):T]=h[T],b},{}),d=u.options.drop.listeners;d&&u.off(d),u.on(v),u.options.drop.listeners=v}return S.func(c.ondrop)&&u.on("drop",c.ondrop),S.func(c.ondropactivate)&&u.on("dropactivate",c.ondropactivate),S.func(c.ondropdeactivate)&&u.on("dropdeactivate",c.ondropdeactivate),S.func(c.ondragenter)&&u.on("dragenter",c.ondragenter),S.func(c.ondragleave)&&u.on("dragleave",c.ondragleave),S.func(c.ondropmove)&&u.on("dropmove",c.ondropmove),/^(pointer|center)$/.test(c.overlap)?u.options.drop.overlap=c.overlap:S.number(c.overlap)&&(u.options.drop.overlap=Math.max(Math.min(1,c.overlap),0)),"accept"in c&&(u.options.drop.accept=c.accept),"checker"in c&&(u.options.drop.checker=c.checker),u}return S.bool(c)?(u.options.drop.enabled=c,u):u.options.drop}(this,l)},n.prototype.dropCheck=function(l,u,c,h,v,d){return function(b,T,_,E,C,A,$){var U=!1;if(!($=$||b.getRect(A)))return!!b.options.drop.checker&&b.options.drop.checker(T,_,U,b,A,E,C);var q=b.options.drop.overlap;if(q==="pointer"){var te=nt(E,C,"drag"),V=Zr(T);V.x+=te.x,V.y+=te.y;var Q=V.x>$.left&&V.x<$.right,be=V.y>$.top&&V.y<$.bottom;U=Q&&be}var le=E.getRect(C);if(le&&q==="center"){var xe=le.left+le.width/2,Se=le.top+le.height/2;U=xe>=$.left&&xe<=$.right&&Se>=$.top&&Se<=$.bottom}return le&&S.number(q)&&(U=Math.max(0,Math.min($.right,le.right)-Math.max($.left,le.left))*Math.max(0,Math.min($.bottom,le.bottom)-Math.max($.top,le.top))/(le.width*le.height)>=q),b.options.drop.checker&&(U=b.options.drop.checker(T,_,U,b,A,E,C)),U}(this,l,u,c,h,v,d)},r.dynamicDrop=function(l){return S.bool(l)?(t.dynamicDrop=l,r):t.dynamicDrop},W(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,o.actions.drop=on.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;e.prepared.name==="drag"&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var r=t.interaction,n=(t.event,t.iEvent);if(r.prepared.name==="drag"){var o=r.dropState;o.activeDrops=[],o.events={},o.activeDrops=er(e,r.element),o.events=tr(r,0,n),o.events.activate&&(tn(o.activeDrops,o.events.activate),e.fire("actions/drop:start",{interaction:r,dragEvent:n}))}},"interactions:action-move":nn,"interactions:after-action-move":function(t,e){var r=t.interaction,n=t.iEvent;if(r.prepared.name==="drag"){var o=r.dropState;rr(r,o.events),e.fire("actions/drop:move",{interaction:r,dragEvent:n}),o.events={}}},"interactions:action-end":function(t,e){if(t.interaction.prepared.name==="drag"){var r=t.interaction,n=t.iEvent;nn(t,e),rr(r,r.dropState.events),e.fire("actions/drop:end",{interaction:r,dragEvent:n})}},"interactions:stop":function(t){var e=t.interaction;if(e.prepared.name==="drag"){var r=e.dropState;r&&(r.activeDrops=null,r.events=null,r.cur.dropzone=null,r.cur.element=null,r.prev.dropzone=null,r.prev.element=null,r.rejected=!1)}}},getActiveDrops:er,getDrop:rn,getDropEvents:tr,fireDropEvents:rr,filterEventType:function(t){return t.search("drag")===0||t.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},oo=on;function nr(t){var e=t.interaction,r=t.iEvent,n=t.phase;if(e.prepared.name==="gesture"){var o=e.pointers.map(function(v){return v.pointer}),l=n==="start",u=n==="end",c=e.interactable.options.deltaSource;if(r.touches=[o[0],o[1]],l)r.distance=Bt(o,c),r.box=Qt(o),r.scale=1,r.ds=0,r.angle=Jt(o,c),r.da=0,e.gesture.startDistance=r.distance,e.gesture.startAngle=r.angle;else if(u||e.pointers.length<2){var h=e.prevEvent;r.distance=h.distance,r.box=h.box,r.scale=h.scale,r.ds=0,r.angle=h.angle,r.da=0}else r.distance=Bt(o,c),r.box=Qt(o),r.scale=r.distance/e.gesture.startDistance,r.angle=Jt(o,c),r.ds=r.scale-e.gesture.scale,r.da=r.angle-e.gesture.angle;e.gesture.distance=r.distance,e.gesture.angle=r.angle,S.number(r.scale)&&r.scale!==1/0&&!isNaN(r.scale)&&(e.gesture.scale=r.scale)}}var ir={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,r=t.Interactable,n=t.defaults;r.prototype.gesturable=function(o){return S.object(o)?(this.options.gesture.enabled=o.enabled!==!1,this.setPerAction("gesture",o),this.setOnEvents("gesture",o),this):S.bool(o)?(this.options.gesture.enabled=o,this):this.options.gesture},e.map.gesture=ir,e.methodDict.gesture="gesturable",n.actions.gesture=ir.defaults},listeners:{"interactions:action-start":nr,"interactions:action-move":nr,"interactions:action-end":nr,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(t){return t.search("gesture")===0}},so=ir;function ao(t,e,r,n,o,l,u){if(!e)return!1;if(e===!0){var c=S.number(l.width)?l.width:l.right-l.left,h=S.number(l.height)?l.height:l.bottom-l.top;if(u=Math.min(u,Math.abs((t==="left"||t==="right"?c:h)/2)),c<0&&(t==="left"?t="right":t==="right"&&(t="left")),h<0&&(t==="top"?t="bottom":t==="bottom"&&(t="top")),t==="left"){var v=c>=0?l.left:l.right;return r.x<v+u}if(t==="top"){var d=h>=0?l.top:l.bottom;return r.y<d+u}if(t==="right")return r.x>(c>=0?l.right:l.left)-u;if(t==="bottom")return r.y>(h>=0?l.bottom:l.top)-u}return!!S.element(n)&&(S.element(e)?e===n:ce(n,e,o))}function sn(t){var e=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.resizeAxes){var n=e;r.interactable.options.resize.square?(r.resizeAxes==="y"?n.delta.x=n.delta.y:n.delta.y=n.delta.x,n.axes="xy"):(n.axes=r.resizeAxes,r.resizeAxes==="x"?n.delta.y=0:r.resizeAxes==="y"&&(n.delta.x=0))}}var ze,Ue,_e={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,r=t.browser,n=t.Interactable,o=t.defaults;_e.cursors=function(l){return l.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(r),_e.defaultMargin=r.supportsTouch||r.supportsPointerEvent?20:10,n.prototype.resizable=function(l){return function(u,c,h){return S.object(c)?(u.options.resize.enabled=c.enabled!==!1,u.setPerAction("resize",c),u.setOnEvents("resize",c),S.string(c.axis)&&/^x$|^y$|^xy$/.test(c.axis)?u.options.resize.axis=c.axis:c.axis===null&&(u.options.resize.axis=h.defaults.actions.resize.axis),S.bool(c.preserveAspectRatio)?u.options.resize.preserveAspectRatio=c.preserveAspectRatio:S.bool(c.square)&&(u.options.resize.square=c.square),u):S.bool(c)?(u.options.resize.enabled=c,u):u.options.resize}(this,l,t)},e.map.resize=_e,e.methodDict.resize="resizable",o.actions.resize=_e.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){(function(e){var r=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var o=r,l=n.rect;n._rects={start:W({},l),corrected:W({},l),previous:W({},l),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},o.edges=n.prepared.edges,o.rect=n._rects.corrected,o.deltaRect=n._rects.delta}})(t),sn(t)},"interactions:action-move":function(t){(function(e){var r=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var o=r,l=n.interactable.options.resize.invert,u=l==="reposition"||l==="negate",c=n.rect,h=n._rects,v=h.start,d=h.corrected,b=h.delta,T=h.previous;if(W(T,d),u){if(W(d,c),l==="reposition"){if(d.top>d.bottom){var _=d.top;d.top=d.bottom,d.bottom=_}if(d.left>d.right){var E=d.left;d.left=d.right,d.right=E}}}else d.top=Math.min(c.top,v.bottom),d.bottom=Math.max(c.bottom,v.top),d.left=Math.min(c.left,v.right),d.right=Math.max(c.right,v.left);for(var C in d.width=d.right-d.left,d.height=d.bottom-d.top,d)b[C]=d[C]-T[C];o.edges=n.prepared.edges,o.rect=d,o.deltaRect=b}})(t),sn(t)},"interactions:action-end":function(t){var e=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var n=e;n.edges=r.prepared.edges,n.rect=r._rects.corrected,n.deltaRect=r._rects.delta}},"auto-start:check":function(t){var e=t.interaction,r=t.interactable,n=t.element,o=t.rect,l=t.buttons;if(o){var u=W({},e.coords.cur.page),c=r.options.resize;if(c&&c.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||l&c.mouseButtons)){if(S.object(c.edges)){var h={left:!1,right:!1,top:!1,bottom:!1};for(var v in h)h[v]=ao(v,c.edges[v],u,e._latestPointer.eventTarget,n,o,c.margin||_e.defaultMargin);h.left=h.left&&!h.right,h.top=h.top&&!h.bottom,(h.left||h.right||h.top||h.bottom)&&(t.action={name:"resize",edges:h})}else{var d=c.axis!=="y"&&u.x>o.right-_e.defaultMargin,b=c.axis!=="x"&&u.y>o.bottom-_e.defaultMargin;(d||b)&&(t.action={name:"resize",axes:(d?"x":"")+(b?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,r=t.axis,n=t.name,o=_e.cursors,l=null;if(r)l=o[n+r];else if(e){for(var u="",c=0,h=["top","bottom","left","right"];c<h.length;c++){var v=h[c];e[v]&&(u+=v)}l=o[u]}return l},filterEventType:function(t){return t.search("resize")===0},defaultMargin:null},lo=_e,uo={id:"actions",install:function(t){t.usePlugin(so),t.usePlugin(lo),t.usePlugin(ne),t.usePlugin(oo)}},an=0,$e={request:function(t){return ze(t)},cancel:function(t){return Ue(t)},init:function(t){if(ze=t.requestAnimationFrame,Ue=t.cancelAnimationFrame,!ze)for(var e=["ms","moz","webkit","o"],r=0;r<e.length;r++){var n=e[r];ze=t["".concat(n,"RequestAnimationFrame")],Ue=t["".concat(n,"CancelAnimationFrame")]||t["".concat(n,"CancelRequestAnimationFrame")]}ze=ze&&ze.bind(t),Ue=Ue&&Ue.bind(t),ze||(ze=function(o){var l=Date.now(),u=Math.max(0,16-(l-an)),c=t.setTimeout(function(){o(l+u)},u);return an=l+u,c},Ue=function(o){return clearTimeout(o)})}},Z={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){Z.isScrolling=!0,$e.cancel(Z.i),t.autoScroll=Z,Z.interaction=t,Z.prevTime=Z.now(),Z.i=$e.request(Z.scroll)},stop:function(){Z.isScrolling=!1,Z.interaction&&(Z.interaction.autoScroll=null),$e.cancel(Z.i)},scroll:function(){var t=Z.interaction,e=t.interactable,r=t.element,n=t.prepared.name,o=e.options[n].autoScroll,l=ln(o.container,e,r),u=Z.now(),c=(u-Z.prevTime)/1e3,h=o.speed*c;if(h>=1){var v={x:Z.x*h,y:Z.y*h};if(v.x||v.y){var d=un(l);S.window(l)?l.scrollBy(v.x,v.y):l&&(l.scrollLeft+=v.x,l.scrollTop+=v.y);var b=un(l),T={x:b.x-d.x,y:b.y-d.y};(T.x||T.y)&&e.fire({type:"autoscroll",target:r,interactable:e,delta:T,interaction:t,container:l})}Z.prevTime=u}Z.isScrolling&&($e.cancel(Z.i),Z.i=$e.request(Z.scroll))},check:function(t,e){var r;return(r=t.options[e].autoScroll)==null?void 0:r.enabled},onInteractionMove:function(t){var e=t.interaction,r=t.pointer;if(e.interacting()&&Z.check(e.interactable,e.prepared.name))if(e.simulation)Z.x=Z.y=0;else{var n,o,l,u,c=e.interactable,h=e.element,v=e.prepared.name,d=c.options[v].autoScroll,b=ln(d.container,c,h);if(S.window(b))u=r.clientX<Z.margin,n=r.clientY<Z.margin,o=r.clientX>b.innerWidth-Z.margin,l=r.clientY>b.innerHeight-Z.margin;else{var T=ve(b);u=r.clientX<T.left+Z.margin,n=r.clientY<T.top+Z.margin,o=r.clientX>T.right-Z.margin,l=r.clientY>T.bottom-Z.margin}Z.x=o?1:u?-1:0,Z.y=l?1:n?-1:0,Z.isScrolling||(Z.margin=d.margin,Z.speed=d.speed,Z.start(e))}}};function ln(t,e,r){return(S.string(t)?me(t,e,r):t)||re(r)}function un(t){return S.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var co={id:"auto-scroll",install:function(t){var e=t.defaults,r=t.actions;t.autoScroll=Z,Z.now=function(){return t.now()},r.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=Z.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,Z.stop(),Z.interaction&&(Z.interaction=null)},"interactions:stop":Z.stop,"interactions:action-move":function(t){return Z.onInteractionMove(t)}}},po=co;function lt(t,e){var r=!1;return function(){return r||(K.console.warn(e),r=!0),t.apply(this,arguments)}}function or(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t}function ho(t){return S.bool(t)?(this.options.styleCursor=t,this):t===null?(delete this.options.styleCursor,this):this.options.styleCursor}function fo(t){return S.func(t)?(this.options.actionChecker=t,this):t===null?(delete this.options.actionChecker,this):this.options.actionChecker}var mo={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(r,n,o,l){var u=function(c,h,v,d,b){var T=c.getRect(d),_=h.buttons||{0:1,1:4,3:8,4:16}[h.button],E={action:null,interactable:c,interaction:v,element:d,rect:T,buttons:_};return b.fire("auto-start:check",E),E.action}(this,n,o,l,t);return this.options.actionChecker?this.options.actionChecker(r,n,u,this,l,o):u},e.prototype.ignoreFrom=lt(function(r){return this._backCompatOption("ignoreFrom",r)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=lt(function(r){return this._backCompatOption("allowFrom",r)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=fo,e.prototype.styleCursor=ho}};function cn(t,e,r,n,o){return e.testIgnoreAllow(e.options[t.name],r,n)&&e.options[t.name].enabled&&Tt(e,r,t,o)?t:null}function vo(t,e,r,n,o,l,u){for(var c=0,h=n.length;c<h;c++){var v=n[c],d=o[c],b=v.getAction(e,r,t,d);if(b){var T=cn(b,v,d,l,u);if(T)return{action:T,interactable:v,element:d}}}return{action:null,interactable:null,element:null}}function pn(t,e,r,n,o){var l=[],u=[],c=n;function h(d){l.push(d),u.push(c)}for(;S.element(c);){l=[],u=[],o.interactables.forEachMatch(c,h);var v=vo(t,e,r,l,u,n,o);if(v.action&&!v.interactable.options[v.action.name].manualStart)return v;c=Y(c)}return{action:null,interactable:null,element:null}}function hn(t,e,r){var n=e.action,o=e.interactable,l=e.element;n=n||{name:null},t.interactable=o,t.element=l,or(t.prepared,n),t.rect=o&&n.name?o.getRect(l):null,fn(t,r),r.fire("autoStart:prepared",{interaction:t})}function Tt(t,e,r,n){var o=t.options,l=o[r.name].max,u=o[r.name].maxPerElement,c=n.autoStart.maxInteractions,h=0,v=0,d=0;if(!(l&&u&&c))return!1;for(var b=0,T=n.interactions.list;b<T.length;b++){var _=T[b],E=_.prepared.name;if(_.interacting()&&(++h>=c||_.interactable===t&&((v+=E===r.name?1:0)>=l||_.element===e&&(d++,E===r.name&&d>=u))))return!1}return c>0}function dn(t,e){return S.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function sr(t,e,r){var n=r.autoStart.cursorElement;n&&n!==t&&(n.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,r.autoStart.cursorElement=e?t:null}function fn(t,e){var r=t.interactable,n=t.element,o=t.prepared;if(t.pointerType==="mouse"&&r&&r.options.styleCursor){var l="";if(o.name){var u=r.options[o.name].cursorChecker;l=S.func(u)?u(o,r,n,t._interacting):e.actions.map[o.name].getCursor(o)}sr(t.element,l||"",e)}else e.autoStart.cursorElement&&sr(e.autoStart.cursorElement,"",e)}var go={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,r=t.defaults;t.usePlugin(mo),r.base.actionChecker=null,r.base.styleCursor=!0,W(r.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(n){return dn(n,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:Tt,cursorElement:null}},listeners:{"interactions:down":function(t,e){var r=t.interaction,n=t.pointer,o=t.event,l=t.eventTarget;r.interacting()||hn(r,pn(r,n,o,l,e),e)},"interactions:move":function(t,e){(function(r,n){var o=r.interaction,l=r.pointer,u=r.event,c=r.eventTarget;o.pointerType!=="mouse"||o.pointerIsDown||o.interacting()||hn(o,pn(o,l,u,c,n),n)})(t,e),function(r,n){var o=r.interaction;if(o.pointerIsDown&&!o.interacting()&&o.pointerWasMoved&&o.prepared.name){n.fire("autoStart:before-start",r);var l=o.interactable,u=o.prepared.name;u&&l&&(l.options[u].manualStart||!Tt(l,o.element,o.prepared,n)?o.stop():(o.start(o.prepared,l,o.element),fn(o,n)))}}(t,e)},"interactions:stop":function(t,e){var r=t.interaction,n=r.interactable;n&&n.options.styleCursor&&sr(r.element,"",e)}},maxInteractions:dn,withinInteractionLimit:Tt,validateAction:cn},ar=go,bo={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var r=t.interaction,n=t.eventTarget,o=t.dx,l=t.dy;if(r.prepared.name==="drag"){var u=Math.abs(o),c=Math.abs(l),h=r.interactable.options.drag,v=h.startAxis,d=u>c?"x":u<c?"y":"xy";if(r.prepared.axis=h.lockAxis==="start"?d[0]:h.lockAxis,d!=="xy"&&v!=="xy"&&v!==d){r.prepared.name=null;for(var b=n,T=function(E){if(E!==r.interactable){var C=r.interactable.options.drag;if(!C.manualStart&&E.testIgnoreAllow(C,b,n)){var A=E.getAction(r.downPointer,r.downEvent,r,b);if(A&&A.name==="drag"&&function($,U){if(!U)return!1;var q=U.options.drag.startAxis;return $==="xy"||q==="xy"||q===$}(d,E)&&ar.validateAction(A,E,b,n,e))return E}}};S.element(b);){var _=e.interactables.forEachMatch(b,T);if(_){r.prepared.name="drag",r.interactable=_,r.element=b;break}b=Y(b)}}}}}};function lr(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var r=t.interactable.options;return r[e].hold||r[e].delay}var yo={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(ar),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,r=lr(e);r>0&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.interactable,e.element)},r))},"interactions:move":function(t){var e=t.interaction,r=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!r&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;lr(e)>0&&(e.prepared.name=null)}},getHoldDuration:lr},xo=yo,To={id:"auto-start",install:function(t){t.usePlugin(ar),t.usePlugin(xo),t.usePlugin(bo)}},So=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):S.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function wo(t){var e=t.interaction,r=t.event;e.interactable&&e.interactable.checkAndPreventDefault(r)}var mn={id:"core/interactablePreventDefault",install:function(t){var e=t.Interactable;e.prototype.preventDefault=So,e.prototype.checkAndPreventDefault=function(r){return function(n,o,l){var u=n.options.preventDefault;if(u!=="never")if(u!=="always"){if(o.events.supportsPassive&&/^touch(start|move)$/.test(l.type)){var c=re(l.target).document,h=o.getDocOptions(c);if(!h||!h.events||h.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(l.type)||S.element(l.target)&&X(l.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||l.preventDefault()}else l.preventDefault()}(this,t,r)},t.interactions.docEvents.push({type:"dragstart",listener:function(r){for(var n=0,o=t.interactions.list;n<o.length;n++){var l=o[n];if(l.element&&(l.element===r.target||N(l.element,r.target)))return void l.interactable.checkAndPreventDefault(r)}}})},listeners:["down","move","up","cancel"].reduce(function(t,e){return t["interactions:".concat(e)]=wo,t},{})};function St(t,e){if(e.phaselessTypes[t])return!0;for(var r in e.map)if(t.indexOf(r)===0&&t.substr(r.length)in e.phases)return!0;return!1}function Ve(t){var e={};for(var r in t){var n=t[r];S.plainObject(n)?e[r]=Ve(n):S.array(n)?e[r]=en(n):e[r]=n}return e}var ur=function(){function t(e){m(this,t),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=e,this.result=wt(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return y(t,[{key:"start",value:function(e,r){var n,o,l=e.phase,u=this.interaction,c=function(v){var d=v.interactable.options[v.prepared.name],b=d.modifiers;return b&&b.length?b:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(T){var _=d[T];return _&&_.enabled&&{options:_,methods:_._methods}}).filter(function(T){return!!T})}(u);this.prepareStates(c),this.startEdges=W({},u.edges),this.edges=W({},this.startEdges),this.startOffset=(n=u.rect,o=r,n?{left:o.x-n.left,top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var h=this.fillArg({phase:l,pageCoords:r,preEnd:!1});return this.result=wt(),this.startAll(h),this.result=this.setAll(h)}},{key:"fillArg",value:function(e){var r=this.interaction;return e.interaction=r,e.interactable=r.interactable,e.element=r.element,e.rect||(e.rect=r.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var r=0,n=this.states;r<n.length;r++){var o=n[r];o.methods.start&&(e.state=o,o.methods.start(e))}}},{key:"setAll",value:function(e){var r=e.phase,n=e.preEnd,o=e.skipModifiers,l=e.rect,u=e.edges;e.coords=W({},e.pageCoords),e.rect=W({},l),e.edges=W({},u);for(var c=o?this.states.slice(o):this.states,h=wt(e.coords,e.rect),v=0;v<c.length;v++){var d,b=c[v],T=b.options,_=W({},e.coords),E=null;(d=b.methods)!=null&&d.set&&this.shouldDo(T,n,r)&&(e.state=b,E=b.methods.set(e),vt(e.edges,e.rect,{x:e.coords.x-_.x,y:e.coords.y-_.y})),h.eventProps.push(E)}W(this.edges,e.edges),h.delta.x=e.coords.x-e.pageCoords.x,h.delta.y=e.coords.y-e.pageCoords.y,h.rectDelta.left=e.rect.left-l.left,h.rectDelta.right=e.rect.right-l.right,h.rectDelta.top=e.rect.top-l.top,h.rectDelta.bottom=e.rect.bottom-l.bottom;var C=this.result.coords,A=this.result.rect;if(C&&A){var $=h.rect.left!==A.left||h.rect.right!==A.right||h.rect.top!==A.top||h.rect.bottom!==A.bottom;h.changed=$||C.x!==h.coords.x||C.y!==h.coords.y}return h}},{key:"applyToInteraction",value:function(e){var r=this.interaction,n=e.phase,o=r.coords.cur,l=r.coords.start,u=this.result,c=this.startDelta,h=u.delta;n==="start"&&W(this.startDelta,u.delta);for(var v=0,d=[[l,c],[o,h]];v<d.length;v++){var b=d[v],T=b[0],_=b[1];T.page.x+=_.x,T.page.y+=_.y,T.client.x+=_.x,T.client.y+=_.y}var E=this.result.rectDelta,C=e.rect||r.rect;C.left+=E.left,C.right+=E.right,C.top+=E.top,C.bottom+=E.bottom,C.width=C.right-C.left,C.height=C.bottom-C.top}},{key:"setAndApply",value:function(e){var r=this.interaction,n=e.phase,o=e.preEnd,l=e.skipModifiers,u=this.setAll(this.fillArg({preEnd:o,phase:n,pageCoords:e.modifiedCoords||r.coords.cur.page}));if(this.result=u,!u.changed&&(!l||l<this.states.length)&&r.interacting())return!1;if(e.modifiedCoords){var c=r.coords.cur.page,h={x:e.modifiedCoords.x-c.x,y:e.modifiedCoords.y-c.y};u.coords.x+=h.x,u.coords.y+=h.y,u.delta.x+=h.x,u.delta.y+=h.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var r=e.interaction,n=e.event,o=this.states;if(o&&o.length){for(var l=!1,u=0;u<o.length;u++){var c=o[u];e.state=c;var h=c.options,v=c.methods,d=v.beforeEnd&&v.beforeEnd(e);if(d)return this.endResult=d,!1;l=l||!l&&this.shouldDo(h,!0,e.phase,!0)}l&&r.move({event:n,preEnd:!0})}}},{key:"stop",value:function(e){var r=e.interaction;if(this.states&&this.states.length){var n=W({states:this.states,interactable:r.interactable,element:r.element,rect:null},e);this.fillArg(n);for(var o=0,l=this.states;o<l.length;o++){var u=l[o];n.state=u,u.methods.stop&&u.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var r=0;r<e.length;r++){var n=e[r],o=n.options,l=n.methods,u=n.name;this.states.push({options:o,methods:l,index:r,name:u})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var r=e.interaction,n=r.coords,o=r.rect,l=r.modification;if(l.result){for(var u=l.startDelta,c=l.result,h=c.delta,v=c.rectDelta,d=0,b=[[n.start,u],[n.cur,h]];d<b.length;d++){var T=b[d],_=T[0],E=T[1];_.page.x-=E.x,_.page.y-=E.y,_.client.x-=E.x,_.client.y-=E.y}o.left-=v.left,o.right-=v.right,o.top-=v.top,o.bottom-=v.bottom}}},{key:"shouldDo",value:function(e,r,n,o){return!(!e||e.enabled===!1||o&&!e.endOnly||e.endOnly&&!r||n==="start"&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(r){return Ve(r)}),this.result=wt(W({},e.result.coords),W({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),t}();function wt(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Le(t,e){var r=t.defaults,n={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},o=function(l){var u=l||{};for(var c in u.enabled=u.enabled!==!1,r)c in u||(u[c]=r[c]);var h={options:u,methods:n,name:e,enable:function(){return u.enabled=!0,h},disable:function(){return u.enabled=!1,h}};return h};return e&&typeof e=="string"&&(o._defaults=r,o._methods=n),o}function ut(t){var e=t.iEvent,r=t.interaction.modification.result;r&&(e.modifiers=r.eventProps)}var Oo={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new ur(e)},"interactions:before-action-start":function(t){var e=t.interaction,r=t.interaction.modification;r.start(t,e.coords.start.page),e.edges=r.edges,r.applyToInteraction(t)},"interactions:before-action-move":function(t){var e=t.interaction,r=e.modification,n=r.setAndApply(t);return e.edges=r.edges,n},"interactions:before-action-end":function(t){var e=t.interaction,r=e.modification,n=r.beforeEnd(t);return e.edges=r.startEdges,n},"interactions:action-start":ut,"interactions:action-move":ut,"interactions:action-end":ut,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}},vn=Oo,gn={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},cr=function(t){M(r,t);var e=k(r);function r(n,o,l,u,c,h,v){var d;m(this,r),(d=e.call(this,n)).relatedTarget=null,d.screenX=void 0,d.screenY=void 0,d.button=void 0,d.buttons=void 0,d.ctrlKey=void 0,d.shiftKey=void 0,d.altKey=void 0,d.metaKey=void 0,d.page=void 0,d.client=void 0,d.delta=void 0,d.rect=void 0,d.x0=void 0,d.y0=void 0,d.t0=void 0,d.dt=void 0,d.duration=void 0,d.clientX0=void 0,d.clientY0=void 0,d.velocity=void 0,d.speed=void 0,d.swipe=void 0,d.axes=void 0,d.preEnd=void 0,c=c||n.element;var b=n.interactable,T=(b&&b.options||gn).deltaSource,_=nt(b,c,l),E=u==="start",C=u==="end",A=E?x(d):n.prevEvent,$=E?n.coords.start:C?{page:A.page,client:A.client,timeStamp:n.coords.cur.timeStamp}:n.coords.cur;return d.page=W({},$.page),d.client=W({},$.client),d.rect=W({},n.rect),d.timeStamp=$.timeStamp,C||(d.page.x-=_.x,d.page.y-=_.y,d.client.x-=_.x,d.client.y-=_.y),d.ctrlKey=o.ctrlKey,d.altKey=o.altKey,d.shiftKey=o.shiftKey,d.metaKey=o.metaKey,d.button=o.button,d.buttons=o.buttons,d.target=c,d.currentTarget=c,d.preEnd=h,d.type=v||l+(u||""),d.interactable=b,d.t0=E?n.pointers[n.pointers.length-1].downTime:A.t0,d.x0=n.coords.start.page.x-_.x,d.y0=n.coords.start.page.y-_.y,d.clientX0=n.coords.start.client.x-_.x,d.clientY0=n.coords.start.client.y-_.y,d.delta=E||C?{x:0,y:0}:{x:d[T].x-A[T].x,y:d[T].y-A[T].y},d.dt=n.coords.delta.timeStamp,d.duration=d.timeStamp-d.t0,d.velocity=W({},n.coords.velocity[T]),d.speed=it(d.velocity.x,d.velocity.y),d.swipe=C||u==="inertiastart"?d.getSwipe():null,d}return y(r,[{key:"getSwipe",value:function(){var n=this._interaction;if(n.prevEvent.speed<600||this.timeStamp-n.prevEvent.timeStamp>150)return null;var o=180*Math.atan2(n.prevEvent.velocityY,n.prevEvent.velocityX)/Math.PI;o<0&&(o+=360);var l=112.5<=o&&o<247.5,u=202.5<=o&&o<337.5;return{up:u,down:!u&&22.5<=o&&o<157.5,left:l,right:!l&&(292.5<=o||o<67.5),angle:o,speed:n.prevEvent.speed,velocity:{x:n.prevEvent.velocityX,y:n.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),r}(xt);Object.defineProperties(cr.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var Mo=y(function t(e,r,n,o,l){m(this,t),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=e,this.pointer=r,this.event=n,this.downTime=o,this.downTarget=l}),ko=function(t){return t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy="",t}({}),bn=function(t){return t.start="",t.move="",t.end="",t.stop="",t.interacting="",t}({}),Po=0,Eo=function(){function t(e){var r=this,n=e.pointerType,o=e.scopeFire;m(this,t),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=lt(function(d){this.move(d)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Po++,this._scopeFire=o,this.pointerType=n;var l=this;this._proxy={};var u=function(d){Object.defineProperty(r._proxy,d,{get:function(){return l[d]}})};for(var c in ko)u(c);var h=function(d){Object.defineProperty(r._proxy,d,{value:function(){return l[d].apply(l,arguments)}})};for(var v in bn)h(v);this._scopeFire("interactions:new",{interaction:this})}return y(t,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,r,n){var o=this.updatePointer(e,r,n,!0),l=this.pointers[o];this._scopeFire("interactions:down",{pointer:e,event:r,eventTarget:n,pointerIndex:o,pointerInfo:l,type:"down",interaction:this})}},{key:"start",value:function(e,r,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(e.name==="gesture"?2:1)||!r.options[e.name].enabled)&&(or(this.prepared,e),this.interactable=r,this.element=n,this.rect=r.getRect(n),this.edges=this.prepared.edges?W({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,r,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,r,n,!1);var o,l,u=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(o=this.coords.cur.client.x-this.coords.start.client.x,l=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=it(o,l)>this.pointerMoveTolerance);var c,h,v,d=this.getPointerIndex(e),b={pointer:e,pointerIndex:d,pointerInfo:this.pointers[d],event:r,type:"move",eventTarget:n,dx:o,dy:l,duplicate:u,interaction:this};u||(c=this.coords.velocity,h=this.coords.delta,v=Math.max(h.timeStamp/1e3,.001),c.page.x=h.page.x/v,c.page.y=h.page.y/v,c.client.x=h.client.x/v,c.client.y=h.client.y/v,c.timeStamp=v),this._scopeFire("interactions:move",b),u||this.simulation||(this.interacting()&&(b.type=null,this.move(b)),this.pointerWasMoved&&bt(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||Xr(this.coords.delta),(e=W({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,r,n,o){var l=this.getPointerIndex(e);l===-1&&(l=this.updatePointer(e,r,n,!1));var u=/cancel$/i.test(r.type)?"cancel":"up";this._scopeFire("interactions:".concat(u),{pointer:e,pointerIndex:l,pointerInfo:this.pointers[l],event:r,eventTarget:n,type:u,curEventTarget:o,interaction:this}),this.simulation||this.end(r),this.removePointer(e,r)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var r;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(r=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,r===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var r=ot(e);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:st(this.pointers,function(n){return n.id===r})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,r,n,o){var l,u,c,h=ot(e),v=this.getPointerIndex(e),d=this.pointers[v];return o=o!==!1&&(o||/(down|start)$/i.test(r.type)),d?d.pointer=e:(d=new Mo(h,e,r,null,null),v=this.pointers.length,this.pointers.push(d)),io(this.coords.cur,this.pointers.map(function(b){return b.pointer}),this._now()),l=this.coords.delta,u=this.coords.prev,c=this.coords.cur,l.page.x=c.page.x-u.page.x,l.page.y=c.page.y-u.page.y,l.client.x=c.client.x-u.client.x,l.client.y=c.client.y-u.client.y,l.timeStamp=c.timeStamp-u.timeStamp,o&&(this.pointerIsDown=!0,d.downTime=this.coords.cur.timeStamp,d.downTarget=n,gt(this.downPointer,e),this.interacting()||(bt(this.coords.start,this.coords.cur),bt(this.coords.prev,this.coords.cur),this.downEvent=r,this.pointerWasMoved=!1)),this._updateLatestPointer(e,r,n),this._scopeFire("interactions:update-pointer",{pointer:e,event:r,eventTarget:n,down:o,pointerInfo:d,pointerIndex:v,interaction:this}),v}},{key:"removePointer",value:function(e,r){var n=this.getPointerIndex(e);if(n!==-1){var o=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:e,event:r,eventTarget:null,pointerIndex:n,pointerInfo:o,interaction:this}),this.pointers.splice(n,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,r,n){this._latestPointer.pointer=e,this._latestPointer.event=r,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,r,n,o){return new cr(this,e,this.prepared.name,r,this.element,n,o)}},{key:"_fireEvent",value:function(e){var r;(r=this.interactable)==null||r.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var r=e.event,n=e.phase,o=e.preEnd,l=e.type,u=this.rect;if(u&&n==="move"&&(vt(this.edges,u,this.coords.delta[this.interactable.options.deltaSource]),u.width=u.right-u.left,u.height=u.bottom-u.top),this._scopeFire("interactions:before-action-".concat(n),e)===!1)return!1;var c=e.iEvent=this._createPreparedEvent(r,n,o,l);return this._scopeFire("interactions:action-".concat(n),e),n==="start"&&(this.prevEvent=c),this._fireEvent(c),this._scopeFire("interactions:after-action-".concat(n),e),!0}},{key:"_now",value:function(){return Date.now()}}]),t}();function yn(t){xn(t.interaction)}function xn(t){if(!function(r){return!(!r.offset.pending.x&&!r.offset.pending.y)}(t))return!1;var e=t.offset.pending;return pr(t.coords.cur,e),pr(t.coords.delta,e),vt(t.edges,t.rect,e),e.x=0,e.y=0,!0}function zo(t){var e=t.x,r=t.y;this.offset.pending.x+=e,this.offset.pending.y+=r,this.offset.total.x+=e,this.offset.total.y+=r}function pr(t,e){var r=t.page,n=t.client,o=e.x,l=e.y;r.x+=o,r.y+=l,n.x+=o,n.y+=l}bn.offsetBy="";var _o={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(t){t.Interaction.prototype.offsetBy=zo},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return function(e){e.pointerIsDown&&(pr(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}(t.interaction)},"interactions:before-action-start":yn,"interactions:before-action-move":yn,"interactions:before-action-end":function(t){var e=t.interaction;if(xn(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}},Tn=_o,Co=function(){function t(e){m(this,t),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=e}return y(t,[{key:"start",value:function(e){var r=this.interaction,n=Ot(r);if(!n||!n.enabled)return!1;var o=r.coords.velocity.client,l=it(o.x,o.y),u=this.modification||(this.modification=new ur(r));if(u.copyFrom(r.modification),this.t0=r._now(),this.allowResume=n.allowResume,this.v0=l,this.currentOffset={x:0,y:0},this.startCoords=r.coords.cur.page,this.modifierArg=u.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-r.coords.cur.timeStamp<50&&l>n.minSpeed&&l>n.endSpeed)this.startInertia();else{if(u.result=u.setAll(this.modifierArg),!u.result.changed)return!1;this.startSmoothEnd()}return r.modification.result.rect=null,r.offsetBy(this.targetOffset),r._doPhase({interaction:r,event:e,phase:"inertiastart"}),r.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),r.modification.result.rect=null,this.active=!0,r.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,r=this.interaction.coords.velocity.client,n=Ot(this.interaction),o=n.resistance,l=-Math.log(n.endSpeed/this.v0)/o;this.targetOffset={x:(r.x-l)/o,y:(r.y-l)/o},this.te=l,this.lambda_v0=o/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var u=this.modification,c=this.modifierArg;c.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},u.result=u.setAll(c),u.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+u.result.delta.x,y:this.targetOffset.y+u.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var r=this;this.timeout=$e.request(function(){r.active&&e()})}},{key:"inertiaTick",value:function(){var e,r,n,o,l,u,c,h=this,v=this.interaction,d=Ot(v).resistance,b=(v._now()-this.t0)/1e3;if(b<this.te){var T,_=1-(Math.exp(-d*b)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=0,r=0,n=this.targetOffset.x,o=this.targetOffset.y,l=this.modifiedOffset.x,u=this.modifiedOffset.y,T={x:Sn(c=_,e,n,l),y:Sn(c,r,o,u)}):T={x:this.targetOffset.x*_,y:this.targetOffset.y*_};var E={x:T.x-this.currentOffset.x,y:T.y-this.currentOffset.y};this.currentOffset.x+=E.x,this.currentOffset.y+=E.y,v.offsetBy(E),v.move(),this.onNextFrame(function(){return h.inertiaTick()})}else v.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,r=this.interaction,n=r._now()-this.t0,o=Ot(r).smoothEndDuration;if(n<o){var l={x:wn(n,0,this.targetOffset.x,o),y:wn(n,0,this.targetOffset.y,o)},u={x:l.x-this.currentOffset.x,y:l.y-this.currentOffset.y};this.currentOffset.x+=u.x,this.currentOffset.y+=u.y,r.offsetBy(u),r.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else r.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var r=e.pointer,n=e.event,o=e.eventTarget,l=this.interaction;l.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),l.updatePointer(r,n,o,!0),l._doPhase({interaction:l,event:n,phase:"resume"}),bt(l.coords.prev,l.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,$e.cancel(this.timeout)}}]),t}();function Ot(t){var e=t.interactable,r=t.prepared;return e&&e.options&&r.name&&e.options[r.name].inertia}var Do={id:"inertia",before:["modifiers","actions"],install:function(t){var e=t.defaults;t.usePlugin(Tn),t.usePlugin(vn),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new Co(e)},"interactions:before-action-end":function(t){var e=t.interaction,r=t.event;return(!e._interacting||e.simulation||!e.inertia.start(r))&&null},"interactions:down":function(t){var e=t.interaction,r=t.eventTarget,n=e.inertia;if(n.active)for(var o=r;S.element(o);){if(o===e.element){n.resume(t);break}o=Y(o)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":ut,"interactions:action-inertiastart":ut,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};function Sn(t,e,r,n){var o=1-t;return o*o*e+2*o*t*r+t*t*n}function wn(t,e,r,n){return-r*(t/=n)*(t-2)+e}var Io=Do;function On(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(t.immediatePropagationStopped)break;n(t)}}var Mn=function(){function t(e){m(this,t),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=W({},e||{})}return y(t,[{key:"fire",value:function(e){var r,n=this.global;(r=this.types[e.type])&&On(e,r),!e.propagationStopped&&n&&(r=n[e.type])&&On(e,r)}},{key:"on",value:function(e,r){var n=Ne(e,r);for(e in n)this.types[e]=Jr(this.types[e]||[],n[e])}},{key:"off",value:function(e,r){var n=Ne(e,r);for(e in n){var o=this.types[e];if(o&&o.length)for(var l=0,u=n[e];l<u.length;l++){var c=u[l],h=o.indexOf(c);h!==-1&&o.splice(h,1)}}}},{key:"getRect",value:function(e){return null}}]),t}(),jo=function(){function t(e){m(this,t),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=e,gt(this,e)}return y(t,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),t}();function ct(t){return S.object(t)?{capture:!!t.capture,passive:!!t.passive}:{capture:!!t,passive:!1}}function Mt(t,e){return t===e||(typeof t=="boolean"?!!e.capture===t&&!e.passive:!!t.capture==!!e.capture&&!!t.passive==!!e.passive)}var Ro={id:"events",install:function(t){var e,r=[],n={},o=[],l={add:u,remove:c,addDelegate:function(d,b,T,_,E){var C=ct(E);if(!n[T]){n[T]=[];for(var A=0;A<o.length;A++){var $=o[A];u($,T,h),u($,T,v,!0)}}var U=n[T],q=at(U,function(te){return te.selector===d&&te.context===b});q||(q={selector:d,context:b,listeners:[]},U.push(q)),q.listeners.push({func:_,options:C})},removeDelegate:function(d,b,T,_,E){var C,A=ct(E),$=n[T],U=!1;if($)for(C=$.length-1;C>=0;C--){var q=$[C];if(q.selector===d&&q.context===b){for(var te=q.listeners,V=te.length-1;V>=0;V--){var Q=te[V];if(Q.func===_&&Mt(Q.options,A)){te.splice(V,1),te.length||($.splice(C,1),c(b,T,h),c(b,T,v,!0)),U=!0;break}}if(U)break}}},delegateListener:h,delegateUseCapture:v,delegatedEvents:n,documents:o,targets:r,supportsOptions:!1,supportsPassive:!1};function u(d,b,T,_){if(d.addEventListener){var E=ct(_),C=at(r,function(A){return A.eventTarget===d});C||(C={eventTarget:d,events:{}},r.push(C)),C.events[b]||(C.events[b]=[]),at(C.events[b],function(A){return A.func===T&&Mt(A.options,E)})||(d.addEventListener(b,T,l.supportsOptions?E:E.capture),C.events[b].push({func:T,options:E}))}}function c(d,b,T,_){if(d.addEventListener&&d.removeEventListener){var E=st(r,function(be){return be.eventTarget===d}),C=r[E];if(C&&C.events)if(b!=="all"){var A=!1,$=C.events[b];if($){if(T==="all"){for(var U=$.length-1;U>=0;U--){var q=$[U];c(d,b,q.func,q.options)}return}for(var te=ct(_),V=0;V<$.length;V++){var Q=$[V];if(Q.func===T&&Mt(Q.options,te)){d.removeEventListener(b,T,l.supportsOptions?te:te.capture),$.splice(V,1),$.length===0&&(delete C.events[b],A=!0);break}}}A&&!Object.keys(C.events).length&&r.splice(E,1)}else for(b in C.events)C.events.hasOwnProperty(b)&&c(d,b,"all")}}function h(d,b){for(var T=ct(b),_=new jo(d),E=n[d.type],C=Br(d)[0],A=C;S.element(A);){for(var $=0;$<E.length;$++){var U=E[$],q=U.selector,te=U.context;if(X(A,q)&&N(te,C)&&N(te,A)){var V=U.listeners;_.currentTarget=A;for(var Q=0;Q<V.length;Q++){var be=V[Q];Mt(be.options,T)&&be.func(_)}}}A=Y(A)}}function v(d){return h(d,!0)}return(e=t.document)==null||e.createElement("div").addEventListener("test",null,{get capture(){return l.supportsOptions=!0},get passive(){return l.supportsPassive=!0}}),t.events=l,l}},hr={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0,r=hr.methodOrder;e<r.length;e++){var n=r[e],o=hr[n](t);if(o)return o}return null},simulationResume:function(t){var e=t.pointerType,r=t.eventType,n=t.eventTarget,o=t.scope;if(!/down|start/i.test(r))return null;for(var l=0,u=o.interactions.list;l<u.length;l++){var c=u[l],h=n;if(c.simulation&&c.simulation.allowResume&&c.pointerType===e)for(;h;){if(h===c.element)return c;h=Y(h)}}return null},mouseOrPen:function(t){var e,r=t.pointerId,n=t.pointerType,o=t.eventType,l=t.scope;if(n!=="mouse"&&n!=="pen")return null;for(var u=0,c=l.interactions.list;u<c.length;u++){var h=c[u];if(h.pointerType===n){if(h.simulation&&!kn(h,r))continue;if(h.interacting())return h;e||(e=h)}}if(e)return e;for(var v=0,d=l.interactions.list;v<d.length;v++){var b=d[v];if(!(b.pointerType!==n||/down/i.test(o)&&b.simulation))return b}return null},hasPointer:function(t){for(var e=t.pointerId,r=0,n=t.scope.interactions.list;r<n.length;r++){var o=n[r];if(kn(o,e))return o}return null},idle:function(t){for(var e=t.pointerType,r=0,n=t.scope.interactions.list;r<n.length;r++){var o=n[r];if(o.pointers.length===1){var l=o.interactable;if(l&&(!l.options.gesture||!l.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&e===o.pointerType)return o}return null}};function kn(t,e){return t.pointers.some(function(r){return r.id===e})}var $o=hr,dr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Pn(t,e){return function(r){var n=e.interactions.list,o=Qr(r),l=Br(r),u=l[0],c=l[1],h=[];if(/^touch/.test(r.type)){e.prevTouchTime=e.now();for(var v=0,d=r.changedTouches;v<d.length;v++){var b=d[v],T={pointer:b,pointerId:ot(b),pointerType:o,eventType:r.type,eventTarget:u,curEventTarget:c,scope:e},_=En(T);h.push([T.pointer,T.eventTarget,T.curEventTarget,_])}}else{var E=!1;if(!D.supportsPointerEvent&&/mouse/.test(r.type)){for(var C=0;C<n.length&&!E;C++)E=n[C].pointerType!=="mouse"&&n[C].pointerIsDown;E=E||e.now()-e.prevTouchTime<500||r.timeStamp===0}if(!E){var A={pointer:r,pointerId:ot(r),pointerType:o,eventType:r.type,curEventTarget:c,eventTarget:u,scope:e},$=En(A);h.push([A.pointer,A.eventTarget,A.curEventTarget,$])}}for(var U=0;U<h.length;U++){var q=h[U],te=q[0],V=q[1],Q=q[2];q[3][t](te,r,V,Q)}}}function En(t){var e=t.pointerType,r=t.scope,n={interaction:$o.search(t),searchDetails:t};return r.fire("interactions:find",n),n.interaction||r.interactions.new({pointerType:e})}function fr(t,e){var r=t.doc,n=t.scope,o=t.options,l=n.interactions.docEvents,u=n.events,c=u[e];for(var h in n.browser.isIOS&&!o.events&&(o.events={passive:!1}),u.delegatedEvents)c(r,h,u.delegateListener),c(r,h,u.delegateUseCapture,!0);for(var v=o&&o.events,d=0;d<l.length;d++){var b=l[d];c(r,b.type,b.listener,v)}}var Lo={id:"core/interactions",install:function(t){for(var e={},r=0;r<dr.length;r++){var n=dr[r];e[n]=Pn(n,t)}var o,l=D.pEventTypes;function u(){for(var c=0,h=t.interactions.list;c<h.length;c++){var v=h[c];if(v.pointerIsDown&&v.pointerType==="touch"&&!v._interacting)for(var d=function(){var _=T[b];t.documents.some(function(E){return N(E.doc,_.downTarget)})||v.removePointer(_.pointer,_.event)},b=0,T=v.pointers;b<T.length;b++)d()}}(o=F.PointerEvent?[{type:l.down,listener:u},{type:l.down,listener:e.pointerDown},{type:l.move,listener:e.pointerMove},{type:l.up,listener:e.pointerUp},{type:l.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:u},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(c){for(var h=0,v=t.interactions.list;h<v.length;h++)v[h].documentBlur(c)}}),t.prevTouchTime=0,t.Interaction=function(c){M(v,c);var h=k(v);function v(){return m(this,v),h.apply(this,arguments)}return y(v,[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(d){t.interactions.pointerMoveTolerance=d}},{key:"_now",value:function(){return t.now()}}]),v}(Eo),t.interactions={list:[],new:function(c){c.scopeFire=function(v,d){return t.fire(v,d)};var h=new t.Interaction(c);return t.interactions.list.push(h),h},listeners:e,docEvents:o,pointerMoveTolerance:1},t.usePlugin(mn)},listeners:{"scope:add-document":function(t){return fr(t,"add")},"scope:remove-document":function(t){return fr(t,"remove")},"interactable:unset":function(t,e){for(var r=t.interactable,n=e.interactions.list.length-1;n>=0;n--){var o=e.interactions.list[n];o.interactable===r&&(o.stop(),e.fire("interactions:destroy",{interaction:o}),o.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(n,1))}}},onDocSignal:fr,doOnInteractions:Pn,methodNames:dr},Ao=Lo,Ae=function(t){return t[t.On=0]="On",t[t.Off=1]="Off",t}(Ae||{}),Ho=function(){function t(e,r,n,o){m(this,t),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Mn,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=r.actions,this.target=e,this._context=r.context||n,this._win=re(je(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=o,this.set(r)}return y(t,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,r){return S.func(r.onstart)&&this.on("".concat(e,"start"),r.onstart),S.func(r.onmove)&&this.on("".concat(e,"move"),r.onmove),S.func(r.onend)&&this.on("".concat(e,"end"),r.onend),S.func(r.oninertiastart)&&this.on("".concat(e,"inertiastart"),r.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,r,n){var o,l=this,u=(o=this._actions.map[e])==null?void 0:o.filterEventType,c=function(h){return(u==null||u(h))&&St(h,l._actions)};(S.array(r)||S.object(r))&&this._onOff(Ae.Off,e,r,void 0,c),(S.array(n)||S.object(n))&&this._onOff(Ae.On,e,n,void 0,c)}},{key:"setPerAction",value:function(e,r){var n=this._defaults;for(var o in r){var l=o,u=this.options[e],c=r[l];l==="listeners"&&this.updatePerActionListeners(e,u.listeners,c),S.array(c)?u[l]=en(c):S.plainObject(c)?(u[l]=W(u[l]||{},Ve(c)),S.object(n.perAction[l])&&"enabled"in n.perAction[l]&&(u[l].enabled=c.enabled!==!1)):S.bool(c)&&S.object(n.perAction[l])?u[l].enabled=c:u[l]=c}}},{key:"getRect",value:function(e){return e=e||(S.element(this.target)?this.target:null),S.string(this.target)&&(e=e||this._context.querySelector(this.target)),we(e)}},{key:"rectChecker",value:function(e){var r=this;return S.func(e)?(this.getRect=function(n){var o=W({},e.apply(r,n));return"width"in o||(o.width=o.right-o.left,o.height=o.bottom-o.top),o},this):e===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,r){if(je(r)||S.object(r)){for(var n in this.options[e]=r,this._actions.map)this.options[n][e]=r;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return e==="page"||e==="client"?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return S.string(e)?Array.from(this._context.querySelectorAll(e)):S.func(e)&&e.getAllElements?e.getAllElements():S.element(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||N(this._context,e)}},{key:"testIgnoreAllow",value:function(e,r,n){return!this.testIgnore(e.ignoreFrom,r,n)&&this.testAllow(e.allowFrom,r,n)}},{key:"testAllow",value:function(e,r,n){return!e||!!S.element(n)&&(S.string(e)?ce(n,e,r):!!S.element(e)&&N(e,n))}},{key:"testIgnore",value:function(e,r,n){return!(!e||!S.element(n))&&(S.string(e)?ce(n,e,r):!!S.element(e)&&N(e,n))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,r,n,o,l){S.object(r)&&!S.array(r)&&(o=n,n=null);var u=Ne(r,n,l);for(var c in u){c==="wheel"&&(c=D.wheelEvent);for(var h=0,v=u[c];h<v.length;h++){var d=v[h];St(c,this._actions)?this.events[e===Ae.On?"on":"off"](c,d):S.string(this.target)?this._scopeEvents[e===Ae.On?"addDelegate":"removeDelegate"](this.target,this._context,c,d,o):this._scopeEvents[e===Ae.On?"add":"remove"](this.target,c,d,o)}}return this}},{key:"on",value:function(e,r,n){return this._onOff(Ae.On,e,r,n)}},{key:"off",value:function(e,r,n){return this._onOff(Ae.Off,e,r,n)}},{key:"set",value:function(e){var r=this._defaults;for(var n in S.object(e)||(e={}),this.options=Ve(r.base),this._actions.methodDict){var o=n,l=this._actions.methodDict[o];this.options[o]={},this.setPerAction(o,W(W({},r.perAction),r.actions[o])),this[l](e[o])}for(var u in e)u!=="getRect"?S.func(this[u])&&this[u](e[u]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(S.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var r=this._scopeEvents.delegatedEvents[e],n=r.length-1;n>=0;n--){var o=r[n],l=o.selector,u=o.context,c=o.listeners;l===this.target&&u===this._context&&r.splice(n,1);for(var h=c.length-1;h>=0;h--)this._scopeEvents.removeDelegate(this.target,this._context,e,c[h][0],c[h][1])}else this._scopeEvents.remove(this.target,"all")}}]),t}(),Wo=function(){function t(e){var r=this;m(this,t),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=e,e.addListeners({"interactable:unset":function(n){var o=n.interactable,l=o.target,u=S.string(l)?r.selectorMap[l]:l[r.scope.id],c=st(u,function(h){return h===o});u.splice(c,1)}})}return y(t,[{key:"new",value:function(e,r){r=W(r||{},{actions:this.scope.actions});var n=new this.scope.Interactable(e,r,this.scope.document,this.scope.events);return this.scope.addDocument(n._doc),this.list.push(n),S.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(n)):(n.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(n)),this.scope.fire("interactable:new",{target:e,options:r,interactable:n,win:this.scope._win}),n}},{key:"getExisting",value:function(e,r){var n=r&&r.context||this.scope.document,o=S.string(e),l=o?this.selectorMap[e]:e[this.scope.id];if(l)return at(l,function(u){return u._context===n&&(o||u.inContext(e))})}},{key:"forEachMatch",value:function(e,r){for(var n=0,o=this.list;n<o.length;n++){var l=o[n],u=void 0;if((S.string(l.target)?S.element(e)&&X(e,l.target):e===l.target)&&l.inContext(e)&&(u=r(l)),u!==void 0)return u}}}]),t}(),Fo=function(){function t(){var e=this;m(this,t),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=D,this.defaults=Ve(gn),this.Eventable=Mn,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(n){var o=function l(u,c){var h=n.interactables.getExisting(u,c);return h||((h=n.interactables.new(u,c)).events.global=l.globalEvents),h};return o.getPointerAverage=qr,o.getTouchBBox=Qt,o.getTouchDistance=Bt,o.getTouchAngle=Jt,o.getElementRect=we,o.getElementClientRect=ve,o.matchesSelector=X,o.closest=L,o.globalEvents={},o.version="1.10.27",o.scope=n,o.use=function(l,u){return this.scope.usePlugin(l,u),this},o.isSet=function(l,u){return!!this.scope.interactables.get(l,u&&u.context)},o.on=lt(function(l,u,c){if(S.string(l)&&l.search(" ")!==-1&&(l=l.trim().split(/ +/)),S.array(l)){for(var h=0,v=l;h<v.length;h++){var d=v[h];this.on(d,u,c)}return this}if(S.object(l)){for(var b in l)this.on(b,l[b],u);return this}return St(l,this.scope.actions)?this.globalEvents[l]?this.globalEvents[l].push(u):this.globalEvents[l]=[u]:this.scope.events.add(this.scope.document,l,u,{options:c}),this},"The interact.on() method is being deprecated"),o.off=lt(function(l,u,c){if(S.string(l)&&l.search(" ")!==-1&&(l=l.trim().split(/ +/)),S.array(l)){for(var h=0,v=l;h<v.length;h++){var d=v[h];this.off(d,u,c)}return this}if(S.object(l)){for(var b in l)this.off(b,l[b],u);return this}var T;return St(l,this.scope.actions)?l in this.globalEvents&&(T=this.globalEvents[l].indexOf(u))!==-1&&this.globalEvents[l].splice(T,1):this.scope.events.remove(this.scope.document,l,u,c),this},"The interact.off() method is being deprecated"),o.debug=function(){return this.scope},o.supportsTouch=function(){return D.supportsTouch},o.supportsPointerEvent=function(){return D.supportsPointerEvent},o.stop=function(){for(var l=0,u=this.scope.interactions.list;l<u.length;l++)u[l].stop();return this},o.pointerMoveTolerance=function(l){return S.number(l)?(this.scope.interactions.pointerMoveTolerance=l,this):this.scope.interactions.pointerMoveTolerance},o.addDocument=function(l,u){this.scope.addDocument(l,u)},o.removeDocument=function(l){this.scope.removeDocument(l)},o}(this),this.InteractEvent=cr,this.Interactable=void 0,this.interactables=new Wo(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(n){return e.removeDocument(n.target)};var r=this;this.Interactable=function(n){M(l,n);var o=k(l);function l(){return m(this,l),o.apply(this,arguments)}return y(l,[{key:"_defaults",get:function(){return r.defaults}},{key:"set",value:function(u){return P(R(l.prototype),"set",this).call(this,u),r.fire("interactable:set",{options:u,interactable:this}),this}},{key:"unset",value:function(){P(R(l.prototype),"unset",this).call(this);var u=r.interactables.list.indexOf(this);u<0||(r.interactables.list.splice(u,1),r.fire("interactable:unset",{interactable:this}))}}]),l}(Ho)}return y(t,[{key:"addListeners",value:function(e,r){this.listenerMaps.push({id:r,map:e})}},{key:"fire",value:function(e,r){for(var n=0,o=this.listenerMaps;n<o.length;n++){var l=o[n].map[e];if(l&&l(r,this,e)===!1)return!1}}},{key:"init",value:function(e){return this.isInitialized?this:function(r,n){return r.isInitialized=!0,S.window(n)&&J(n),F.init(n),D.init(n),$e.init(n),r.window=n,r.document=n.document,r.usePlugin(Ao),r.usePlugin(Ro),r}(this,e)}},{key:"pluginIsInstalled",value:function(e){var r=e.id;return r?!!this._plugins.map[r]:this._plugins.list.indexOf(e)!==-1}},{key:"usePlugin",value:function(e,r){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,r),e.listeners&&e.before){for(var n=0,o=this.listenerMaps.length,l=e.before.reduce(function(c,h){return c[h]=!0,c[zn(h)]=!0,c},{});n<o;n++){var u=this.listenerMaps[n].id;if(u&&(l[u]||l[zn(u)]))break}this.listenerMaps.splice(n,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,r){if(this.getDocIndex(e)!==-1)return!1;var n=re(e);r=r?W({},r):{},this.documents.push({doc:e,options:r}),this.events.documents.push(e),e!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:n,scope:this,options:r})}},{key:"removeDocument",value:function(e){var r=this.getDocIndex(e),n=re(e),o=this.documents[r].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(r,1),this.events.documents.splice(r,1),this.fire("scope:remove-document",{doc:e,window:n,scope:this,options:o})}},{key:"getDocIndex",value:function(e){for(var r=0;r<this.documents.length;r++)if(this.documents[r].doc===e)return r;return-1}},{key:"getDocOptions",value:function(e){var r=this.getDocIndex(e);return r===-1?null:this.documents[r].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();function zn(t){return t&&t.replace(/\/.*$/,"")}var _n=new Fo,ge=_n.interactStatic,No=typeof globalThis<"u"?globalThis:window;_n.init(No);var Uo=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(n){var o=n[0],l=n[1];return o in t||l in t}),r=function(n,o){for(var l=t.range,u=t.limits,c=u===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:u,h=t.offset,v=h===void 0?{x:0,y:0}:h,d={range:l,grid:t,x:null,y:null},b=0;b<e.length;b++){var T=e[b],_=T[0],E=T[1],C=Math.round((n-v.x)/t[_]),A=Math.round((o-v.y)/t[E]);d[_]=Math.max(c.left,Math.min(c.right,C*t[_]+v.x)),d[E]=Math.max(c.top,Math.min(c.bottom,A*t[E]+v.y))}return d};return r.grid=t,r.coordFields=e,r}}),Go={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=W(e.snappers||{},Uo),e.createSnapGrid=e.snappers.grid}},Yo=Go,Ko={start:function(t){var e=t.state,r=t.rect,n=t.edges,o=t.pageCoords,l=e.options,u=l.ratio,c=l.enabled,h=e.options,v=h.equalDelta,d=h.modifiers;u==="preserve"&&(u=r.width/r.height),e.startCoords=W({},o),e.startRect=W({},r),e.ratio=u,e.equalDelta=v;var b=e.linkedEdges={top:n.top||n.left&&!n.bottom,left:n.left||n.top&&!n.right,bottom:n.bottom||n.right&&!n.top,right:n.right||n.bottom&&!n.left};if(e.xIsPrimaryAxis=!(!n.left&&!n.right),e.equalDelta){var T=(b.left?1:-1)*(b.top?1:-1);e.edgeSign={x:T,y:T}}else e.edgeSign={x:b.left?-1:1,y:b.top?-1:1};if(c!==!1&&W(n,b),d!=null&&d.length){var _=new ur(t.interaction);_.copyFrom(t.interaction.modification),_.prepareStates(d),e.subModification=_,_.startAll(p({},t))}},set:function(t){var e=t.state,r=t.rect,n=t.coords,o=e.linkedEdges,l=W({},n),u=e.equalDelta?Xo:Vo;if(W(t.edges,o),u(e,e.xIsPrimaryAxis,n,r),!e.subModification)return null;var c=W({},r);vt(o,c,{x:n.x-l.x,y:n.y-l.y});var h=e.subModification.setAll(p(p({},t),{},{rect:c,edges:o,pageCoords:n,prevCoords:n,prevRect:c})),v=h.delta;return h.changed&&(u(e,Math.abs(v.x)>Math.abs(v.y),h.coords,h.rect),W(n,h.coords)),h.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Xo(t,e,r){var n=t.startCoords,o=t.edgeSign;e?r.y=n.y+(r.x-n.x)*o.y:r.x=n.x+(r.y-n.y)*o.x}function Vo(t,e,r,n){var o=t.startRect,l=t.startCoords,u=t.ratio,c=t.edgeSign;if(e){var h=n.width/u;r.y=l.y+(h-o.height)*c.y}else{var v=n.height*u;r.x=l.x+(v-o.width)*c.x}}var Zo=Le(Ko,"aspectRatio"),Cn=function(){};Cn._defaults={};var kt=Cn;function Ge(t,e,r){return S.func(t)?ye(t,e.interactable,e.element,[r.x,r.y,e]):ye(t,e.interactable,e.element)}var Pt={start:function(t){var e=t.rect,r=t.startOffset,n=t.state,o=t.interaction,l=t.pageCoords,u=n.options,c=u.elementRect,h=W({left:0,top:0,right:0,bottom:0},u.offset||{});if(e&&c){var v=Ge(u.restriction,o,l);if(v){var d=v.right-v.left-e.width,b=v.bottom-v.top-e.height;d<0&&(h.left+=d,h.right+=d),b<0&&(h.top+=b,h.bottom+=b)}h.left+=r.left-e.width*c.left,h.top+=r.top-e.height*c.top,h.right+=r.right-e.width*(1-c.right),h.bottom+=r.bottom-e.height*(1-c.bottom)}n.offset=h},set:function(t){var e=t.coords,r=t.interaction,n=t.state,o=n.options,l=n.offset,u=Ge(o.restriction,r,e);if(u){var c=function(h){return!h||"left"in h&&"top"in h||((h=W({},h)).left=h.x||0,h.top=h.y||0,h.right=h.right||h.left+h.width,h.bottom=h.bottom||h.top+h.height),h}(u);e.x=Math.max(Math.min(c.right-l.right,e.x),c.left+l.left),e.y=Math.max(Math.min(c.bottom-l.bottom,e.y),c.top+l.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},qo=Le(Pt,"restrict"),Dn={top:1/0,left:1/0,bottom:-1/0,right:-1/0},In={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function jn(t,e){for(var r=0,n=["top","left","bottom","right"];r<n.length;r++){var o=n[r];o in t||(t[o]=e[o])}return t}var pt={noInner:Dn,noOuter:In,start:function(t){var e,r=t.interaction,n=t.startOffset,o=t.state,l=o.options;l&&(e=Me(Ge(l.offset,r,r.coords.start.page))),e=e||{x:0,y:0},o.offset={top:e.y+n.top,left:e.x+n.left,bottom:e.y-n.bottom,right:e.x-n.right}},set:function(t){var e=t.coords,r=t.edges,n=t.interaction,o=t.state,l=o.offset,u=o.options;if(r){var c=W({},e),h=Ge(u.inner,n,c)||{},v=Ge(u.outer,n,c)||{};jn(h,Dn),jn(v,In),r.top?e.y=Math.min(Math.max(v.top+l.top,c.y),h.top+l.top):r.bottom&&(e.y=Math.max(Math.min(v.bottom+l.bottom,c.y),h.bottom+l.bottom)),r.left?e.x=Math.min(Math.max(v.left+l.left,c.x),h.left+l.left):r.right&&(e.x=Math.max(Math.min(v.right+l.right,c.x),h.right+l.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Qo=Le(pt,"restrictEdges"),Bo=W({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},Pt.defaults),Jo=Le({start:Pt.start,set:Pt.set,defaults:Bo},"restrictRect"),es={width:-1/0,height:-1/0},ts={width:1/0,height:1/0},rs=Le({start:function(t){return pt.start(t)},set:function(t){var e=t.interaction,r=t.state,n=t.rect,o=t.edges,l=r.options;if(o){var u=Re(Ge(l.min,e,t.coords))||es,c=Re(Ge(l.max,e,t.coords))||ts;r.options={endOnly:l.endOnly,inner:W({},pt.noInner),outer:W({},pt.noOuter)},o.top?(r.options.inner.top=n.bottom-u.height,r.options.outer.top=n.bottom-c.height):o.bottom&&(r.options.inner.bottom=n.top+u.height,r.options.outer.bottom=n.top+c.height),o.left?(r.options.inner.left=n.right-u.width,r.options.outer.left=n.right-c.width):o.right&&(r.options.inner.right=n.left+u.width,r.options.outer.right=n.left+c.width),pt.set(t),r.options=l}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),mr={start:function(t){var e,r=t.interaction,n=t.interactable,o=t.element,l=t.rect,u=t.state,c=t.startOffset,h=u.options,v=h.offsetWithOrigin?function(T){var _=T.interaction.element,E=Me(ye(T.state.options.origin,null,null,[_])),C=E||nt(T.interactable,_,T.interaction.prepared.name);return C}(t):{x:0,y:0};if(h.offset==="startCoords")e={x:r.coords.start.page.x,y:r.coords.start.page.y};else{var d=ye(h.offset,n,o,[r]);(e=Me(d)||{x:0,y:0}).x+=v.x,e.y+=v.y}var b=h.relativePoints;u.offsets=l&&b&&b.length?b.map(function(T,_){return{index:_,relativePoint:T,x:c.left-l.width*T.x+e.x,y:c.top-l.height*T.y+e.y}}):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,r=t.coords,n=t.state,o=n.options,l=n.offsets,u=nt(e.interactable,e.element,e.prepared.name),c=W({},r),h=[];o.offsetWithOrigin||(c.x-=u.x,c.y-=u.y);for(var v=0,d=l;v<d.length;v++)for(var b=d[v],T=c.x-b.x,_=c.y-b.y,E=0,C=o.targets.length;E<C;E++){var A=o.targets[E],$=void 0;($=S.func(A)?A(T,_,e._proxy,b,E):A)&&h.push({x:(S.number($.x)?$.x:T)+b.x,y:(S.number($.y)?$.y:_)+b.y,range:S.number($.range)?$.range:o.range,source:A,index:E,offset:b})}for(var U={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},q=0;q<h.length;q++){var te=h[q],V=te.range,Q=te.x-c.x,be=te.y-c.y,le=it(Q,be),xe=le<=V;V===1/0&&U.inRange&&U.range!==1/0&&(xe=!1),U.target&&!(xe?U.inRange&&V!==1/0?le/V<U.distance/U.range:V===1/0&&U.range!==1/0||le<U.distance:!U.inRange&&le<U.distance)||(U.target=te,U.distance=le,U.range=V,U.inRange=xe,U.delta.x=Q,U.delta.y=be)}return U.inRange&&(r.x=U.target.x,r.y=U.target.y),n.closest=U,U},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},ns=Le(mr,"snap"),Et={start:function(t){var e=t.state,r=t.edges,n=e.options;if(!r)return null;t.state={options:{targets:null,relativePoints:[{x:r.left?0:1,y:r.top?0:1}],offset:n.offset||"self",origin:{x:0,y:0},range:n.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],mr.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,r=t.state,n=t.coords,o=r.options,l=r.offsets,u={x:n.x-l[0].x,y:n.y-l[0].y};r.options=W({},o),r.options.targets=[];for(var c=0,h=o.targets||[];c<h.length;c++){var v=h[c],d=void 0;if(d=S.func(v)?v(u.x,u.y,e):v){for(var b=0,T=r.targetFields;b<T.length;b++){var _=T[b],E=_[0],C=_[1];if(E in d||C in d){d.x=d[E],d.y=d[C];break}}r.options.targets.push(d)}}var A=mr.set(t);return r.options=o,A},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},is=Le(Et,"snapSize"),vr={aspectRatio:Zo,restrictEdges:Qo,restrict:qo,restrictRect:Jo,restrictSize:rs,snapEdges:Le({start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],Et.start(t)):null},set:Et.set,defaults:W(Ve(Et.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:ns,snapSize:is,spring:kt,avoid:kt,transform:kt,rubberband:kt},os={id:"modifiers",install:function(t){var e=t.interactStatic;for(var r in t.usePlugin(vn),t.usePlugin(Yo),e.modifiers=vr,vr){var n=vr[r],o=n._defaults,l=n._methods;o._methods=l,t.defaults.perAction[r]=o}}},ss=os,Rn=function(t){M(r,t);var e=k(r);function r(n,o,l,u,c,h){var v;if(m(this,r),gt(x(v=e.call(this,c)),l),l!==o&&gt(x(v),o),v.timeStamp=h,v.originalEvent=l,v.type=n,v.pointerId=ot(o),v.pointerType=Qr(o),v.target=u,v.currentTarget=null,n==="tap"){var d=c.getPointerIndex(o);v.dt=v.timeStamp-c.pointers[d].downTime;var b=v.timeStamp-c.tapTime;v.double=!!c.prevTap&&c.prevTap.type!=="doubletap"&&c.prevTap.target===v.target&&b<500}else n==="doubletap"&&(v.dt=o.timeStamp-c.tapTime,v.double=!0);return v}return y(r,[{key:"_subtractOrigin",value:function(n){var o=n.x,l=n.y;return this.pageX-=o,this.pageY-=l,this.clientX-=o,this.clientY-=l,this}},{key:"_addOrigin",value:function(n){var o=n.x,l=n.y;return this.pageX+=o,this.pageY+=l,this.clientX+=o,this.clientY+=l,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),r}(xt),ht={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=ht,t.defaults.actions.pointerEvents=ht.defaults,W(t.actions.phaselessTypes,ht.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,r=t.pointerInfo;!e&&r.hold||(r.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var r=t.interaction,n=t.pointer,o=t.event,l=t.eventTarget;t.duplicate||r.pointerIsDown&&!r.pointerWasMoved||(r.pointerIsDown&&gr(t),He({interaction:r,pointer:n,event:o,eventTarget:l,type:"move"},e))},"interactions:down":function(t,e){(function(r,n){for(var o=r.interaction,l=r.pointer,u=r.event,c=r.eventTarget,h=r.pointerIndex,v=o.pointers[h].hold,d=Oe(c),b={interaction:o,pointer:l,event:u,eventTarget:c,type:"hold",targets:[],path:d,node:null},T=0;T<d.length;T++){var _=d[T];b.node=_,n.fire("pointerEvents:collect-targets",b)}if(b.targets.length){for(var E=1/0,C=0,A=b.targets;C<A.length;C++){var $=A[C].eventable.options.holdDuration;$<E&&(E=$)}v.duration=E,v.timeout=setTimeout(function(){He({interaction:o,eventTarget:c,pointer:l,event:u,type:"hold"},n)},E)}})(t,e),He(t,e)},"interactions:up":function(t,e){gr(t),He(t,e),function(r,n){var o=r.interaction,l=r.pointer,u=r.event,c=r.eventTarget;o.pointerWasMoved||He({interaction:o,eventTarget:c,pointer:l,event:u,type:"tap"},n)}(t,e)},"interactions:cancel":function(t,e){gr(t),He(t,e)}},PointerEvent:Rn,fire:He,collectEventTargets:$n,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function He(t,e){var r=t.interaction,n=t.pointer,o=t.event,l=t.eventTarget,u=t.type,c=t.targets,h=c===void 0?$n(t,e):c,v=new Rn(u,n,o,l,r,e.now());e.fire("pointerEvents:new",{pointerEvent:v});for(var d={interaction:r,pointer:n,event:o,eventTarget:l,targets:h,type:u,pointerEvent:v},b=0;b<h.length;b++){var T=h[b];for(var _ in T.props||{})v[_]=T.props[_];var E=nt(T.eventable,T.node);if(v._subtractOrigin(E),v.eventable=T.eventable,v.currentTarget=T.node,T.eventable.fire(v),v._addOrigin(E),v.immediatePropagationStopped||v.propagationStopped&&b+1<h.length&&h[b+1].node!==v.currentTarget)break}if(e.fire("pointerEvents:fired",d),u==="tap"){var C=v.double?He({interaction:r,pointer:n,event:o,eventTarget:l,type:"doubletap"},e):v;r.prevTap=C,r.tapTime=C.timeStamp}return v}function $n(t,e){var r=t.interaction,n=t.pointer,o=t.event,l=t.eventTarget,u=t.type,c=r.getPointerIndex(n),h=r.pointers[c];if(u==="tap"&&(r.pointerWasMoved||!h||h.downTarget!==l))return[];for(var v=Oe(l),d={interaction:r,pointer:n,event:o,eventTarget:l,type:u,path:v,targets:[],node:null},b=0;b<v.length;b++){var T=v[b];d.node=T,e.fire("pointerEvents:collect-targets",d)}return u==="hold"&&(d.targets=d.targets.filter(function(_){var E,C;return _.eventable.options.holdDuration===((E=r.pointers[c])==null||(C=E.hold)==null?void 0:C.duration)})),d.targets}function gr(t){var e=t.interaction,r=t.pointerIndex,n=e.pointers[r].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}var as=Object.freeze({__proto__:null,default:ht});function ls(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var us={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(ht);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(t,e){return t["pointerEvents:".concat(e)]=ls,t},{"pointerEvents:new":function(t){var e=t.pointerEvent;e.type==="hold"&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var r=t.interaction,n=t.pointerEvent,o=t.eventTarget,l=t.targets;if(n.type==="hold"&&l.length){var u=l[0].eventable.options.holdRepeatInterval;u<=0||(r.holdIntervalHandle=setTimeout(function(){e.pointerEvents.fire({interaction:r,eventTarget:o,type:"hold",pointer:n,event:n},e)},u))}}})},cs=us,ps={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=function(n){return W(this.events.options,n),this};var r=e.prototype._backCompatOption;e.prototype._backCompatOption=function(n,o){var l=r.call(this,n,o);return l===this&&(this.events.options[n]=o),l}},listeners:{"pointerEvents:collect-targets":function(t,e){var r=t.targets,n=t.node,o=t.type,l=t.eventTarget;e.interactables.forEachMatch(n,function(u){var c=u.events,h=c.options;c.types[o]&&c.types[o].length&&u.testIgnoreAllow(h,n,l)&&r.push({node:n,eventable:c,props:{interactable:u}})})},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(r){return e.getRect(r)}},"interactable:set":function(t,e){var r=t.interactable,n=t.options;W(r.events.options,e.pointerEvents.defaults),W(r.events.options,n.pointerEvents||{})}}},hs=ps,ds={id:"pointer-events",install:function(t){t.usePlugin(as),t.usePlugin(cs),t.usePlugin(hs)}},fs=ds,ms={id:"reflow",install:function(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(r){return function(n,o,l){for(var u=n.getAllElements(),c=l.window.Promise,h=c?[]:null,v=function(){var b=u[d],T=n.getRect(b);if(!T)return 1;var _,E=at(l.interactions.list,function($){return $.interacting()&&$.interactable===n&&$.element===b&&$.prepared.name===o.name});if(E)E.move(),h&&(_=E._reflowPromise||new c(function($){E._reflowResolve=$}));else{var C=Re(T),A=function($){return{coords:$,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:C.x,y:C.y},client:{x:C.x,y:C.y},timeStamp:l.now()});_=function($,U,q,te,V){var Q=$.interactions.new({pointerType:"reflow"}),be={interaction:Q,event:V,pointer:V,eventTarget:q,phase:"reflow"};Q.interactable=U,Q.element=q,Q.prevEvent=V,Q.updatePointer(V,V,q,!0),Xr(Q.coords.delta),or(Q.prepared,te),Q._doPhase(be);var le=$.window,xe=le.Promise,Se=xe?new xe(function(Ce){Q._reflowResolve=Ce}):void 0;return Q._reflowPromise=Se,Q.start(te,U,q),Q._interacting?(Q.move(be),Q.end(V)):(Q.stop(),Q._reflowResolve()),Q.removePointer(V,V),Se}(l,n,b,o,A)}h&&h.push(_)},d=0;d<u.length&&!v();d++);return h&&c.all(h).then(function(){return n})}(this,r,t)}},listeners:{"interactions:stop":function(t,e){var r=t.interaction;r.pointerType==="reflow"&&(r._reflowResolve&&r._reflowResolve(),function(n,o){n.splice(n.indexOf(o),1)}(e.interactions.list,r))}}},vs=ms;if(ge.use(mn),ge.use(Tn),ge.use(fs),ge.use(Io),ge.use(ss),ge.use(To),ge.use(uo),ge.use(po),ge.use(vs),ge.default=ge,f(s)==="object"&&s)try{s.exports=ge}catch{}return ge.default=ge,ge})})($t,$t.exports);var gs=$t.exports;const br=qe(gs);var yi={exports:{}};(function(s,i){(function(a,p){s.exports=p()})(We,function(){var a=1e3,p=6e4,f=36e5,m="millisecond",g="second",y="minute",w="hour",M="day",R="week",z="month",x="quarter",k="year",P="date",O="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,G=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,K={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var j=["th","st","nd","rd"],D=F%100;return"["+F+(j[(D-20)%10]||j[D]||j[0])+"]"}},J=function(F,j,D){var N=String(F);return!N||N.length>=j?F:""+Array(j+1-N.length).join(D)+F},re={s:J,z:function(F){var j=-F.utcOffset(),D=Math.abs(j),N=Math.floor(D/60),L=D%60;return(j<=0?"+":"-")+J(N,2,"0")+":"+J(L,2,"0")},m:function F(j,D){if(j.date()<D.date())return-F(D,j);var N=12*(D.year()-j.year())+(D.month()-j.month()),L=j.clone().add(N,z),Y=D-L<0,X=j.clone().add(N+(Y?-1:1),z);return+(-(N+(D-L)/(Y?L-X:X-L))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:z,y:k,w:R,d:M,D:P,h:w,m:y,s:g,ms:m,Q:x}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},ee="en",he={};he[ee]=K;var S="$isDayjsObject",Pe=function(F){return F instanceof fe||!(!F||!F[S])},Te=function F(j,D,N){var L;if(!j)return ee;if(typeof j=="string"){var Y=j.toLowerCase();he[Y]&&(L=Y),D&&(he[Y]=D,L=Y);var X=j.split("-");if(!L&&X.length>1)return F(X[0])}else{var ie=j.name;he[ie]=j,L=ie}return!N&&L&&(ee=L),L||!N&&ee},ue=function(F,j){if(Pe(F))return F.clone();var D=typeof j=="object"?j:{};return D.date=F,D.args=arguments,new fe(D)},ne=re;ne.l=Te,ne.i=Pe,ne.w=function(F,j){return ue(F,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var fe=function(){function F(D){this.$L=Te(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[S]=!0}var j=F.prototype;return j.parse=function(D){this.$d=function(N){var L=N.date,Y=N.utc;if(L===null)return new Date(NaN);if(ne.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var X=L.match(I);if(X){var ie=X[2]-1||0,ae=(X[7]||"0").substring(0,3);return Y?new Date(Date.UTC(X[1],ie,X[3]||1,X[4]||0,X[5]||0,X[6]||0,ae)):new Date(X[1],ie,X[3]||1,X[4]||0,X[5]||0,X[6]||0,ae)}}return new Date(L)}(D),this.init()},j.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},j.$utils=function(){return ne},j.isValid=function(){return this.$d.toString()!==O},j.isSame=function(D,N){var L=ue(D);return this.startOf(N)<=L&&L<=this.endOf(N)},j.isAfter=function(D,N){return ue(D)<this.startOf(N)},j.isBefore=function(D,N){return this.endOf(N)<ue(D)},j.$g=function(D,N,L){return ne.u(D)?this[N]:this.set(L,D)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(D,N){var L=this,Y=!!ne.u(N)||N,X=ne.p(D),ie=function(W,me){var ye=ne.w(L.$u?Date.UTC(L.$y,me,W):new Date(L.$y,me,W),L);return Y?ye:ye.endOf(M)},ae=function(W,me){return ne.w(L.toDate()[W].apply(L.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(me)),L)},ce=this.$W,de=this.$M,ve=this.$D,we="set"+(this.$u?"UTC":"");switch(X){case k:return Y?ie(1,0):ie(31,11);case z:return Y?ie(1,de):ie(0,de+1);case R:var Oe=this.$locale().weekStart||0,je=(ce<Oe?ce+7:ce)-Oe;return ie(Y?ve-je:ve+(6-je),de);case M:case P:return ae(we+"Hours",0);case w:return ae(we+"Minutes",1);case y:return ae(we+"Seconds",2);case g:return ae(we+"Milliseconds",3);default:return this.clone()}},j.endOf=function(D){return this.startOf(D,!1)},j.$set=function(D,N){var L,Y=ne.p(D),X="set"+(this.$u?"UTC":""),ie=(L={},L[M]=X+"Date",L[P]=X+"Date",L[z]=X+"Month",L[k]=X+"FullYear",L[w]=X+"Hours",L[y]=X+"Minutes",L[g]=X+"Seconds",L[m]=X+"Milliseconds",L)[Y],ae=Y===M?this.$D+(N-this.$W):N;if(Y===z||Y===k){var ce=this.clone().set(P,1);ce.$d[ie](ae),ce.init(),this.$d=ce.set(P,Math.min(this.$D,ce.daysInMonth())).$d}else ie&&this.$d[ie](ae);return this.init(),this},j.set=function(D,N){return this.clone().$set(D,N)},j.get=function(D){return this[ne.p(D)]()},j.add=function(D,N){var L,Y=this;D=Number(D);var X=ne.p(N),ie=function(de){var ve=ue(Y);return ne.w(ve.date(ve.date()+Math.round(de*D)),Y)};if(X===z)return this.set(z,this.$M+D);if(X===k)return this.set(k,this.$y+D);if(X===M)return ie(1);if(X===R)return ie(7);var ae=(L={},L[y]=p,L[w]=f,L[g]=a,L)[X]||1,ce=this.$d.getTime()+D*ae;return ne.w(ce,this)},j.subtract=function(D,N){return this.add(-1*D,N)},j.format=function(D){var N=this,L=this.$locale();if(!this.isValid())return L.invalidDate||O;var Y=D||"YYYY-MM-DDTHH:mm:ssZ",X=ne.z(this),ie=this.$H,ae=this.$m,ce=this.$M,de=L.weekdays,ve=L.months,we=L.meridiem,Oe=function(me,ye,Me,Re){return me&&(me[ye]||me(N,Y))||Me[ye].slice(0,Re)},je=function(me){return ne.s(ie%12||12,me,"0")},W=we||function(me,ye,Me){var Re=me<12?"AM":"PM";return Me?Re.toLowerCase():Re};return Y.replace(G,function(me,ye){return ye||function(Me){switch(Me){case"YY":return String(N.$y).slice(-2);case"YYYY":return ne.s(N.$y,4,"0");case"M":return ce+1;case"MM":return ne.s(ce+1,2,"0");case"MMM":return Oe(L.monthsShort,ce,ve,3);case"MMMM":return Oe(ve,ce);case"D":return N.$D;case"DD":return ne.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return Oe(L.weekdaysMin,N.$W,de,2);case"ddd":return Oe(L.weekdaysShort,N.$W,de,3);case"dddd":return de[N.$W];case"H":return String(ie);case"HH":return ne.s(ie,2,"0");case"h":return je(1);case"hh":return je(2);case"a":return W(ie,ae,!0);case"A":return W(ie,ae,!1);case"m":return String(ae);case"mm":return ne.s(ae,2,"0");case"s":return String(N.$s);case"ss":return ne.s(N.$s,2,"0");case"SSS":return ne.s(N.$ms,3,"0");case"Z":return X}return null}(me)||X.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(D,N,L){var Y,X=this,ie=ne.p(N),ae=ue(D),ce=(ae.utcOffset()-this.utcOffset())*p,de=this-ae,ve=function(){return ne.m(X,ae)};switch(ie){case k:Y=ve()/12;break;case z:Y=ve();break;case x:Y=ve()/3;break;case R:Y=(de-ce)/6048e5;break;case M:Y=(de-ce)/864e5;break;case w:Y=de/f;break;case y:Y=de/p;break;case g:Y=de/a;break;default:Y=de}return L?Y:ne.a(Y)},j.daysInMonth=function(){return this.endOf(z).$D},j.$locale=function(){return he[this.$L]},j.locale=function(D,N){if(!D)return this.$L;var L=this.clone(),Y=Te(D,N,!0);return Y&&(L.$L=Y),L},j.clone=function(){return ne.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},F}(),Ee=fe.prototype;return ue.prototype=Ee,[["$ms",m],["$s",g],["$m",y],["$H",w],["$W",M],["$M",z],["$y",k],["$D",P]].forEach(function(F){Ee[F[1]]=function(j){return this.$g(j,F[0],F[1])}}),ue.extend=function(F,j){return F.$i||(F(j,fe,ue),F.$i=!0),ue},ue.locale=Te,ue.isDayjs=Pe,ue.unix=function(F){return ue(1e3*F)},ue.en=he[ee],ue.Ls=he,ue.p={},ue})})(yi);var bs=yi.exports;const ke=qe(bs);var xi={exports:{}};(function(s,i){(function(a,p){s.exports=p()})(We,function(){var a="minute",p=/[+-]\d\d(?::?\d\d)?/g,f=/([+-]|\d\d)/g;return function(m,g,y){var w=g.prototype;y.utc=function(O){var I={date:O,utc:!0,args:arguments};return new g(I)},w.utc=function(O){var I=y(this.toDate(),{locale:this.$L,utc:!0});return O?I.add(this.utcOffset(),a):I},w.local=function(){return y(this.toDate(),{locale:this.$L,utc:!1})};var M=w.parse;w.parse=function(O){O.utc&&(this.$u=!0),this.$utils().u(O.$offset)||(this.$offset=O.$offset),M.call(this,O)};var R=w.init;w.init=function(){if(this.$u){var O=this.$d;this.$y=O.getUTCFullYear(),this.$M=O.getUTCMonth(),this.$D=O.getUTCDate(),this.$W=O.getUTCDay(),this.$H=O.getUTCHours(),this.$m=O.getUTCMinutes(),this.$s=O.getUTCSeconds(),this.$ms=O.getUTCMilliseconds()}else R.call(this)};var z=w.utcOffset;w.utcOffset=function(O,I){var G=this.$utils().u;if(G(O))return this.$u?0:G(this.$offset)?z.call(this):this.$offset;if(typeof O=="string"&&(O=function(ee){ee===void 0&&(ee="");var he=ee.match(p);if(!he)return null;var S=(""+he[0]).match(f)||["-",0,0],Pe=S[0],Te=60*+S[1]+ +S[2];return Te===0?0:Pe==="+"?Te:-Te}(O),O===null))return this;var K=Math.abs(O)<=16?60*O:O,J=this;if(I)return J.$offset=K,J.$u=O===0,J;if(O!==0){var re=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(J=this.local().add(K+re,a)).$offset=K,J.$x.$localOffset=re}else J=this.utc();return J};var x=w.format;w.format=function(O){var I=O||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return x.call(this,I)},w.valueOf=function(){var O=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*O},w.isUTC=function(){return!!this.$u},w.toISOString=function(){return this.toDate().toISOString()},w.toString=function(){return this.toDate().toUTCString()};var k=w.toDate;w.toDate=function(O){return O==="s"&&this.$offset?y(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():k.call(this)};var P=w.diff;w.diff=function(O,I,G){if(O&&this.$u===O.$u)return P.call(this,O,I,G);var K=this.local(),J=y(O).local();return P.call(K,J,I,G)}}})})(xi);var ys=xi.exports;const xs=qe(ys);function Ts(){this.__data__=[],this.size=0}var Ss=Ts;function ws(s,i){return s===i||s!==s&&i!==i}var Ti=ws,Os=Ti;function Ms(s,i){for(var a=s.length;a--;)if(Os(s[a][0],i))return a;return-1}var Nt=Ms,ks=Nt,Ps=Array.prototype,Es=Ps.splice;function zs(s){var i=this.__data__,a=ks(i,s);if(a<0)return!1;var p=i.length-1;return a==p?i.pop():Es.call(i,a,1),--this.size,!0}var _s=zs,Cs=Nt;function Ds(s){var i=this.__data__,a=Cs(i,s);return a<0?void 0:i[a][1]}var Is=Ds,js=Nt;function Rs(s){return js(this.__data__,s)>-1}var $s=Rs,Ls=Nt;function As(s,i){var a=this.__data__,p=Ls(a,s);return p<0?(++this.size,a.push([s,i])):a[p][1]=i,this}var Hs=As,Ws=Ss,Fs=_s,Ns=Is,Us=$s,Gs=Hs;function Qe(s){var i=-1,a=s==null?0:s.length;for(this.clear();++i<a;){var p=s[i];this.set(p[0],p[1])}}Qe.prototype.clear=Ws;Qe.prototype.delete=Fs;Qe.prototype.get=Ns;Qe.prototype.has=Us;Qe.prototype.set=Gs;var Ut=Qe,Ys=Ut;function Ks(){this.__data__=new Ys,this.size=0}var Xs=Ks;function Vs(s){var i=this.__data__,a=i.delete(s);return this.size=i.size,a}var Zs=Vs;function qs(s){return this.__data__.get(s)}var Qs=qs;function Bs(s){return this.__data__.has(s)}var Js=Bs,ea=typeof We=="object"&&We&&We.Object===Object&&We,Si=ea,ta=Si,ra=typeof self=="object"&&self&&self.Object===Object&&self,na=ta||ra||Function("return this")(),Ie=na,ia=Ie,oa=ia.Symbol,Dr=oa,An=Dr,wi=Object.prototype,sa=wi.hasOwnProperty,aa=wi.toString,ft=An?An.toStringTag:void 0;function la(s){var i=sa.call(s,ft),a=s[ft];try{s[ft]=void 0;var p=!0}catch{}var f=aa.call(s);return p&&(i?s[ft]=a:delete s[ft]),f}var ua=la,ca=Object.prototype,pa=ca.toString;function ha(s){return pa.call(s)}var da=ha,Hn=Dr,fa=ua,ma=da,va="[object Null]",ga="[object Undefined]",Wn=Hn?Hn.toStringTag:void 0;function ba(s){return s==null?s===void 0?ga:va:Wn&&Wn in Object(s)?fa(s):ma(s)}var Gt=ba;function ya(s){var i=typeof s;return s!=null&&(i=="object"||i=="function")}var Oi=ya,xa=Gt,Ta=Oi,Sa="[object AsyncFunction]",wa="[object Function]",Oa="[object GeneratorFunction]",Ma="[object Proxy]";function ka(s){if(!Ta(s))return!1;var i=xa(s);return i==wa||i==Oa||i==Sa||i==Ma}var Mi=ka,Pa=Ie,Ea=Pa["__core-js_shared__"],za=Ea,yr=za,Fn=function(){var s=/[^.]+$/.exec(yr&&yr.keys&&yr.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function _a(s){return!!Fn&&Fn in s}var Ca=_a,Da=Function.prototype,Ia=Da.toString;function ja(s){if(s!=null){try{return Ia.call(s)}catch{}try{return s+""}catch{}}return""}var ki=ja,Ra=Mi,$a=Ca,La=Oi,Aa=ki,Ha=/[\\^$.*+?()[\]{}|]/g,Wa=/^\[object .+?Constructor\]$/,Fa=Function.prototype,Na=Object.prototype,Ua=Fa.toString,Ga=Na.hasOwnProperty,Ya=RegExp("^"+Ua.call(Ga).replace(Ha,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ka(s){if(!La(s)||$a(s))return!1;var i=Ra(s)?Ya:Wa;return i.test(Aa(s))}var Xa=Ka;function Va(s,i){return s==null?void 0:s[i]}var Za=Va,qa=Xa,Qa=Za;function Ba(s,i){var a=Qa(s,i);return qa(a)?a:void 0}var Be=Ba,Ja=Be,el=Ie,tl=Ja(el,"Map"),Ir=tl,rl=Be,nl=rl(Object,"create"),Yt=nl,Nn=Yt;function il(){this.__data__=Nn?Nn(null):{},this.size=0}var ol=il;function sl(s){var i=this.has(s)&&delete this.__data__[s];return this.size-=i?1:0,i}var al=sl,ll=Yt,ul="__lodash_hash_undefined__",cl=Object.prototype,pl=cl.hasOwnProperty;function hl(s){var i=this.__data__;if(ll){var a=i[s];return a===ul?void 0:a}return pl.call(i,s)?i[s]:void 0}var dl=hl,fl=Yt,ml=Object.prototype,vl=ml.hasOwnProperty;function gl(s){var i=this.__data__;return fl?i[s]!==void 0:vl.call(i,s)}var bl=gl,yl=Yt,xl="__lodash_hash_undefined__";function Tl(s,i){var a=this.__data__;return this.size+=this.has(s)?0:1,a[s]=yl&&i===void 0?xl:i,this}var Sl=Tl,wl=ol,Ol=al,Ml=dl,kl=bl,Pl=Sl;function Je(s){var i=-1,a=s==null?0:s.length;for(this.clear();++i<a;){var p=s[i];this.set(p[0],p[1])}}Je.prototype.clear=wl;Je.prototype.delete=Ol;Je.prototype.get=Ml;Je.prototype.has=kl;Je.prototype.set=Pl;var El=Je,Un=El,zl=Ut,_l=Ir;function Cl(){this.size=0,this.__data__={hash:new Un,map:new(_l||zl),string:new Un}}var Dl=Cl;function Il(s){var i=typeof s;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?s!=="__proto__":s===null}var jl=Il,Rl=jl;function $l(s,i){var a=s.__data__;return Rl(i)?a[typeof i=="string"?"string":"hash"]:a.map}var Kt=$l,Ll=Kt;function Al(s){var i=Ll(this,s).delete(s);return this.size-=i?1:0,i}var Hl=Al,Wl=Kt;function Fl(s){return Wl(this,s).get(s)}var Nl=Fl,Ul=Kt;function Gl(s){return Ul(this,s).has(s)}var Yl=Gl,Kl=Kt;function Xl(s,i){var a=Kl(this,s),p=a.size;return a.set(s,i),this.size+=a.size==p?0:1,this}var Vl=Xl,Zl=Dl,ql=Hl,Ql=Nl,Bl=Yl,Jl=Vl;function et(s){var i=-1,a=s==null?0:s.length;for(this.clear();++i<a;){var p=s[i];this.set(p[0],p[1])}}et.prototype.clear=Zl;et.prototype.delete=ql;et.prototype.get=Ql;et.prototype.has=Bl;et.prototype.set=Jl;var Pi=et,eu=Ut,tu=Ir,ru=Pi,nu=200;function iu(s,i){var a=this.__data__;if(a instanceof eu){var p=a.__data__;if(!tu||p.length<nu-1)return p.push([s,i]),this.size=++a.size,this;a=this.__data__=new ru(p)}return a.set(s,i),this.size=a.size,this}var ou=iu,su=Ut,au=Xs,lu=Zs,uu=Qs,cu=Js,pu=ou;function tt(s){var i=this.__data__=new su(s);this.size=i.size}tt.prototype.clear=au;tt.prototype.delete=lu;tt.prototype.get=uu;tt.prototype.has=cu;tt.prototype.set=pu;var hu=tt,du="__lodash_hash_undefined__";function fu(s){return this.__data__.set(s,du),this}var mu=fu;function vu(s){return this.__data__.has(s)}var gu=vu,bu=Pi,yu=mu,xu=gu;function Lt(s){var i=-1,a=s==null?0:s.length;for(this.__data__=new bu;++i<a;)this.add(s[i])}Lt.prototype.add=Lt.prototype.push=yu;Lt.prototype.has=xu;var Tu=Lt;function Su(s,i){for(var a=-1,p=s==null?0:s.length;++a<p;)if(i(s[a],a,s))return!0;return!1}var wu=Su;function Ou(s,i){return s.has(i)}var Mu=Ou,ku=Tu,Pu=wu,Eu=Mu,zu=1,_u=2;function Cu(s,i,a,p,f,m){var g=a&zu,y=s.length,w=i.length;if(y!=w&&!(g&&w>y))return!1;var M=m.get(s),R=m.get(i);if(M&&R)return M==i&&R==s;var z=-1,x=!0,k=a&_u?new ku:void 0;for(m.set(s,i),m.set(i,s);++z<y;){var P=s[z],O=i[z];if(p)var I=g?p(O,P,z,i,s,m):p(P,O,z,s,i,m);if(I!==void 0){if(I)continue;x=!1;break}if(k){if(!Pu(i,function(G,K){if(!Eu(k,K)&&(P===G||f(P,G,a,p,m)))return k.push(K)})){x=!1;break}}else if(!(P===O||f(P,O,a,p,m))){x=!1;break}}return m.delete(s),m.delete(i),x}var Ei=Cu,Du=Ie,Iu=Du.Uint8Array,ju=Iu;function Ru(s){var i=-1,a=Array(s.size);return s.forEach(function(p,f){a[++i]=[f,p]}),a}var $u=Ru;function Lu(s){var i=-1,a=Array(s.size);return s.forEach(function(p){a[++i]=p}),a}var Au=Lu,Gn=Dr,Yn=ju,Hu=Ti,Wu=Ei,Fu=$u,Nu=Au,Uu=1,Gu=2,Yu="[object Boolean]",Ku="[object Date]",Xu="[object Error]",Vu="[object Map]",Zu="[object Number]",qu="[object RegExp]",Qu="[object Set]",Bu="[object String]",Ju="[object Symbol]",ec="[object ArrayBuffer]",tc="[object DataView]",Kn=Gn?Gn.prototype:void 0,xr=Kn?Kn.valueOf:void 0;function rc(s,i,a,p,f,m,g){switch(a){case tc:if(s.byteLength!=i.byteLength||s.byteOffset!=i.byteOffset)return!1;s=s.buffer,i=i.buffer;case ec:return!(s.byteLength!=i.byteLength||!m(new Yn(s),new Yn(i)));case Yu:case Ku:case Zu:return Hu(+s,+i);case Xu:return s.name==i.name&&s.message==i.message;case qu:case Bu:return s==i+"";case Vu:var y=Fu;case Qu:var w=p&Uu;if(y||(y=Nu),s.size!=i.size&&!w)return!1;var M=g.get(s);if(M)return M==i;p|=Gu,g.set(s,i);var R=Wu(y(s),y(i),p,f,m,g);return g.delete(s),R;case Ju:if(xr)return xr.call(s)==xr.call(i)}return!1}var nc=rc;function ic(s,i){for(var a=-1,p=i.length,f=s.length;++a<p;)s[f+a]=i[a];return s}var oc=ic,sc=Array.isArray,jr=sc,ac=oc,lc=jr;function uc(s,i,a){var p=i(s);return lc(s)?p:ac(p,a(s))}var cc=uc;function pc(s,i){for(var a=-1,p=s==null?0:s.length,f=0,m=[];++a<p;){var g=s[a];i(g,a,s)&&(m[f++]=g)}return m}var hc=pc;function dc(){return[]}var fc=dc,mc=hc,vc=fc,gc=Object.prototype,bc=gc.propertyIsEnumerable,Xn=Object.getOwnPropertySymbols,yc=Xn?function(s){return s==null?[]:(s=Object(s),mc(Xn(s),function(i){return bc.call(s,i)}))}:vc,xc=yc;function Tc(s,i){for(var a=-1,p=Array(s);++a<s;)p[a]=i(a);return p}var Sc=Tc;function wc(s){return s!=null&&typeof s=="object"}var Xt=wc,Oc=Gt,Mc=Xt,kc="[object Arguments]";function Pc(s){return Mc(s)&&Oc(s)==kc}var Ec=Pc,Vn=Ec,zc=Xt,zi=Object.prototype,_c=zi.hasOwnProperty,Cc=zi.propertyIsEnumerable,Dc=Vn(function(){return arguments}())?Vn:function(s){return zc(s)&&_c.call(s,"callee")&&!Cc.call(s,"callee")},Ic=Dc,At={exports:{}};function jc(){return!1}var Rc=jc;At.exports;(function(s,i){var a=Ie,p=Rc,f=i&&!i.nodeType&&i,m=f&&!0&&s&&!s.nodeType&&s,g=m&&m.exports===f,y=g?a.Buffer:void 0,w=y?y.isBuffer:void 0,M=w||p;s.exports=M})(At,At.exports);var _i=At.exports,$c=9007199254740991,Lc=/^(?:0|[1-9]\d*)$/;function Ac(s,i){var a=typeof s;return i=i??$c,!!i&&(a=="number"||a!="symbol"&&Lc.test(s))&&s>-1&&s%1==0&&s<i}var Hc=Ac,Wc=9007199254740991;function Fc(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Wc}var Ci=Fc,Nc=Gt,Uc=Ci,Gc=Xt,Yc="[object Arguments]",Kc="[object Array]",Xc="[object Boolean]",Vc="[object Date]",Zc="[object Error]",qc="[object Function]",Qc="[object Map]",Bc="[object Number]",Jc="[object Object]",ep="[object RegExp]",tp="[object Set]",rp="[object String]",np="[object WeakMap]",ip="[object ArrayBuffer]",op="[object DataView]",sp="[object Float32Array]",ap="[object Float64Array]",lp="[object Int8Array]",up="[object Int16Array]",cp="[object Int32Array]",pp="[object Uint8Array]",hp="[object Uint8ClampedArray]",dp="[object Uint16Array]",fp="[object Uint32Array]",oe={};oe[sp]=oe[ap]=oe[lp]=oe[up]=oe[cp]=oe[pp]=oe[hp]=oe[dp]=oe[fp]=!0;oe[Yc]=oe[Kc]=oe[ip]=oe[Xc]=oe[op]=oe[Vc]=oe[Zc]=oe[qc]=oe[Qc]=oe[Bc]=oe[Jc]=oe[ep]=oe[tp]=oe[rp]=oe[np]=!1;function mp(s){return Gc(s)&&Uc(s.length)&&!!oe[Nc(s)]}var vp=mp;function gp(s){return function(i){return s(i)}}var bp=gp,Ht={exports:{}};Ht.exports;(function(s,i){var a=Si,p=i&&!i.nodeType&&i,f=p&&!0&&s&&!s.nodeType&&s,m=f&&f.exports===p,g=m&&a.process,y=function(){try{var w=f&&f.require&&f.require("util").types;return w||g&&g.binding&&g.binding("util")}catch{}}();s.exports=y})(Ht,Ht.exports);var yp=Ht.exports,xp=vp,Tp=bp,Zn=yp,qn=Zn&&Zn.isTypedArray,Sp=qn?Tp(qn):xp,Di=Sp,wp=Sc,Op=Ic,Mp=jr,kp=_i,Pp=Hc,Ep=Di,zp=Object.prototype,_p=zp.hasOwnProperty;function Cp(s,i){var a=Mp(s),p=!a&&Op(s),f=!a&&!p&&kp(s),m=!a&&!p&&!f&&Ep(s),g=a||p||f||m,y=g?wp(s.length,String):[],w=y.length;for(var M in s)(i||_p.call(s,M))&&!(g&&(M=="length"||f&&(M=="offset"||M=="parent")||m&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||Pp(M,w)))&&y.push(M);return y}var Dp=Cp,Ip=Object.prototype;function jp(s){var i=s&&s.constructor,a=typeof i=="function"&&i.prototype||Ip;return s===a}var Rp=jp;function $p(s,i){return function(a){return s(i(a))}}var Lp=$p,Ap=Lp,Hp=Ap(Object.keys,Object),Wp=Hp,Fp=Rp,Np=Wp,Up=Object.prototype,Gp=Up.hasOwnProperty;function Yp(s){if(!Fp(s))return Np(s);var i=[];for(var a in Object(s))Gp.call(s,a)&&a!="constructor"&&i.push(a);return i}var Kp=Yp,Xp=Mi,Vp=Ci;function Zp(s){return s!=null&&Vp(s.length)&&!Xp(s)}var qp=Zp,Qp=Dp,Bp=Kp,Jp=qp;function eh(s){return Jp(s)?Qp(s):Bp(s)}var th=eh,rh=cc,nh=xc,ih=th;function oh(s){return rh(s,ih,nh)}var sh=oh,Qn=sh,ah=1,lh=Object.prototype,uh=lh.hasOwnProperty;function ch(s,i,a,p,f,m){var g=a&ah,y=Qn(s),w=y.length,M=Qn(i),R=M.length;if(w!=R&&!g)return!1;for(var z=w;z--;){var x=y[z];if(!(g?x in i:uh.call(i,x)))return!1}var k=m.get(s),P=m.get(i);if(k&&P)return k==i&&P==s;var O=!0;m.set(s,i),m.set(i,s);for(var I=g;++z<w;){x=y[z];var G=s[x],K=i[x];if(p)var J=g?p(K,G,x,i,s,m):p(G,K,x,s,i,m);if(!(J===void 0?G===K||f(G,K,a,p,m):J)){O=!1;break}I||(I=x=="constructor")}if(O&&!I){var re=s.constructor,ee=i.constructor;re!=ee&&"constructor"in s&&"constructor"in i&&!(typeof re=="function"&&re instanceof re&&typeof ee=="function"&&ee instanceof ee)&&(O=!1)}return m.delete(s),m.delete(i),O}var ph=ch,hh=Be,dh=Ie,fh=hh(dh,"DataView"),mh=fh,vh=Be,gh=Ie,bh=vh(gh,"Promise"),yh=bh,xh=Be,Th=Ie,Sh=xh(Th,"Set"),wh=Sh,Oh=Be,Mh=Ie,kh=Oh(Mh,"WeakMap"),Ph=kh,Sr=mh,wr=Ir,Or=yh,Mr=wh,kr=Ph,Ii=Gt,rt=ki,Bn="[object Map]",Eh="[object Object]",Jn="[object Promise]",ei="[object Set]",ti="[object WeakMap]",ri="[object DataView]",zh=rt(Sr),_h=rt(wr),Ch=rt(Or),Dh=rt(Mr),Ih=rt(kr),Ye=Ii;(Sr&&Ye(new Sr(new ArrayBuffer(1)))!=ri||wr&&Ye(new wr)!=Bn||Or&&Ye(Or.resolve())!=Jn||Mr&&Ye(new Mr)!=ei||kr&&Ye(new kr)!=ti)&&(Ye=function(s){var i=Ii(s),a=i==Eh?s.constructor:void 0,p=a?rt(a):"";if(p)switch(p){case zh:return ri;case _h:return Bn;case Ch:return Jn;case Dh:return ei;case Ih:return ti}return i});var jh=Ye,Tr=hu,Rh=Ei,$h=nc,Lh=ph,ni=jh,ii=jr,oi=_i,Ah=Di,Hh=1,si="[object Arguments]",ai="[object Array]",_t="[object Object]",Wh=Object.prototype,li=Wh.hasOwnProperty;function Fh(s,i,a,p,f,m){var g=ii(s),y=ii(i),w=g?ai:ni(s),M=y?ai:ni(i);w=w==si?_t:w,M=M==si?_t:M;var R=w==_t,z=M==_t,x=w==M;if(x&&oi(s)){if(!oi(i))return!1;g=!0,R=!1}if(x&&!R)return m||(m=new Tr),g||Ah(s)?Rh(s,i,a,p,f,m):$h(s,i,w,a,p,f,m);if(!(a&Hh)){var k=R&&li.call(s,"__wrapped__"),P=z&&li.call(i,"__wrapped__");if(k||P){var O=k?s.value():s,I=P?i.value():i;return m||(m=new Tr),f(O,I,a,p,m)}}return x?(m||(m=new Tr),Lh(s,i,a,p,f,m)):!1}var Nh=Fh,Uh=Nh,ui=Xt;function ji(s,i,a,p,f){return s===i?!0:s==null||i==null||!ui(s)&&!ui(i)?s!==s&&i!==i:Uh(s,i,a,p,ji,f)}var Gh=ji,Yh=Gh;function Kh(s,i){return Yh(s,i)}var Xh=Kh;const Pr=qe(Xh);function B(s,i){return typeof s.get=="function"?s.get(i):s[i]}function ci(s){return typeof s.count=="function"?s.count():s.length}function mt(s,i){return ci(s)===ci(i)&&s.every((a,p)=>a===B(i,p.toString()))}function Vh(s,i){const a={};return s.forEach(p=>{a[p[i]]=p}),a}function Ct(){}function Ke(...s){return(i,...a)=>{i.preventDefault(),s.forEach(p=>p&&p(i,...a))}}function Ri({item:s,itemContext:i,getItemProps:a,getResizeProps:p}){const{left:f,right:m}=p(),{key:g,ref:y,...w}=a(s.itemProps??{}),{useResizeHandle:M}=i;return pe.createElement("div",{...w,ref:y,key:`${g}-outer`},M?pe.createElement("div",{...f,key:`${g}-lr`}):null,H.jsx("div",{className:"rct-item-content",style:{maxHeight:`${i.dimensions.height}`},children:i.title},`${g}-content`),M?pe.createElement("div",{...m,key:`${g}-rr`}):null)}function Wt(s,i,a){return(i-s)/a}function Ft(s,i,a,p){const f=a/(i-s);return(p-s)*f}function Rr(s,i,a,p){return(i-s)/a*p+s}function $r(s,i,a,p,f){let m=ke(s).startOf(a);if(p[a]&&p[a]>1){const g=m.get(a);m=m.set(a,g-g%p[a])}for(;m.valueOf()<i;){const g=ke(m).add(p[a]||1,a).startOf(a);f(m,g),m=g}}const Er=17;function Dt(s,i,a){const p={second:1e3,minute:60,hour:60,day:24,month:30,year:12};let f="year",m=s;return Object.keys(p).some(g=>{const y=g;m=m/p[y];const w=m/a[y],M=a[y]&&a[y]>1?3*Er:Er,R=i/M;if(w<R)return f=g,!0}),f}const zr={second:"minute",minute:"hour",hour:"day",day:"month",month:"year",year:"year"};function Lr(s){if(!zr[s])throw new Error(`unit ${s} is not acceptable`);return zr[s]}function $i({itemTimeStart:s,itemTimeEnd:i,dragTime:a,isDragging:p,isResizing:f,resizingEdge:m,resizeTime:g}){const y=i-s;return[p&&a?a:f&&m==="left"&&g?g:s,p&&a?a+y:f&&m==="right"&&g?g:i]}function Li({itemTimeStart:s,itemTimeEnd:i,canvasTimeStart:a,canvasTimeEnd:p,canvasWidth:f}){const m=i-s,g=Math.max(s,a),y=Math.min(i,p),w=Ft(a,p,f,g),M=Ft(a,p,f,y)-w;return{left:w,width:Math.max(M,3),collisionLeft:s,collisionWidth:m}}function Ar(s,i){const{groupIdKey:a}=i,p={};for(let f=0;f<s.length;f++)p[B(s[f],a)]={index:f,group:s[f]};return p}function Ai(s,i){var a,p;const f={},m=Object.keys(i);for(let g=0;g<m.length;g++){const y=i[m[g]];f[g]={index:y.index,group:y.group,items:[]}}for(let g=0;g<s.length;g++)if(s[g].dimensions!==void 0&&((a=s[g].dimensions)==null?void 0:a.order)!==void 0){const y=f[((p=s[g].dimensions)==null?void 0:p.order.index)??0];y&&y.items.push(s[g])}return f}function Hr(s,i,a,p){const{itemTimeStartKey:f,itemTimeEndKey:m}=p;return s.filter(g=>{const y=ke(B(g,f)).valueOf()<=a,w=ke(B(g,m)).valueOf()>=i;return y&&w})}const Zh=.001;function Hi(s,i,a=Zh){return s.collisionLeft+a<i.collisionLeft+i.collisionWidth&&s.collisionLeft+s.collisionWidth-a>i.collisionLeft&&s.top-0+a<i.top+i.height&&s.top+s.height+0-a>i.top}function Wi(s,i,a,p,f,m){let g=p;const y=(s-i.dimensions.height)/2;if(i.dimensions.stack&&i.dimensions.top===null){i.dimensions.top=f+y,g=Math.max(g,s);do{var w=null;for(let M=m-1,R=0;M>=R;M--){const z=a[M];if(z.dimensions.top!==null&&z.dimensions.stack&&Hi(i.dimensions,z.dimensions)){w=z;break}}w!=null&&(i.dimensions.top=w.dimensions.top+s,g=Math.max(g,i.dimensions.top+i.dimensions.height+y-f))}while(w)}return{groupHeight:g,verticalMargin:y,itemTop:i.dimensions.top}}function Fi(s,i,a,p){var f,m;const g=(s-(((f=i.dimensions)==null?void 0:f.height)??1))/2;return i.dimensions&&i.dimensions.top===null&&(i.dimensions.top=p+g,a=Math.max(a,s)),{groupHeight:a,verticalMargin:0,itemTop:((m=i.dimensions)==null?void 0:m.top)??0}}function pi(s=[]){return s.reduce((i,a)=>i+a,0)}function Ni(s,i,a,p){const f=[],m=[],g=Ai(s,i);for(const y in g){const w=g[y],{items:M,group:R}=w,z=pi(f),x=R.stackItems!==void 0?R.stackItems:p,{groupHeight:k}=Ui(M,x,a,z);m.push(z),R.height?f.push(R.height):f.push(Math.max(k,a))}return{height:pi(f),groupHeights:f,groupTops:m}}function Ui(s,i,a,p){let f=0,m=0;for(let g=0;g<s.length;g++){const y=i?Wi(a,s[g],s,f,p,g):Fi(a,s[g],f,p);f=y.groupHeight,m=y.verticalMargin}return{groupHeight:f,verticalMargin:m}}function Ze(s,i,a,p,f,m,g,y,w,M,R,z,x,k,P){const O=Hr(s,p,f,m).map(ee=>Yi({item:ee,keys:m,draggingItem:M,resizingItem:R,dragTime:z,resizingEdge:x,resizeTime:k,groups:i,newGroupOrder:P}));if(i.length===0)return{dimensionItems:[],height:0,groupHeights:[],groupTops:[]};const I=Ar(i,m),G=O.map(ee=>Gi({item:ee,keys:m,canvasTimeStart:p,canvasTimeEnd:f,canvasWidth:a,groupOrders:I,lineHeight:g,itemHeightRatio:y})).filter(ee=>!!ee),{height:K,groupHeights:J,groupTops:re}=Ni(G,I,g,w);return{dimensionItems:G,height:K,groupHeights:J,groupTops:re}}function De(s,i){return s*i}function Gi({item:s,keys:i,canvasTimeStart:a,canvasTimeEnd:p,canvasWidth:f,groupOrders:m,lineHeight:g,itemHeightRatio:y}){const w=B(s,i.itemIdKey),M=Li({itemTimeStart:B(s,i.itemTimeStartKey),itemTimeEnd:B(s,i.itemTimeEndKey),canvasTimeStart:a,canvasTimeEnd:p,canvasWidth:f});if(M)return M.top=null,M.order=m[B(s,i.itemGroupKey)],M.stack=!s.isOverlay,M.height=g*y,{id:w,dimensions:M}}function Yi({item:s,keys:i,draggingItem:a,resizingItem:p,dragTime:f,resizingEdge:m,resizeTime:g,groups:y,newGroupOrder:w}){if(!p&&!a)return s;const M=B(s,i.itemIdKey),R=M===a,z=M===p,[x,k]=$i({itemTimeStart:B(s,i.itemTimeStartKey),itemTimeEnd:B(s,i.itemTimeEndKey),isDragging:R,isResizing:z,dragTime:f,resizingEdge:m,resizeTime:g});return{...s,[i.itemTimeStartKey]:x,[i.itemTimeEndKey]:k,[i.itemGroupKey]:R?B(y[w],i.groupIdKey):B(s,i.itemGroupKey)}}function Wr(s,i,a){const p=i-s,f=s-p*(a-1)/2,m=f+p*a;return[f,m]}function _r(s,i,a,p,f,m,g){const y=m.buffer,w=g.canvasTimeStart,M=g.canvasTimeEnd,R=g.visibleTimeEnd-g.visibleTimeStart,z=i-s,x={...g,visibleTimeStart:s,visibleTimeEnd:i},k=R*(y-1)*.25;if(z!==R||s<=w+k||i>=M-k||a){const[P,O]=Wr(s,i,y);x.canvasTimeStart=P,x.canvasTimeEnd=O;const I={...g,...x},G=De(I.width,m.buffer);Object.assign(x,Ze(p,f,G,I.canvasTimeStart,I.canvasTimeEnd,m.keys,m.lineHeight,m.itemHeightRatio,m.stackItems,I.draggingItem,I.resizingItem,I.dragTime,I.resizingEdge,I.resizeTime,I.newGroupOrder))}return x}const hf=Object.freeze(Object.defineProperty({__proto__:null,NEXT_UNITS:zr,calculateDimensions:Li,calculateInteractionNewTimes:$i,calculateScrollCanvas:_r,calculateTimeForXPosition:Rr,calculateXPositionForTime:Ft,collision:Hi,coordinateToTimeRatio:Wt,getCanvasBoundariesFromVisibleTime:Wr,getCanvasWidth:De,getGroupOrders:Ar,getGroupedItems:Ai,getItemDimensions:Gi,getItemWithInteractions:Yi,getMinUnit:Dt,getNextUnit:Lr,getVisibleItems:Hr,groupNoStack:Fi,groupStack:Wi,iterateTimes:$r,minCellWidth:Er,stackAll:Ni,stackGroup:Ui,stackTimelineItems:Ze},Symbol.toStringTag,{value:"Module"})),qh={fontSize:12,color:"white",cursor:"pointer",background:"#2196f3",borderTopWidth:"1px",borderBottomWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderStyle:"solid",borderColor:"#1a6fb3",zIndex:80},Qh={background:"#ffc107",borderTopWidth:"1px",borderLeftWidth:"1px",borderRightWidth:"1px",borderBottomWidth:"1px",borderStyle:"solid",borderColor:"#ff9800",zIndex:82},Bh={willChange:"left, top, width",cursor:"move"},Jh={borderLeftWidth:3},ed={cursor:"w-resize"},td={borderRightWidth:"3px"},rd={cursor:"e-resize"},nd={position:"absolute",width:24,maxWidth:"20%",minWidth:2,height:"100%",top:0,left:0,cursor:"pointer",zIndex:88},id={position:"absolute",width:24,maxWidth:"20%",minWidth:2,height:"100%",top:0,right:0,cursor:"pointer",zIndex:88},od={getTimelineState:()=>(console.warn('"getTimelineState" default func is being used'),{}),getLeftOffsetFromDate:()=>(console.warn('"getLeftOffsetFromDate" default func is being used'),0),getDateFromLeftOffsetPosition:()=>(console.warn('"getDateFromLeftOffsetPosition" default func is being used'),0),showPeriod:()=>{console.warn('"showPeriod" default func is being used')}},Fr=se.createContext(od),{Consumer:sd,Provider:ad}=Fr;class ld extends se.Component{constructor(i){super(i),Object.defineProperty(this,"getTimelineState",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{visibleTimeStart:a,visibleTimeEnd:p,canvasTimeStart:f,canvasTimeEnd:m,canvasWidth:g,timelineUnit:y,timelineWidth:w}=this.props;return{visibleTimeStart:a,visibleTimeEnd:p,canvasTimeStart:f,canvasTimeEnd:m,canvasWidth:g,timelineUnit:y,timelineWidth:w}}}),Object.defineProperty(this,"getLeftOffsetFromDate",{enumerable:!0,configurable:!0,writable:!0,value:a=>{const{canvasTimeStart:p,canvasTimeEnd:f,canvasWidth:m}=this.props;return Ft(p,f,m,a)}}),Object.defineProperty(this,"getDateFromLeftOffsetPosition",{enumerable:!0,configurable:!0,writable:!0,value:a=>{const{canvasTimeStart:p,canvasTimeEnd:f,canvasWidth:m}=this.props;return Rr(p,f,m,a)}}),this.state={timelineContext:{getTimelineState:this.getTimelineState,getLeftOffsetFromDate:this.getLeftOffsetFromDate,getDateFromLeftOffsetPosition:this.getDateFromLeftOffsetPosition,showPeriod:this.props.showPeriod}}}render(){return H.jsx(ad,{value:this.state.timelineContext,children:this.props.children})}}const Vt=sd,ud=()=>pe.useContext(Fr);ke.extend(xs);class Nr extends pe.Component{constructor(i){super(i),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{interactMounted:!1,dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null,resizing:!1,resizeEdge:null,resizeStart:null,resizeTime:null}}),Object.defineProperty(this,"itemId",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"itemTitle",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"itemDivTitle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemTimeStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemTimeEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"itemRef",{enumerable:!0,configurable:!0,writable:!0,value:pe.createRef()}),Object.defineProperty(this,"dragLeft",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dragRight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startedClicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"startedTouching",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"dragInProgress",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"fireInteractEvent",{enumerable:!0,configurable:!0,writable:!0,value:a=>{var p;if(this.itemRef&&this.itemRef.current){const f=new CustomEvent("itemInteraction",{bubbles:!0,detail:{itemInteraction:a}});(p=this.itemRef.current)==null||p.dispatchEvent(f)}}}),Object.defineProperty(this,"onMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:a=>{this.state.interactMounted||(a.preventDefault(),this.startedClicking=!0)}}),Object.defineProperty(this,"onMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:a=>{!this.state.interactMounted&&this.startedClicking&&(this.startedClicking=!1,this.actualClick(a,"click"))}}),Object.defineProperty(this,"onTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:a=>{this.state.interactMounted||(a.preventDefault(),this.startedTouching=!0)}}),Object.defineProperty(this,"onTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:a=>{!this.state.interactMounted&&this.startedTouching&&(this.startedTouching=!1,this.actualClick(a,"touch"))}}),Object.defineProperty(this,"handleDoubleClick",{enumerable:!0,configurable:!0,writable:!0,value:a=>{a.stopPropagation(),this.props.onItemDoubleClick&&this.props.onItemDoubleClick(this.itemId,a)}}),Object.defineProperty(this,"handleContextMenu",{enumerable:!0,configurable:!0,writable:!0,value:a=>{this.props.onContextMenu&&(a.preventDefault(),a.stopPropagation(),this.props.onContextMenu(this.itemId,a))}}),Object.defineProperty(this,"getDragLeftRef",{enumerable:!0,configurable:!0,writable:!0,value:a=>this.dragLeft=a}),Object.defineProperty(this,"getDragRightRef",{enumerable:!0,configurable:!0,writable:!0,value:a=>this.dragRight=a}),Object.defineProperty(this,"getItemProps",{enumerable:!0,configurable:!0,writable:!0,value:(a={})=>{const p="rct-item"+(this.props.item.className?` ${this.props.item.className}`:"");return{key:this.itemId,ref:this.itemRef,title:this.itemDivTitle,className:p+` ${a.className?a.className:""}`,onMouseDown:Ke(this.onMouseDown,a.onMouseDown),onMouseUp:Ke(this.onMouseUp,a.onMouseUp),onTouchStart:Ke(this.onTouchStart,a.onTouchStart),onTouchEnd:Ke(this.onTouchEnd,a.onTouchEnd),onDoubleClick:Ke(this.handleDoubleClick,a.onDoubleClick),onContextMenu:Ke(this.handleContextMenu,a.onContextMenu),style:Object.assign({},this.getItemStyle(a))}}}),Object.defineProperty(this,"getResizeProps",{enumerable:!0,configurable:!0,writable:!0,value:(a={})=>{let p="rct-item-handler rct-item-handler-left rct-item-handler-resize-left";a.leftClassName&&(p+=` ${a.leftClassName}`);let f="rct-item-handler rct-item-handler-right rct-item-handler-resize-right";return a.rightClassName&&(f+=` ${a.rightClassName}`),{left:{ref:this.getDragLeftRef,className:p,style:Object.assign({},nd,a.leftStyle)},right:{ref:this.getDragRightRef,className:f,style:Object.assign({},id,a.rightStyle)}}}}),this.cacheDataFromProps(i)}shouldComponentUpdate(i,a){return!Pr(this.props,i)||!Pr(this.state,a)}cacheDataFromProps(i){this.itemId=B(i.item,i.keys.itemIdKey),this.itemTitle=B(i.item,i.keys.itemTitleKey),this.itemDivTitle=i.keys.itemDivTitleKey?B(i.item,i.keys.itemDivTitleKey):this.itemTitle,this.itemTimeStart=B(i.item,i.keys.itemTimeStartKey),this.itemTimeEnd=B(i.item,i.keys.itemTimeEndKey)}getTimeRatio(){const{canvasTimeStart:i,canvasTimeEnd:a,canvasWidth:p}=this.props;return Wt(i,a,p)}dragTimeSnap(i,a){const{dragSnap:p}=this.props;if(p){const f=a?ke().utcOffset()*60*1e3:0;return Math.round(i/p)*p-f%p}else return i}resizeTimeSnap(i){const{dragSnap:a}=this.props;if(a){const p=this.itemTimeEnd%a;return Math.round((i-p)/a)*a+p}else return i}dragTime(i){const a=ke(this.itemTimeStart);return this.state.dragging?this.dragTimeSnap(this.timeFor(i)+this.state.dragStart.offset,!0):a.valueOf()}timeFor(i){const a=Wt(this.props.canvasTimeStart,this.props.canvasTimeEnd,this.props.canvasWidth),p=Rt(this.props.scrollRef).offsetLeft,f=jt(this.props.scrollRef);return(i.pageX-p+f.scrollLeft)*a+this.props.canvasTimeStart}dragGroupDelta(i){const{groupTops:a,order:p}=this.props;if(this.state.dragging){if(!this.props.canChangeGroup)return 0;let f=0;const m=Rt(this.props.scrollRef).offsetTop,g=jt(this.props.scrollRef);for(const y of Object.keys(a)){const w=a[y];if(i.pageY-m+g.scrollTop>w)f=parseInt(y,10)-p.index;else break}return this.props.order.index+f<0?0-this.props.order.index:f}else return 0}resizeTimeDelta(i,a){const p=this.itemTimeEnd-this.itemTimeStart,f=this.dragTimeSnap((i.pageX-this.state.resizeStart)*this.getTimeRatio());return p+(a==="left"?-f:f)<(this.props.dragSnap||1e3)?a==="left"?p-(this.props.dragSnap||1e3):(this.props.dragSnap||1e3)-p:f}mountInteract(){const i=this.props.useResizeHandle?".rct-item-handler-resize-left":!0,a=this.props.useResizeHandle?".rct-item-handler-resize-right":!0;br(this.itemRef.current).resizable({edges:{left:this.canResizeLeft()&&i,right:this.canResizeRight()&&a,top:!1,bottom:!1},enabled:this.props.selected&&(this.canResizeLeft()||this.canResizeRight())}).draggable({enabled:this.props.selected&&this.canMove()}).styleCursor(!1).on("dragstart",p=>{if(this.props.selected){this.dragInProgress=!0,this.fireInteractEvent(!0);const f=this.timeFor(p);this.setState({dragging:!0,dragStart:{x:p.pageX,y:p.pageY,offset:this.itemTimeStart-f},preDragPosition:{x:p.target.offsetLeft,y:p.target.offsetTop},dragTime:this.itemTimeStart,dragGroupDelta:0})}else return!1}).on("dragmove",p=>{this.state.dragging&&this.setState(f=>{if(!this.dragInProgress)return{...f};let m=this.dragTime(p);const g=this.dragGroupDelta(p);return this.props.moveResizeValidator&&(m=this.props.moveResizeValidator("move",this.props.item,m)),this.props.onDrag&&this.props.onDrag(this.itemId,m,this.props.order.index+g),{dragTime:m,dragGroupDelta:g}})}).on("dragend",p=>{if(this.state.dragging){if(this.props.onDrop){this.dragInProgress=!1,this.fireInteractEvent(!1);let f=this.dragTime(p);this.props.moveResizeValidator&&(f=this.props.moveResizeValidator("move",this.props.item,f)),this.props.onDrop(this.itemId,f,this.props.order.index+this.dragGroupDelta(p))}this.setState({dragging:!1,dragStart:null,preDragPosition:null,dragTime:null,dragGroupDelta:null})}}).on("resizestart",p=>{if(this.props.selected)this.fireInteractEvent(!0),this.setState({resizing:!0,resizeEdge:null,resizeStart:p.pageX,resizeTime:0});else return!1}).on("resizemove",p=>{if(this.state.resizing){let f=this.state.resizeEdge;f||(f=p.deltaRect.left!==0?"left":"right",this.setState({resizeEdge:f}));let m=this.resizeTimeSnap(this.timeFor(p));this.props.moveResizeValidator&&(m=this.props.moveResizeValidator("resize",this.props.item,m,f)),this.props.onResizing&&this.props.onResizing(this.itemId,m,f),this.setState({resizeTime:m})}}).on("resizeend",p=>{if(this.state.resizing){this.fireInteractEvent(!1);const{resizeEdge:f}=this.state;let m=this.resizeTimeSnap(this.timeFor(p));this.props.moveResizeValidator&&(m=this.props.moveResizeValidator("resize",this.props.item,m,f)),this.props.onResized&&this.props.onResized(this.itemId,m,f,this.resizeTimeDelta(p,f)),this.setState({resizing:!1,resizeStart:null,resizeEdge:null,resizeTime:null})}}).on("tap",p=>{this.actualClick(p,p.pointerType==="mouse"?"click":"touch")}),this.setState({interactMounted:!0})}canResizeLeft(i=this.props){var a;return!i.canResizeLeft||i.minResizeWidth===void 0?!1:parseInt((a=i.dimensions.width)==null?void 0:a.toString(),10)>=i.minResizeWidth}canResizeRight(i=this.props){var a;return!i.canResizeRight||i.minResizeWidth===void 0?!1:parseInt((a=i.dimensions.width)==null?void 0:a.toString(),10)>=i.minResizeWidth}canMove(i=this.props){return!!i.canMove}componentDidUpdate(i){this.cacheDataFromProps(this.props);let{interactMounted:a}=this.state;const p=i.selected&&this.canMove(i),f=i.selected&&this.canResizeLeft(i),m=i.selected&&this.canResizeRight(i),g=this.props.selected&&this.canMove(this.props),y=this.props.selected&&this.canResizeLeft(this.props),w=this.props.selected&&this.canResizeRight(this.props);if(this.itemRef&&this.itemRef.current){if(this.props.selected&&!a&&(this.mountInteract(),a=!0),a&&(f!==y||m!==w)){const M=this.props.useResizeHandle?this.dragLeft:!0,R=this.props.useResizeHandle?this.dragRight:!0;br(this.itemRef.current).resizable({enabled:y||w,edges:{top:!1,bottom:!1,left:y&&M,right:w&&R}})}a&&p!==g&&br(this.itemRef.current).draggable({enabled:g})}else a=!1;a!==this.state.interactMounted&&this.setState({interactMounted:a})}actualClick(i,a){this.props.canSelect&&this.props.onSelect&&this.props.onSelect(this.itemId,a,i)}getItemStyle(i){const a=this.props.dimensions,p={position:"absolute",boxSizing:"border-box",left:`${a.left}px`,top:`${a.top}px`,width:`${a.width}px`,height:`${a.height}px`,lineHeight:`${a.height}px`};return Object.assign({},qh,this.props.selected?Qh:{},this.props.selected&&this.canMove(this.props)?Bh:{},this.props.selected&&this.canResizeLeft(this.props)?Jh:{},this.props.selected&&this.canResizeLeft(this.props)&&this.state.dragging?ed:{},this.props.selected&&this.canResizeRight(this.props)?td:{},this.props.selected&&this.canResizeRight(this.props)&&this.state.dragging?rd:{},i.style,p)}render(){if(typeof this.props.order>"u"||this.props.order===null)return null;const i=this.context,a={dimensions:this.props.dimensions,useResizeHandle:!!this.props.useResizeHandle,title:this.itemTitle,canMove:this.canMove(this.props),canResizeLeft:this.canResizeLeft(this.props),canResizeRight:this.canResizeRight(this.props),selected:this.props.selected,dragging:this.state.dragging,dragStart:this.state.dragStart,dragTime:this.state.dragTime,dragGroupDelta:this.state.dragGroupDelta,resizing:this.state.resizing,resizeEdge:this.state.resizeEdge,resizeStart:this.state.resizeStart,resizeTime:this.state.resizeTime};return this.props.itemRenderer?this.props.itemRenderer({item:this.props.item,timelineContext:i,itemContext:a,getItemProps:this.getItemProps,getResizeProps:this.getResizeProps}):Ri({item:this.props.item,itemContext:a,getItemProps:this.getItemProps,getResizeProps:this.getResizeProps})}}Object.defineProperty(Nr,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{selected:!1,itemRenderer:Ri}});Object.defineProperty(Nr,"contextType",{enumerable:!0,configurable:!0,writable:!0,value:Fr});function cd(s,i){const a=B(s,"canResize")!==void 0?B(s,"canResize"):i;return a==="left"||a==="both"}function pd(s,i){const a=B(s,"canResize")!==void 0?B(s,"canResize"):i;return a==="right"||a==="both"||a===!0}class hd extends pe.Component{shouldComponentUpdate(i){return!(mt(i.groups,this.props.groups)&&mt(i.items,this.props.items)&&mt(i.dimensionItems,this.props.dimensionItems)&&i.keys===this.props.keys&&i.canvasTimeStart===this.props.canvasTimeStart&&i.canvasTimeEnd===this.props.canvasTimeEnd&&i.canvasWidth===this.props.canvasWidth&&i.selectedItem===this.props.selectedItem&&i.selected===this.props.selected&&i.dragSnap===this.props.dragSnap&&i.minResizeWidth===this.props.minResizeWidth&&i.canChangeGroup===this.props.canChangeGroup&&i.canMove===this.props.canMove&&i.canResize===this.props.canResize&&i.canSelect===this.props.canSelect)}isSelected(i,a){if(this.props.selected){const p=B(i,a);return this.props.selected.includes(p)}else return this.props.selectedItem===B(i,a)}getVisibleItems(i,a){const{keys:p,items:f}=this.props;return Hr(f,i,a,p)}render(){const{canvasTimeStart:i,canvasTimeEnd:a,dimensionItems:p,keys:f,groups:m}=this.props,{itemIdKey:g,itemGroupKey:y}=f,w=Ar(m,f),M=this.getVisibleItems(i,a),R=Vh(p,"id");return H.jsx("div",{className:"rct-items",children:M.filter(z=>R[B(z,g)]).map(z=>H.jsx(Nr,{itemProps:z.itemProps,item:z,keys:this.props.keys,order:w[B(z,y)],dimensions:R[B(z,g)].dimensions,selected:this.isSelected(z,g),canChangeGroup:B(z,"canChangeGroup")!==void 0?B(z,"canChangeGroup"):this.props.canChangeGroup,canMove:B(z,"canMove")!==void 0?B(z,"canMove"):this.props.canMove,canResizeLeft:cd(z,this.props.canResize),canResizeRight:pd(z,this.props.canResize),canSelect:B(z,"canSelect")!==void 0?B(z,"canSelect"):this.props.canSelect,useResizeHandle:this.props.useResizeHandle,groupTops:this.props.groupTops,canvasTimeStart:this.props.canvasTimeStart,canvasTimeEnd:this.props.canvasTimeEnd,canvasWidth:this.props.canvasWidth,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,onResizing:this.props.itemResizing,onResized:this.props.itemResized,moveResizeValidator:this.props.moveResizeValidator,onDrag:this.props.itemDrag,onDrop:this.props.itemDrop,onItemDoubleClick:this.props.onItemDoubleClick,onContextMenu:this.props.onItemContextMenu,onSelect:this.props.itemSelect,itemRenderer:this.props.itemRenderer,scrollRef:this.props.scrollRef},B(z,g)))})}}class hi extends pe.Component{shouldComponentUpdate(i){return!(i.keys===this.props.keys&&i.width===this.props.width&&i.height===this.props.height&&mt(i.groups,this.props.groups)&&mt(i.groupHeights,this.props.groupHeights))}renderGroupContent(i,a=!1,p,f){return this.props.groupRenderer?se.createElement(this.props.groupRenderer,{group:i,isRightSidebar:a}):B(i,a?f:p)}render(){const{width:i,groupHeights:a,height:p,isRightSidebar:f}=this.props,{groupIdKey:m,groupTitleKey:g,groupRightTitleKey:y}=this.props.keys,w={width:`${i}px`,height:`${p}px`},M={width:`${i}px`},R=this.props.groups.map((z,x)=>{const k={height:`${a[x]}px`,lineHeight:`${a[x]}px`};return H.jsx("div",{className:"rct-sidebar-row rct-sidebar-row-"+(x%2===0?"even":"odd"),style:k,children:this.renderGroupContent(z,f,g,y)},B(z,m))});return H.jsx("div",{className:"rct-sidebar"+(f?" rct-sidebar-right":""),style:w,children:H.jsx("div",{style:M,children:R})})}}class dd extends pe.Component{shouldComponentUpdate(i){return!(i.canvasTimeStart===this.props.canvasTimeStart&&i.canvasTimeEnd===this.props.canvasTimeEnd&&i.canvasWidth===this.props.canvasWidth&&i.lineCount===this.props.lineCount&&i.minUnit===this.props.minUnit&&i.timeSteps===this.props.timeSteps&&i.height===this.props.height&&i.verticalLineClassNamesForTime===this.props.verticalLineClassNamesForTime)}render(){const{canvasTimeStart:i,canvasTimeEnd:a,minUnit:p,timeSteps:f,height:m,verticalLineClassNamesForTime:g,getLeftOffsetFromDate:y}=this.props,w=[];return $r(i,a,p,f,(M,R)=>{const z=M.get(p==="day"?"date":p)===(p==="day"?1:0);let x=[];g&&(x=g(M.unix()*1e3,R.unix()*1e3-1));const k="rct-vl"+(z?" rct-vl-first":"")+(p==="day"||p==="hour"||p==="minute"?` rct-day-${M.day()} `:" ")+x.join(" "),P=y(M.valueOf()),O=y(R.valueOf());w.push(H.jsx("div",{className:k,style:{pointerEvents:"none",top:"0px",left:`${P}px`,width:`${O-P}px`,height:`${m}px`}},`line-${M.valueOf()}`))}),H.jsx("div",{className:"rct-vertical-lines",children:w})}}const fd=({...s})=>H.jsx(Vt,{children:({getLeftOffsetFromDate:i})=>H.jsx(dd,{getLeftOffsetFromDate:i,...s})});class md extends pe.Component{constructor(){super(...arguments),Object.defineProperty(this,"handleMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:i=>{this.originClickX=i.clientX}}),Object.defineProperty(this,"handleMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:i=>{this.props.clickTolerance!==void 0&&Math.abs(this.originClickX-i.clientX)>this.props.clickTolerance&&(this.cancelClick=!0)}}),Object.defineProperty(this,"handleClick",{enumerable:!0,configurable:!0,writable:!0,value:i=>{this.cancelClick||this.props.onClick(i),this.cancelClick=!1,this.originClickX=null}}),Object.defineProperty(this,"originClickX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cancelClick",{enumerable:!0,configurable:!0,writable:!0,value:!1})}render(){const i=se.Children.only(this.props.children);return se.cloneElement(i,{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick})}}class vd extends pe.Component{render(){const{onContextMenu:i,onDoubleClick:a,isEvenRow:p,style:f,onClick:m,clickTolerance:g,horizontalLineClassNamesForGroup:y,group:w}=this.props;let M=[];return y&&(M=y(w)),H.jsx(md,{clickTolerance:g,onClick:m,children:H.jsx("div",{onContextMenu:i,onDoubleClick:a,className:(p?"rct-hl-even ":"rct-hl-odd ")+(M?M.join(" "):""),style:f})})}}class gd extends pe.Component{shouldComponentUpdate(i){return!(i.canvasWidth===this.props.canvasWidth&&i.lineCount===this.props.lineCount&&i.groupHeights===this.props.groupHeights&&i.groups===this.props.groups)}render(){const{canvasWidth:i,lineCount:a,groupHeights:p,onRowClick:f,onRowDoubleClick:m,clickTolerance:g,groups:y,horizontalLineClassNamesForGroup:w,onRowContextClick:M}=this.props,R=[];for(let z=0;z<a;z++)R.push(H.jsx(vd,{clickTolerance:g,onContextMenu:x=>M(x,z),onClick:x=>f(x,z),onDoubleClick:x=>m(x,z),isEvenRow:z%2===0,group:y[z],horizontalLineClassNamesForGroup:w,style:{width:`${i}px`,height:`${p[z]}px`}},`horizontal-line-${z}`));return H.jsx("div",{className:"rct-horizontal-lines",children:R})}}class bd extends pe.Component{constructor(i){super(i),Object.defineProperty(this,"scrollComponentRef",{enumerable:!0,configurable:!0,writable:!0,value:pe.createRef()}),Object.defineProperty(this,"dragLastPosition",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastTouchDistance",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"singleTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"lastSingleTouch",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"isItemInteraction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"handleScroll",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const a=this.scrollComponentRef.current.scrollLeft;this.props.onScroll(a)}}),Object.defineProperty(this,"handleWheel",{enumerable:!0,configurable:!0,writable:!0,value:a=>{if(a.ctrlKey||a.metaKey||a.altKey){a.preventDefault();const p=Ln(a.currentTarget),f=a.clientX-p.x,m=a.ctrlKey?10:a.metaKey?3:1;this.props.onWheelZoom(m,f,a.deltaY)}else a.shiftKey&&(a.preventDefault(),this.props.onScroll(this.scrollComponentRef.current.scrollLeft+(a.deltaY||a.deltaX)))}}),Object.defineProperty(this,"handleMouseDown",{enumerable:!0,configurable:!0,writable:!0,value:a=>{a.button===0&&(this.dragLastPosition=a.pageX,this.setState({isDragging:!0}))}}),Object.defineProperty(this,"handleMouseMove",{enumerable:!0,configurable:!0,writable:!0,value:a=>{this.state.isDragging&&!this.isItemInteraction&&(this.props.onScroll(this.scrollComponentRef.current.scrollLeft+this.dragLastPosition-a.pageX),this.dragLastPosition=a.pageX)}}),Object.defineProperty(this,"handleMouseUp",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.dragLastPosition=null,this.setState({isDragging:!1})}}),Object.defineProperty(this,"handleMouseLeave",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.dragLastPosition=null,this.setState({isDragging:!1})}}),Object.defineProperty(this,"handleTouchStart",{enumerable:!0,configurable:!0,writable:!0,value:a=>{if(a.touches.length===2)a.preventDefault(),this.lastTouchDistance=Math.abs(a.touches[0].screenX-a.touches[1].screenX),this.singleTouchStart=null,this.lastSingleTouch=null;else if(a.touches.length===1){a.preventDefault();const p=a.touches[0].clientX,f=a.touches[0].clientY;this.lastTouchDistance=null,this.singleTouchStart={x:p,y:f,screenY:window.pageYOffset},this.lastSingleTouch={x:p,y:f,screenY:window.pageYOffset}}}}),Object.defineProperty(this,"handleTouchMove",{enumerable:!0,configurable:!0,writable:!0,value:a=>{const{width:p,onZoom:f}=this.props;if(this.isItemInteraction){a.preventDefault();return}if(this.lastTouchDistance&&a.touches.length===2){a.preventDefault();const m=Math.abs(a.touches[0].screenX-a.touches[1].screenX),g=Ln(a.currentTarget),y=(a.touches[0].screenX+a.touches[1].screenX)/2-g.x;m!==0&&this.lastTouchDistance!==0&&(f(this.lastTouchDistance/m,y/p),this.lastTouchDistance=m)}else if(this.lastSingleTouch&&a.touches.length===1){a.preventDefault();const m=a.touches[0].clientX,g=a.touches[0].clientY,y=m-this.lastSingleTouch.x,w=m-this.singleTouchStart.x,M=g-this.singleTouchStart.y;this.lastSingleTouch={x:m,y:g,screenY:window.pageYOffset};const R=Math.abs(w)*3>Math.abs(M),z=Math.abs(M)*3>Math.abs(w);y!==0&&R&&this.props.onScroll(this.scrollComponentRef.current.scrollLeft-y),z&&window.scrollTo(window.scrollX,this.singleTouchStart.screenY-M)}}}),Object.defineProperty(this,"handleTouchEnd",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.lastTouchDistance&&(this.lastTouchDistance=null),this.lastSingleTouch&&(this.lastSingleTouch=null,this.singleTouchStart=null)}}),Object.defineProperty(this,"handleItemInteract",{enumerable:!0,configurable:!0,writable:!0,value:a=>{this.isItemInteraction=a.detail.itemInteraction}}),this.state={isDragging:!1}}componentDidMount(){this.scrollComponentRef.current&&(this.props.scrollRef(this.scrollComponentRef.current),this.scrollComponentRef.current.addEventListener("wheel",this.handleWheel,{passive:!1}),this.scrollComponentRef.current.addEventListener("itemInteraction",this.handleItemInteract),this.scrollComponentRef.current.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.scrollComponentRef.current.addEventListener("touchmove",this.handleTouchMove,{passive:!1}))}componentWillUnmount(){this.scrollComponentRef.current&&(this.scrollComponentRef.current.removeEventListener("wheel",this.handleWheel),this.scrollComponentRef.current.removeEventListener("itemInteraction",this.handleItemInteract),this.scrollComponentRef.current.removeEventListener("touchstart",this.handleTouchStart),this.scrollComponentRef.current.removeEventListener("touchmove",this.handleTouchMove))}render(){const{width:i,height:a,children:p}=this.props,{isDragging:f}=this.state,m={width:`${i}px`,height:`${a+20}px`,cursor:f?"move":"default",position:"relative"};return H.jsx("div",{ref:this.scrollComponentRef,"data-testid":"scroll-element",className:"rct-scroll",style:m,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onTouchEnd:this.handleTouchEnd,onScroll:this.handleScroll,children:p})}}const yd={subscribeToMouseOver:()=>(console.warn('"subscribeToMouseOver" default func is being used'),()=>{})},{Consumer:xd,Provider:Td}=se.createContext(yd),Sd=Td,wd=xd,Od={markers:[],subscribeMarker:()=>(console.warn("default subscribe marker used"),{unsubscribe:Ct,getMarker:Ct}),updateMarker:()=>(console.warn("default subscribe marker used"),Ct)},{Consumer:Md,Provider:kd}=se.createContext(Od);let di=0;const Pd=()=>(di+=1,di+1);class Ed extends se.Component{constructor(i){super(i),Object.defineProperty(this,"handleSubscribeToMarker",{enumerable:!0,configurable:!0,writable:!0,value:a=>(a={...a,id:Pd()},this.setState(p=>({markers:[...p.markers,a]})),{unsubscribe:()=>{this.setState(p=>({markers:p.markers.filter(f=>f.id!==a.id)}))},getMarker:()=>a})}),Object.defineProperty(this,"handleUpdateMarker",{enumerable:!0,configurable:!0,writable:!0,value:a=>{const p=this.state.markers.findIndex(f=>f.id===a.id);p<0||this.setState(f=>({markers:[...f.markers.slice(0,p),a,...f.markers.slice(p+1)]}))}}),this.state={markers:[],subscribeMarker:this.handleSubscribeToMarker,updateMarker:this.handleUpdateMarker}}render(){return H.jsx(kd,{value:this.state,children:this.props.children})}}const Zt=Md;var Fe;(function(s){s.Today="Today",s.Custom="Custom",s.Cursor="Cursor"})(Fe||(Fe={}));const zd={position:"absolute",top:0,bottom:0,width:"2px",backgroundColor:"black",pointerEvents:"none"},Ur=s=>({...zd,left:s}),Gr=s=>function({styles:i}){return H.jsx("div",{style:i,"data-testid":s})},_d=Gr("default-today-line");let Ki=class extends se.Component{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{date:Date.now()}}),Object.defineProperty(this,"intervalToken",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}componentDidMount(){this.intervalToken=this.createIntervalUpdater(this.props.interval)}componentDidUpdate(s){s.interval!==this.props.interval&&(clearInterval(this.intervalToken),this.intervalToken=this.createIntervalUpdater(this.props.interval))}createIntervalUpdater(s){return setInterval(()=>{this.setState({date:Date.now()})},s)}componentWillUnmount(){clearInterval(this.intervalToken)}render(){const{date:s}=this.state,i=this.props.getLeftOffsetFromDate(s),a=Ur(i);return this.props.renderer({styles:a,date:s})}};Object.defineProperty(Ki,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:_d}});const Cd=Gr("default-customer-marker-id");let Xi=class extends se.Component{render(){const{date:s}=this.props,i=this.props.getLeftOffsetFromDate(s),a=Ur(i);return this.props.renderer({styles:a,date:s})}};Object.defineProperty(Xi,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:Cd}});const Dd=Gr("default-cursor-marker");let Vi=class extends se.Component{constructor(s){super(s),Object.defineProperty(this,"handleCanvasMouseOver",{enumerable:!0,configurable:!0,writable:!0,value:({leftOffset:i,date:a,isCursorOverCanvas:p})=>{this.setState({leftOffset:i,date:a,isShowingCursor:p})}}),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state={leftOffset:0,date:0,isShowingCursor:!1}}componentDidMount(){this.unsubscribe=this.props.subscribeToCanvasMouseOver(this.handleCanvasMouseOver)}componentWillUnmount(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}render(){const{isShowingCursor:s,leftOffset:i,date:a}=this.state;if(!s)return null;const p=Ur(i);return this.props.renderer?this.props.renderer({styles:p,date:a}):null}};Object.defineProperty(Vi,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{renderer:Dd}});const Zi=s=>H.jsx(wd,{children:({subscribeToMouseOver:i})=>H.jsx(Vi,{subscribeToCanvasMouseOver:i,...s})});Zi.displayName="CursorMarkerWrapper";const Id=()=>H.jsx(Vt,{children:({getLeftOffsetFromDate:s,getTimelineState:i})=>H.jsx(Zt,{children:({markers:a})=>{const p=i();return a.map(f=>{switch(f.type){case Fe.Today:return new Date().valueOf()>=p.canvasTimeStart&&new Date().valueOf()<=p.canvasTimeEnd?H.jsx(Ki,{getLeftOffsetFromDate:s,renderer:f.renderer,interval:f.interval},f.id):null;case Fe.Custom:return f.date>=p.canvasTimeStart&&f.date<=p.canvasTimeEnd?H.jsx(Xi,{renderer:f.renderer,date:f.date,getLeftOffsetFromDate:s},f.id):null;case Fe.Cursor:return H.jsx(Zi,{renderer:f.renderer,getLeftOffsetFromDate:s},f.id);default:return null}})}})}),jd={position:"absolute",left:0,right:0,top:0,bottom:0};class Rd extends se.Component{constructor(){super(...arguments),Object.defineProperty(this,"handleMouseMove",{enumerable:!0,configurable:!0,writable:!0,value:i=>{var a;if(this.subscription!==null){const{pageX:p}=i,{left:f}=((a=this.containerEl.current)==null?void 0:a.getBoundingClientRect())??{left:0},m=p-f,g=this.props.getDateFromLeftOffsetPosition(m);this.subscription({leftOffset:m,date:g,isCursorOverCanvas:!0})}}}),Object.defineProperty(this,"handleMouseLeave",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.subscription!==null&&this.subscription({leftOffset:0,date:0,isCursorOverCanvas:!1})}}),Object.defineProperty(this,"handleMouseMoveSubscribe",{enumerable:!0,configurable:!0,writable:!0,value:i=>(this.subscription=i,()=>{this.subscription=null})}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{subscribeToMouseOver:this.handleMouseMoveSubscribe}}),Object.defineProperty(this,"containerEl",{enumerable:!0,configurable:!0,writable:!0,value:se.createRef()}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:null})}render(){return H.jsx(Sd,{value:this.state,children:H.jsxs("div",{style:jd,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,ref:this.containerEl,children:[H.jsx(Id,{}),this.props.children]})})}}const $d=s=>H.jsx(Vt,{children:({getDateFromLeftOffsetPosition:i})=>H.jsx(Rd,{getDateFromLeftOffsetPosition:i,...s})});function Ld(s){s._resizeEventListener=()=>s.resize(),window.addEventListener("resize",s._resizeEventListener)}function Ad(s){window.removeEventListener("resize",s._resizeEventListener)}const fi={addListener:Ld,removeListener:Ad},Hd={groupIdKey:"id",groupTitleKey:"title",groupRightTitleKey:"rightTitle",groupLabelKey:"title",itemIdKey:"id",itemTitleKey:"title",itemDivTitleKey:"title",itemGroupKey:"group",itemTimeStartKey:"start_time",itemTimeEndKey:"end_time"},Wd={second:1,minute:1,hour:1,day:1,month:1,year:1},Fd={year:{long:"YYYY",mediumLong:"YYYY",medium:"YYYY",short:"YY"},month:{long:"MMMM YYYY",mediumLong:"MMMM",medium:"MMMM",short:"MM/YY"},week:{long:"w",mediumLong:"w",medium:"w",short:"w"},day:{long:"dddd, LL",mediumLong:"dddd, LL",medium:"dd D",short:"D"},hour:{long:"dddd, LL, HH:00",mediumLong:"L, HH:00",medium:"HH:00",short:"HH"},minute:{long:"HH:mm",mediumLong:"HH:mm",medium:"HH:mm",short:"mm"},second:{long:"mm:ss",mediumLong:"mm:ss",medium:"mm:ss",short:"ss"}},Nd={registerScroll:()=>(console.warn("default registerScroll header used"),Ct),rightSidebarWidth:0,leftSidebarWidth:150,timeSteps:{}},qi=se.createContext(Nd);class Ud extends se.Component{render(){const i={rightSidebarWidth:this.props.rightSidebarWidth,leftSidebarWidth:this.props.leftSidebarWidth,timeSteps:this.props.timeSteps,registerScroll:this.props.registerScroll};return H.jsx(qi.Provider,{value:i,children:this.props.children})}}const Gd=qi,Yr=()=>pe.useContext(Gd);var Qi={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(s){(function(){var i={}.hasOwnProperty;function a(){for(var m="",g=0;g<arguments.length;g++){var y=arguments[g];y&&(m=f(m,p(y)))}return m}function p(m){if(typeof m=="string"||typeof m=="number")return m;if(typeof m!="object")return"";if(Array.isArray(m))return a.apply(null,m);if(m.toString!==Object.prototype.toString&&!m.toString.toString().includes("[native code]"))return m.toString();var g="";for(var y in m)i.call(m,y)&&m[y]&&(g=f(g,y));return g}function f(m,g){return g?m?m+" "+g:m+g:m}s.exports?(a.default=a,s.exports=a):window.classNames=a})()})(Qi);var Yd=Qi.exports;const mi=qe(Yd),Kd="left",Bi="right";class Xd extends pe.PureComponent{constructor(){super(...arguments),Object.defineProperty(this,"getRootProps",{enumerable:!0,configurable:!0,writable:!0,value:(i={})=>{const{style:a}=i,p=this.props.variant===Bi?this.props.rightSidebarWidth:this.props.leftSidebarWidth;return{style:{color:(a==null?void 0:a.color)??"#fff",...a,width:p}}}}),Object.defineProperty(this,"getStateAndHelpers",{enumerable:!0,configurable:!0,writable:!0,value:()=>({getRootProps:this.getRootProps,data:this.props.headerData})})}render(){const i=this.getStateAndHelpers();return this.props.children(i)}}const Vd=({getRootProps:s})=>H.jsx("div",{"data-testid":"sidebarHeader",...s()}),It=s=>{const{children:i,variant:a=Kd,headerData:p}=s,{leftSidebarWidth:f,rightSidebarWidth:m}=Yr();return H.jsx(Xd,{leftSidebarWidth:f,rightSidebarWidth:m,variant:a,headerData:p,children:i||Vd})};It.secretKey="SidebarHeader";class Zd extends se.Component{constructor(){super(...arguments),Object.defineProperty(this,"getRootStyle",{enumerable:!0,configurable:!0,writable:!0,value:()=>({...this.props.style,display:"flex",width:"100%"})}),Object.defineProperty(this,"getCalendarHeaderStyle",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{leftSidebarWidth:i,rightSidebarWidth:a,calendarHeaderStyle:p}=this.props;return{...p,overflow:"hidden",width:`calc(100% - ${i+a}px)`}}}),Object.defineProperty(this,"isSidebarHeader",{enumerable:!0,configurable:!0,writable:!0,value:i=>i.type===void 0?!1:i.type.secretKey===It.secretKey})}render(){let i,a;const p=[],f=Array.isArray(this.props.children)?this.props.children.filter(m=>m):[this.props.children];return se.Children.map(f,m=>{var g;this.isSidebarHeader(m)?((g=m==null?void 0:m.props)==null?void 0:g.variant)===Bi?i=m:a=m:p.push(m)}),a||(a=H.jsx(It,{})),!i&&this.props.rightSidebarWidth&&(i=H.jsx(It,{variant:"right"})),H.jsxs("div",{"data-testid":"headerRootDiv",style:this.getRootStyle(),className:mi("rct-header-root",this.props.className),children:[a,H.jsx("div",{ref:this.props.registerScroll,style:this.getCalendarHeaderStyle(),className:mi("rct-calendar-header",this.props.calendarHeaderClassName),"data-testid":"headerContainer",children:p}),i]})}}const Cr=({children:s,style:i,className:a,calendarHeaderStyle:p,calendarHeaderClassName:f})=>{const{leftSidebarWidth:m,rightSidebarWidth:g,registerScroll:y}=Yr();return H.jsx(Zd,{leftSidebarWidth:m,rightSidebarWidth:g,registerScroll:y,style:i,className:a,calendarHeaderStyle:p,calendarHeaderClassName:f,children:s})};Cr.secretKey="TimelineHeaders";class Ji extends se.Component{constructor(i){super(i),Object.defineProperty(this,"getHeaderIntervals",{enumerable:!0,configurable:!0,writable:!0,value:({canvasTimeStart:w,canvasTimeEnd:M,unit:R,timeSteps:z,getLeftOffsetFromDate:x})=>{const k=[];return $r(w,M,R,z,(P,O)=>{const I=x(P.valueOf()),G=x(O.valueOf())-I;k.push({startTime:P,endTime:O,labelWidth:G,left:I})}),k}}),Object.defineProperty(this,"getRootProps",{enumerable:!0,configurable:!0,writable:!0,value:(w={})=>{const{style:M}=w;return{style:Object.assign({},M||{},{position:"relative",width:this.props.canvasWidth,height:this.props.height})}}}),Object.defineProperty(this,"getIntervalProps",{enumerable:!0,configurable:!0,writable:!0,value:(w={})=>{const{interval:M,style:R}=w;if(!M)throw new Error("you should provide interval to the prop getter");const{startTime:z,labelWidth:x,left:k}=M;return{style:{...R,left:k,width:x,position:"absolute"},key:`label-${z.valueOf()}`}}}),Object.defineProperty(this,"getStateAndHelpers",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{unit:w,showPeriod:M,headerData:R}=this.props;return{headerContext:{unit:w,intervals:this.state.intervals},getRootProps:this.getRootProps,getIntervalProps:this.getIntervalProps,showPeriod:M,data:R}}});const{canvasTimeStart:a,canvasTimeEnd:p,unit:f,timeSteps:m,getLeftOffsetFromDate:g}=i,y=this.getHeaderIntervals({canvasTimeStart:a,canvasTimeEnd:p,unit:f,timeSteps:m,getLeftOffsetFromDate:g});this.state={intervals:y}}componentDidUpdate(i){if(!Pr(i,this.props)){const{canvasTimeStart:a,canvasTimeEnd:p,unit:f,timeSteps:m,getLeftOffsetFromDate:g}=this.props,y=this.getHeaderIntervals({canvasTimeStart:a,canvasTimeEnd:p,unit:f,timeSteps:m,getLeftOffsetFromDate:g});this.setState({intervals:y})}}render(){const i=this.getStateAndHelpers();return this.props.children(i)}}Object.defineProperty(Ji,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{height:30}});function qd({children:s,unit:i,headerData:a,height:p}){const{getTimelineState:f,showPeriod:m,getLeftOffsetFromDate:g}=ud(),y=f(),{timeSteps:w}=Yr();return H.jsx(Ji,{children:s,timeSteps:w,showPeriod:m,unit:i||y.timelineUnit,...y,headerData:a,getLeftOffsetFromDate:g,height:p})}var vi=Number.isNaN||function(s){return typeof s=="number"&&s!==s};function Qd(s,i){return!!(s===i||vi(s)&&vi(i))}function Bd(s,i){if(s.length!==i.length)return!1;for(var a=0;a<s.length;a++)if(!Qd(s[a],i[a]))return!1;return!0}function gi(s,i){i===void 0&&(i=Bd);var a=null;function p(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];if(a&&a.lastThis===this&&i(f,a.lastArgs))return a.lastResult;var g=s.apply(this,f);return a={lastResult:g,lastArgs:f,lastThis:this},g}return p.clear=function(){a=null},p}class Jd extends se.PureComponent{constructor(){super(...arguments),Object.defineProperty(this,"onIntervalClick",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{primaryHeader:i,interval:a,unit:p,showPeriod:f}=this.props;if(i){const m=Lr(p),g=a.startTime.clone().startOf(m),y=a.startTime.clone().endOf(m);f(g,y)}else f(a.startTime,a.endTime)}}),Object.defineProperty(this,"getIntervalProps",{enumerable:!0,configurable:!0,writable:!0,value:(i={})=>({...this.props.getIntervalProps({interval:this.props.interval,...i}),onClick:Ke(this.onIntervalClick,i.onClick)})})}render(){const{intervalText:i,interval:a,intervalRenderer:p,headerData:f}=this.props,m=p;if(m)return m({getIntervalProps:this.getIntervalProps,intervalContext:{interval:a,intervalText:i},data:f});const{key:g,...y}=this.getIntervalProps();return pe.createElement("div",{"data-testid":"dateHeaderInterval",...y,key:g,className:`rct-dateHeader ${this.props.primaryHeader?"rct-dateHeader-primary":""}`},H.jsx("span",{children:i}))}}function ef({headerContext:{intervals:s,unit:i},getRootProps:a,getIntervalProps:p,showPeriod:f,data:{style:m,intervalRenderer:g,className:y,getLabelFormat:w,unitProp:M,headerData:R}}){return H.jsx("div",{"data-testid":"dateHeader",className:y,...a({style:m}),children:s.map(z=>{const x=w([z.startTime,z.endTime],i,z.labelWidth);return H.jsx(Jd,{unit:i,interval:z,showPeriod:f,intervalText:x,primaryHeader:M==="primaryHeader",getIntervalProps:p,intervalRenderer:g,headerData:R},`label-${z.startTime.valueOf()}`)})})}class tf extends se.Component{constructor(){super(...arguments),Object.defineProperty(this,"getHeaderUnit",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.props.unit==="primaryHeader"?Lr(this.props.timelineUnit):this.props.unit?this.props.unit:this.props.timelineUnit}),Object.defineProperty(this,"getRootStyle",{enumerable:!0,configurable:!0,writable:!0,value:gi(i=>({height:30,...i}))}),Object.defineProperty(this,"getLabelFormat",{enumerable:!0,configurable:!0,writable:!0,value:(i,a,p)=>{const{labelFormat:f}=this.props;if(typeof f=="string")return i[0].format(f);if(typeof f=="function")return f(i,a,p);throw new Error("labelFormat should be function or string")}}),Object.defineProperty(this,"getHeaderData",{enumerable:!0,configurable:!0,writable:!0,value:gi((i,a,p,f,m,g)=>({intervalRenderer:i,style:a,className:p,getLabelFormat:f,unitProp:m,headerData:g}))})}render(){const i=this.getHeaderUnit(),{height:a}=this.props;return H.jsx(qd,{children:ef,unit:i,height:a,headerData:this.getHeaderData(this.props.intervalRenderer,this.getRootStyle(this.props.style),this.props.className,this.getLabelFormat,this.props.unit,this.props.headerData)})}}function bi({labelFormat:s,unit:i,style:a,className:p,intervalRenderer:f,headerData:m,height:g}){return H.jsx(Vt,{children:({getTimelineState:y})=>{const w=y();return H.jsx(tf,{timelineUnit:w.timelineUnit,unit:i,labelFormat:s||rf,style:a,className:p,intervalRenderer:f,headerData:m,height:g})}})}const rf=([s],i,a=150,p=Fd)=>{let f;return a>=150?f=p[i].long:a>=100?f=p[i].mediumLong:a>=50?f=p[i].medium:f=p[i].short,s.format(f)};var eo={exports:{}};(function(s,i){(function(a,p){s.exports=p()})(We,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(p,f,m){var g=f.prototype,y=g.format;m.en.formats=a,g.format=function(w){w===void 0&&(w="YYYY-MM-DDTHH:mm:ssZ");var M=this.$locale().formats,R=function(z,x){return z.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(k,P,O){var I=O&&O.toUpperCase();return P||x[O]||a[O]||x[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(G,K,J){return K||J.slice(1)})})}(w,M===void 0?{}:M);return y.call(this,R)}}})})(eo);var nf=eo.exports;const of=qe(nf);ke.extend(of);class to extends pe.Component{constructor(i){super(i),Object.defineProperty(this,"getTimelineContext",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{width:x,visibleTimeStart:k,visibleTimeEnd:P,canvasTimeStart:O,canvasTimeEnd:I}=this.state,G=P-k,K=De(x,this.props.buffer),J=Dt(G,x,this.props.timeSteps);return{canvasWidth:K,timelineUnit:J,timelineWidth:x,visibleTimeStart:k,visibleTimeEnd:P,canvasTimeStart:O,canvasTimeEnd:I}}}),Object.defineProperty(this,"getTimelineUnit",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{width:x,visibleTimeStart:k,visibleTimeEnd:P}=this.state,{timeSteps:O}=this.props,I=P-k;return Dt(I,x,O)}}),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scrollComponent",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"scrollHeaderRef",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"resize",{enumerable:!0,configurable:!0,writable:!0,value:(x=this.props)=>{var k;const{width:P}=((k=this.container.current)==null?void 0:k.getBoundingClientRect())??{width:0},O=P-x.sidebarWidth-x.rightSidebarWidth,I=De(O,x.buffer),{dimensionItems:G,height:K,groupHeights:J,groupTops:re}=Ze(x.items,x.groups,I,this.state.canvasTimeStart,this.state.canvasTimeEnd,x.keys,x.lineHeight,x.itemHeightRatio,x.stackItems,this.state.draggingItem,this.state.resizingItem,this.state.dragTime,this.state.resizingEdge,this.state.resizeTime,this.state.newGroupOrder);this.setState({width:O,dimensionItems:G,height:K,groupHeights:J,groupTops:re});const ee=O*((x.buffer-1)/2);this.scrollComponent&&(this.scrollComponent.scrollLeft=ee),this.scrollHeaderRef&&(this.scrollHeaderRef.scrollLeft=ee)}}),Object.defineProperty(this,"onScroll",{enumerable:!0,configurable:!0,writable:!0,value:x=>{var k,P;const O=this.state.width,I=this.state.canvasTimeStart,G=this.state.visibleTimeEnd-this.state.visibleTimeStart,K=I+G*x/O;(this.state.visibleTimeStart!==K||this.state.visibleTimeEnd!==K+G)&&((P=(k=this.props).onTimeChange)==null||P.call(k,K,K+G,this.updateScrollCanvas,this.getTimelineUnit()))}}),Object.defineProperty(this,"updateScrollCanvas",{enumerable:!0,configurable:!0,writable:!0,value:(x,k,P=!1,O=this.props.items,I=this.props.groups)=>{this.setState(_r(x,k,P,O,I,this.props,this.state))}}),Object.defineProperty(this,"handleWheelZoom",{enumerable:!0,configurable:!0,writable:!0,value:(x,k,P)=>{this.changeZoom(1+x*P/500,k/this.state.width)}}),Object.defineProperty(this,"changeZoom",{enumerable:!0,configurable:!0,writable:!0,value:(x,k=.5)=>{const{minZoom:P,maxZoom:O}=this.props,I=this.state.visibleTimeEnd-this.state.visibleTimeStart,G=Math.min(Math.max(Math.round(I*x),P),O),K=Math.round(this.state.visibleTimeStart+(I-G)*k);this.props.onTimeChange&&this.props.onTimeChange(K,K+G,this.updateScrollCanvas,this.getTimelineUnit())}}),Object.defineProperty(this,"showPeriod",{enumerable:!0,configurable:!0,writable:!0,value:(x,k)=>{var P,O;const I=x.valueOf(),G=k.valueOf()-I;G<this.props.minZoom||(O=(P=this.props).onTimeChange)==null||O.call(P,I,I+G,this.updateScrollCanvas,this.getTimelineUnit())}}),Object.defineProperty(this,"selectItem",{enumerable:!0,configurable:!0,writable:!0,value:(x,k,P)=>{if(this.isItemSelected(x)||this.props.itemTouchSendsClick&&k==="touch"){if(x&&this.props.onItemClick){const O=this.timeFromItemEvent(P);this.props.onItemClick(x,P,O)}}else if(this.setState({selectedItem:x}),x&&this.props.onItemSelect){const O=this.timeFromItemEvent(P);this.props.onItemSelect(x,P,O)}else x===null&&this.props.onItemDeselect&&this.props.onItemDeselect(P)}}),Object.defineProperty(this,"doubleClickItem",{enumerable:!0,configurable:!0,writable:!0,value:(x,k)=>{if(this.props.onItemDoubleClick){const P=this.timeFromItemEvent(k);this.props.onItemDoubleClick(x,k,P)}}}),Object.defineProperty(this,"contextMenuClickItem",{enumerable:!0,configurable:!0,writable:!0,value:(x,k)=>{if(this.props.onItemContextMenu){const P=this.timeFromItemEvent(k);this.props.onItemContextMenu(x,k,P)}}}),Object.defineProperty(this,"getTimeFromRowClickEvent",{enumerable:!0,configurable:!0,writable:!0,value:x=>{const{dragSnap:k,buffer:P}=this.props,{width:O,canvasTimeStart:I,canvasTimeEnd:G}=this.state,{offsetX:K}=x.nativeEvent;let J=Rr(I,G,De(O,P),K);return J=Math.floor(J/k)*k,J}}),Object.defineProperty(this,"timeFromItemEvent",{enumerable:!0,configurable:!0,writable:!0,value:x=>{const{width:k,visibleTimeStart:P,visibleTimeEnd:O}=this.state,I=this.props.dragSnap,G=this.scrollComponent,{left:K}=G.getBoundingClientRect(),J=(x.clientX-K)/k,re=O-P,ee=J*re;let he=Math.round(P+ee);return he=Math.floor(he/I)*I,he}}),Object.defineProperty(this,"dragItem",{enumerable:!0,configurable:!0,writable:!0,value:(x,k,P)=>{const O=this.props.groups[P],I=this.props.keys;this.setState({draggingItem:x,dragTime:k,newGroupOrder:P,dragGroupTitle:O?B(O,I.groupLabelKey):""}),this.updatingItem({eventType:"move",itemId:x,time:k,newGroupOrder:P})}}),Object.defineProperty(this,"dropItem",{enumerable:!0,configurable:!0,writable:!0,value:(x,k,P)=>{this.setState({draggingItem:null,dragTime:null,dragGroupTitle:null}),this.props.onItemMove&&this.props.onItemMove(x,k,P)}}),Object.defineProperty(this,"resizingItem",{enumerable:!0,configurable:!0,writable:!0,value:(x,k,P)=>{this.setState({resizingItem:x,resizingEdge:P,resizeTime:k}),this.updatingItem({eventType:"resize",itemId:x,time:k,edge:P||void 0})}}),Object.defineProperty(this,"resizedItem",{enumerable:!0,configurable:!0,writable:!0,value:(x,k,P,O)=>{this.setState({resizingItem:null,resizingEdge:null,resizeTime:null}),this.props.onItemResize&&O!==0&&this.props.onItemResize(x,k,P)}}),Object.defineProperty(this,"updatingItem",{enumerable:!0,configurable:!0,writable:!0,value:({eventType:x,itemId:k,time:P,edge:O,newGroupOrder:I})=>{this.props.onItemDrag&&(x==="move"?this.props.onItemDrag({eventType:x,itemId:k,time:P,newGroupOrder:I}):this.props.onItemDrag({eventType:x,itemId:k,time:P,edge:O}))}}),Object.defineProperty(this,"handleRowClick",{enumerable:!0,configurable:!0,writable:!0,value:(x,k)=>{if(this.hasSelectedItem()&&this.selectItem(null,"click",x),this.props.onCanvasClick==null)return;const P=this.getTimeFromRowClickEvent(x),O=B(this.props.groups[k],this.props.keys.groupIdKey);this.props.onCanvasClick(O,P,x)}}),Object.defineProperty(this,"handleRowDoubleClick",{enumerable:!0,configurable:!0,writable:!0,value:(x,k)=>{if(this.props.onCanvasDoubleClick==null)return;const P=this.getTimeFromRowClickEvent(x),O=B(this.props.groups[k],this.props.keys.groupIdKey);this.props.onCanvasDoubleClick(O,P,x)}}),Object.defineProperty(this,"handleScrollContextMenu",{enumerable:!0,configurable:!0,writable:!0,value:(x,k)=>{if(this.props.onCanvasContextMenu==null)return;const P=this.getTimeFromRowClickEvent(x),O=B(this.props.groups[k],this.props.keys.groupIdKey);this.props.onCanvasContextMenu&&(x.preventDefault(),this.props.onCanvasContextMenu(O,P,x))}}),Object.defineProperty(this,"handleHeaderRef",{enumerable:!0,configurable:!0,writable:!0,value:x=>{this.scrollHeaderRef=x,this.props.headerRef&&this.props.headerRef(x)}}),Object.defineProperty(this,"isTimelineHeader",{enumerable:!0,configurable:!0,writable:!0,value:x=>x.type===void 0?!1:x.type.secretKey===Cr.secretKey}),Object.defineProperty(this,"renderHeaders",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.props.children){let x;if(se.Children.map(this.props.children,k=>{this.isTimelineHeader(k)&&(x=k)}),x)return x}return H.jsxs(Cr,{children:[H.jsx(bi,{unit:"primaryHeader"}),H.jsx(bi,{})]})}}),Object.defineProperty(this,"getScrollElementRef",{enumerable:!0,configurable:!0,writable:!0,value:x=>{this.props.scrollRef&&this.props.scrollRef(x),this.scrollComponent=x}}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:se.createRef()}),Object.defineProperty(this,"getBoundingClientRect",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.scrollComponent.getBoundingClientRect()}),Object.defineProperty(this,"calculateDropCoordinatesToTimeAndGroup",{enumerable:!0,configurable:!0,writable:!0,value:(x,k)=>{const P=De(this.state.width,this.props.buffer),O=Wt(this.state.canvasTimeStart,this.state.canvasTimeEnd,P),I=Rt(this.scrollComponent).offsetLeft,G=jt(this.scrollComponent),K=(x-I+G.scrollLeft)*O+this.state.canvasTimeStart;let J=0;for(const ee of this.state.groupTops)if(k>Number(ee))J=this.state.groupTops.indexOf(ee);else break;if(!this.props.dragSnap)return{time:K,groupIndex:J};const re=ke().utcOffset()*60*1e3;return{time:Math.round(K/this.props.dragSnap)*this.props.dragSnap-re%this.props.dragSnap,groupIndex:J}}}),this.getSelected=this.getSelected.bind(this),this.hasSelectedItem=this.hasSelectedItem.bind(this),this.isItemSelected=this.isItemSelected.bind(this);let a=null,p=null;if(this.props.defaultTimeStart&&this.props.defaultTimeEnd)a=this.props.defaultTimeStart,p=this.props.defaultTimeEnd;else if(this.props.visibleTimeStart&&this.props.visibleTimeEnd)a=this.props.visibleTimeStart,p=this.props.visibleTimeEnd;else throw new Error('You must provide either "defaultTimeStart" and "defaultTimeEnd" or "visibleTimeStart" and "visibleTimeEnd" to initialize the Timeline');const[f,m]=Wr(a,p,i.buffer),g={width:1e3,visibleTimeStart:a,visibleTimeEnd:p,canvasTimeStart:f,canvasTimeEnd:m,selectedItem:null,dragTime:null,dragGroupTitle:null,resizeTime:null,resizingItem:null,resizingEdge:null,newGroupOrder:0},y=De(g.width,i.buffer),{dimensionItems:w,height:M,groupHeights:R,groupTops:z}=Ze(i.items,i.groups,y,g.canvasTimeStart,g.canvasTimeEnd,i.keys,i.lineHeight,i.itemHeightRatio,i.stackItems,g.draggingItem,g.resizingItem,g.dragTime,g.resizingEdge,g.resizeTime,g.newGroupOrder);g.dimensionItems=w,g.height=M,g.groupHeights=R,g.groupTops=z,this.state=g}componentDidMount(){this.resize(this.props),this.props.resizeDetector&&this.props.resizeDetector.addListener&&this.props.resizeDetector.addListener(this),fi.addListener(this)}componentWillUnmount(){this.props.resizeDetector&&this.props.resizeDetector.addListener&&this.props.resizeDetector.removeListener(this),fi.removeListener(this)}static getDerivedStateFromProps(i,a){const{visibleTimeStart:p,visibleTimeEnd:f,items:m,groups:g}=i,y={items:m,groups:g},w=m!==a.items||g!==a.groups;if(p&&f)Object.assign(y,_r(p,f,w,m,g,i,a));else if(w){const M=De(a.width,i.buffer);Object.assign(y,Ze(m,g,M,a.canvasTimeStart,a.canvasTimeEnd,i.keys,i.lineHeight,i.itemHeightRatio,i.stackItems,a.draggingItem,a.resizingItem,a.dragTime,a.resizingEdge,a.resizeTime,a.newGroupOrder))}return y}componentDidUpdate(i,a){const p=this.state.visibleTimeEnd-this.state.visibleTimeStart,f=a.visibleTimeEnd-a.visibleTimeStart;this.props.onZoom&&p!==f&&this.props.onZoom(this.getTimelineContext(),this.getTimelineUnit()),this.props.onBoundsChange&&this.state.canvasTimeStart!==a.canvasTimeStart&&this.props.onBoundsChange(this.state.canvasTimeStart,this.state.canvasTimeStart+p*3);const m=Math.round(this.state.width*(this.state.visibleTimeStart-this.state.canvasTimeStart)/p);(Math.round(a.width*(a.visibleTimeStart-a.canvasTimeStart)/f)!==m||this.scrollComponent.scrollLeft!==m)&&(this.scrollComponent.scrollLeft=m,this.scrollHeaderRef.scrollLeft=m)}columns(i,a,p,f,m,g){var y;return H.jsx(fd,{canvasTimeStart:i,canvasTimeEnd:a,canvasWidth:p,lineCount:((y=this.props.groups)==null?void 0:y.length)||0,minUnit:f,timeSteps:m,height:g,verticalLineClassNamesForTime:this.props.verticalLineClassNamesForTime})}rows(i,a,p){var f;return H.jsx(gd,{groups:p,canvasWidth:i,lineCount:((f=this.props.groups)==null?void 0:f.length)||0,groupHeights:a,clickTolerance:this.props.clickTolerance,onRowClick:this.handleRowClick,onRowDoubleClick:this.handleRowDoubleClick,horizontalLineClassNamesForGroup:this.props.horizontalLineClassNamesForGroup,onRowContextClick:this.handleScrollContextMenu})}items({canvasTimeStart:i,canvasTimeEnd:a,canvasWidth:p,dimensionItems:f,groupTops:m}){return H.jsx(hd,{canvasTimeStart:i,canvasTimeEnd:a,canvasWidth:p,dimensionItems:f,groupTops:m,items:this.props.items,groups:this.props.groups,keys:this.props.keys,selectedItem:this.state.selectedItem||void 0,dragSnap:this.props.dragSnap,minResizeWidth:this.props.minResizeWidth,canChangeGroup:this.props.canChangeGroup,canMove:this.props.canMove,canResize:this.props.canResize,useResizeHandle:this.props.useResizeHandle,canSelect:this.props.canSelect,moveResizeValidator:this.props.moveResizeValidator,itemSelect:this.selectItem,itemDrag:this.dragItem,itemDrop:this.dropItem,onItemDoubleClick:this.doubleClickItem,onItemContextMenu:this.props.onItemContextMenu?this.contextMenuClickItem:void 0,itemResizing:this.resizingItem,itemResized:this.resizedItem,itemRenderer:this.props.itemRenderer,selected:this.props.selected,scrollRef:this.scrollComponent})}sidebar(i,a){const{sidebarWidth:p}=this.props;return p&&H.jsx(hi,{groups:this.props.groups,groupRenderer:this.props.groupRenderer,keys:this.props.keys,width:p,groupHeights:a,height:i})}rightSidebar(i,a){const{rightSidebarWidth:p}=this.props;return p&&H.jsx(hi,{groups:this.props.groups,keys:this.props.keys,groupRenderer:this.props.groupRenderer,isRightSidebar:!0,width:p,groupHeights:a,height:i})}childrenWithProps(i,a,p,f,m,g,y,w,M,R,z){if(!this.props.children)return null;const x=Array.isArray(this.props.children)?this.props.children.filter(P=>P):[this.props.children],k={canvasTimeStart:i,canvasTimeEnd:a,canvasWidth:p,visibleTimeStart:w,visibleTimeEnd:M,dimensionItems:f,items:this.props.items,groups:this.props.groups,keys:this.props.keys,groupHeights:m,groupTops:g,selected:this.getSelected(),height:y,minUnit:R,timeSteps:z};return se.Children.map(x,P=>this.isTimelineHeader(P)?null:se.cloneElement(P,k))}getSelected(){return this.state.selectedItem&&!this.props.selected?[this.state.selectedItem]:this.props.selected||[]}hasSelectedItem(){return Array.isArray(this.props.selected)?this.props.selected.length>0:!!this.state.selectedItem}isItemSelected(i){return this.getSelected().some(a=>a===i)}render(){const{items:i,groups:a,sidebarWidth:p,rightSidebarWidth:f,timeSteps:m,traditionalZoom:g,buffer:y}=this.props,{draggingItem:w,resizingItem:M,width:R,visibleTimeStart:z,visibleTimeEnd:x,canvasTimeStart:k,canvasTimeEnd:P}=this.state;let{dimensionItems:O,height:I,groupHeights:G,groupTops:K}=this.state;const J=x-z,re=De(R,y),ee=Dt(J,R,m);if(w||M){const S=Ze(i,a,re,this.state.canvasTimeStart,this.state.canvasTimeEnd,this.props.keys,this.props.lineHeight,this.props.itemHeightRatio,this.props.stackItems,this.state.draggingItem,this.state.resizingItem,this.state.dragTime,this.state.resizingEdge,this.state.resizeTime,this.state.newGroupOrder);O=S.dimensionItems,I=S.height,G=S.groupHeights,K=S.groupTops}const he={height:`${I}px`};return H.jsx(ld,{visibleTimeStart:z,visibleTimeEnd:x,canvasTimeStart:k,canvasTimeEnd:P,canvasWidth:re,showPeriod:this.showPeriod,timelineUnit:ee,timelineWidth:this.state.width,children:H.jsx(Ed,{children:H.jsx(Ud,{registerScroll:this.handleHeaderRef,timeSteps:m,leftSidebarWidth:this.props.sidebarWidth,rightSidebarWidth:this.props.rightSidebarWidth,children:H.jsxs("div",{style:this.props.style,ref:this.container,className:`react-calendar-timeline ${this.props.className}`,children:[this.renderHeaders(),H.jsxs("div",{style:he,className:"rct-outer",children:[p>0?this.sidebar(I,G):null,H.jsx(bd,{scrollRef:this.getScrollElementRef,width:R,height:I,onZoom:this.changeZoom,onWheelZoom:this.handleWheelZoom,traditionalZoom:!!g,onScroll:this.onScroll,children:H.jsxs($d,{children:[this.columns(k,P,re,ee,m,I),this.rows(re,G,a),this.items({canvasTimeStart:k,canvasTimeEnd:P,canvasWidth:re,dimensionItems:O,groupTops:K}),this.childrenWithProps(k,P,re,O,G,K,I,z,x,ee,m)]})}),f>0?this.rightSidebar(I,G):null]})]})})})})}}Object.defineProperty(to,"setDayjsLocale",{enumerable:!0,configurable:!0,writable:!0,value:ke.locale});Object.defineProperty(to,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{sidebarWidth:150,rightSidebarWidth:0,dragSnap:1e3*60*15,minResizeWidth:20,lineHeight:30,itemHeightRatio:.65,buffer:3,minZoom:60*60*1e3,maxZoom:5*365.24*86400*1e3,clickTolerance:3,canChangeGroup:!0,canMove:!0,canResize:"right",useResizeHandle:!1,canSelect:!0,stackItems:!1,traditionalZoom:!1,horizontalLineClassNamesForGroup:null,onItemMove:null,onItemResize:null,onItemClick:null,onItemSelect:null,onItemDeselect:null,onItemDrag:null,onCanvasClick:null,onItemDoubleClick:null,onItemContextMenu:null,onZoom:null,verticalLineClassNamesForTime:null,moveResizeValidator:null,dayBackground:null,defaultTimeStart:null,defaultTimeEnd:null,itemTouchSendsClick:!1,style:{},className:"",keys:Hd,timeSteps:Wd,headerRef:()=>{},scrollRef:()=>{},visibleTimeStart:null,visibleTimeEnd:null,onTimeChange:function(s,i,a){a(s,i)},onBoundsChange:null,children:null,selected:null}});const df=s=>s.children||null;class ro extends se.Component{constructor(){super(...arguments),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"getMarker",{enumerable:!0,configurable:!0,writable:!0,value:null})}componentDidMount(){const{unsubscribe:i,getMarker:a}=this.props.subscribeMarker({type:Fe.Today,renderer:this.props.children,interval:this.props.interval});this.unsubscribe=i,this.getMarker=a}componentWillUnmount(){this.unsubscribe!=null&&(this.unsubscribe(),this.unsubscribe=null)}componentDidUpdate(i){if(i.interval!==this.props.interval&&this.getMarker){const a=this.getMarker();this.props.updateMarker({...a,interval:this.props.interval})}}render(){return null}}Object.defineProperty(ro,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{interval:1e3*10}});const sf=s=>H.jsx(Zt,{children:({subscribeMarker:i,updateMarker:a})=>H.jsx(ro,{subscribeMarker:i,updateMarker:a,...s})});sf.displayName="TodayMarkerWrapper";class af extends pe.Component{constructor(){super(...arguments),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"getMarker",{enumerable:!0,configurable:!0,writable:!0,value:null})}componentDidUpdate(i){if(i.date!==this.props.date&&this.getMarker){const a=this.getMarker();this.props.updateMarker({...a,date:this.props.date})}}componentDidMount(){const{unsubscribe:i,getMarker:a}=this.props.subscribeMarker({type:Fe.Custom,renderer:this.props.children,date:this.props.date});this.unsubscribe=i,this.getMarker=a}componentWillUnmount(){this.unsubscribe!=null&&(this.unsubscribe(),this.unsubscribe=null)}render(){return null}}const lf=s=>H.jsx(Zt,{children:({subscribeMarker:i,updateMarker:a})=>H.jsx(af,{subscribeMarker:i,updateMarker:a,...s})});lf.displayName="CustomMarkerWrapper";class uf extends pe.Component{constructor(){super(...arguments),Object.defineProperty(this,"unsubscribe",{enumerable:!0,configurable:!0,writable:!0,value:null})}componentDidMount(){const{unsubscribe:i}=this.props.subscribeMarker({type:Fe.Cursor,renderer:this.props.children});this.unsubscribe=i}componentWillUnmount(){this.unsubscribe!=null&&(this.unsubscribe(),this.unsubscribe=null)}render(){return null}}const cf=s=>H.jsx(Zt,{children:({subscribeMarker:i})=>H.jsx(uf,{subscribeMarker:i,...s})});cf.displayName="CursorMarkerWrapper";export{cf as CursorMarker,qd as CustomHeader,lf as CustomMarker,bi as DateHeader,vd as GroupRow,hd as RowItems,It as SidebarHeader,to as Timeline,Cr as TimelineHeaders,df as TimelineMarkers,sf as TodayMarker,hf as calendarUtils,to as default};
