const u="v2.ui-prefs";function d(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function y(e){return Array.isArray(e)?e.map(r=>String(r||"").trim()).filter(Boolean):[]}function s(){if(typeof window>"u")return{byModule:{}};try{const e=window.localStorage.getItem(u);if(!e)return{byModule:{}};const r=JSON.parse(e);if(!d(r))return{byModule:{}};const t=d(r.byModule)?r.byModule:{};return{byModule:Object.entries(t).reduce((o,[i,a])=>{const c=d(a)?a:{};return o[i]={expandedCategoryKeys:y(c.expandedCategoryKeys)},o},{})}}catch{return{byModule:{}}}}function f(e){if(!(typeof window>"u"))try{window.localStorage.setItem(u,JSON.stringify(e))}catch{}}function l(e){var t,n;const r=s();return y((n=(t=r.byModule)==null?void 0:t[e])==null?void 0:n.expandedCategoryKeys)}function p(e){var n;const t=(n=s().byModule)==null?void 0:n[e];return!!(t&&Array.isArray(t.expandedCategoryKeys))}function b(e,r){var o;const t=s(),n={byModule:{...t.byModule,[e]:{...((o=t.byModule)==null?void 0:o[e])||{},expandedCategoryKeys:y(r)}}};f(n)}export{l as g,p as h,b as s};
