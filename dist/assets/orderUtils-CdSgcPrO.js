import{p as M}from"./index-DrOkdIyL.js";import{g as W,b as q,c as Y,f as $}from"./foSuggestion-Ck1952gl.js";const G=["DRAFT","ACTIVE","CONVERTED","ARCHIVED"],w={PLANNED:"ACTIVE",CANCELLED:"ARCHIVED"},lt=["SEA","RAIL","AIR"],gt=["EXW","DDP","FCA"],H=["ORDER_DATE","PRODUCTION_END","ETD","ETA","DELIVERY"],K=["EUR","USD","CNY"],yt=["ORDER_DATE","PROD_DONE","ETD","ETA"];function z(t,e="DRAFT"){const r=String(t||"").trim().toUpperCase();return r?G.includes(r)?r:w[r]||e:e}function j(t){const e=z(t);return e==="DRAFT"||e==="ACTIVE"}function mt(t){return j(t)}function X(t,e){const r=Array.isArray(e)?e:[];if(!r.length)return t;const o=new Map(r.map(s=>[String((s==null?void 0:s.id)||""),s]));return t.map(s=>{const n=o.get(String(s.id||""));return n?{...s,dueDate:n.dueDateManuallySet?String(n.dueDate||s.dueDate||""):s.dueDate,dueDateManuallySet:n.dueDateManuallySet===!0?!0:s.dueDateManuallySet,isOverridden:n.isOverridden===!0?!0:s.isOverridden}:s})}function h(t,e=0){const r=M(t);return Number.isFinite(r)?Number(r):e}function p(t){const e=M(t);if(!Number.isFinite(e))return null;const r=Number(e);return r<=0?null:r}function a(t,e=0){return Math.max(0,h(t,e))}function R(t){return t==null?null:String(t).trim()||null}function E(t){if(!t)return null;const[e,r,o]=String(t).split("-").map(Number);if(!e||!r||!o)return null;const s=new Date(Date.UTC(e,r-1,o));return Number.isNaN(s.getTime())?null:s}function m(t){return!(t instanceof Date)||Number.isNaN(t.getTime())?null:t.toISOString().slice(0,10)}function S(t,e){const r=new Date(t.getTime());return r.setUTCDate(r.getUTCDate()+Number(e||0)),r}function J(t,e){const r=new Date(t.getTime());return r.setUTCMonth(r.getUTCMonth()+Number(e||0)),r}function C(t){return t==="PRODUCTION_END"?"PROD_DONE":t==="DELIVERY"?"ETA":t}function B(t){return $.monthKey(t)}function A(t){const e=String(t||"").trim().toUpperCase();return H.includes(e)?e:"ORDER_DATE"}function b(t,e="EUR"){const r=String(t||e).trim().toUpperCase();return K.includes(r)?r:e}function F(){return[{label:"Deposit",percent:30,triggerEvent:"ORDER_DATE",offsetDays:0,offsetMonths:0},{label:"Balance",percent:70,triggerEvent:"ETD",offsetDays:0,offsetMonths:0}]}function Q(t,e=0){const r=M(t);return Number.isFinite(r)?Math.round(Number(r)):e}function Z(t){const e={freight:{triggerEvent:"ETD",offsetDays:0},duty:{triggerEvent:"ETA",offsetDays:0},eust:{triggerEvent:"ETA",offsetDays:0},eustRefund:{triggerEvent:"ETA",offsetDays:0}},r=t&&typeof t=="object"?t:{},o=r.fo&&typeof r.fo=="object"?r.fo:{},s=(n,c)=>{const u=o[n]&&typeof o[n]=="object"?o[n]:{};return{triggerEvent:A(u.triggerEvent??c.triggerEvent),offsetDays:Q(u.offsetDays,c.offsetDays)}};return{freight:s("freight",e.freight),duty:s("duty",e.duty),eust:s("eust",e.eust),eustRefund:s("eustRefund",e.eustRefund)}}function tt(t){const e={ORDER_DATE:E(t.orderDate),PRODUCTION_END:E(t.productionEndDate),ETD:E(t.etdDate),ETA:E(t.etaDate),DELIVERY:E(t.deliveryDate)};return!e.ETD&&e.ETA&&Number.isFinite(Number(t.logisticsLeadTimeDays))&&(e.ETD=S(e.ETA,-Number(t.logisticsLeadTimeDays||0))),e}function P(t,e,r,o){const s=o[t]||null;if(!s)return null;let n=S(s,Number(e||0));return r&&(n=J(n,Number(r||0))),m(n)}function T(t){return`${t}-${Math.random().toString(36).slice(2,9)}`}function U(){return new Date().toISOString()}function N(t,e,r){const o=h(t,0);if(String(e||"EUR").toUpperCase()==="EUR")return o;const n=a(r,0);return n?o/n:o}function Et(t){const e=E(t.targetDeliveryDate),r=a(t.productionLeadTimeDays,0),o=a(t.logisticsLeadTimeDays,0),s=a(t.bufferDays,0);if(!e||r<=0)return{orderDate:null,productionEndDate:null,etdDate:null,etaDate:null,deliveryDate:e?m(e):null,logisticsLeadTimeDays:o};const n=S(e,-(r+o+s)),c=S(n,r),u=c,i=S(u,o);return{orderDate:m(n),productionEndDate:m(c),etdDate:m(u),etaDate:m(i),deliveryDate:m(e),logisticsLeadTimeDays:o}}function et(t){const e=E(t.orderDate),r=a(t.productionLeadTimeDays,0),o=a(t.logisticsLeadTimeDays,0),s=a(t.bufferDays,0);if(!e)return{orderDate:null,productionEndDate:null,etdDate:null,etaDate:null,deliveryDate:t.deliveryDate?String(t.deliveryDate):null,logisticsLeadTimeDays:o};const n=S(e,r+s),c=n,u=S(c,o);return{orderDate:m(e),productionEndDate:m(n),etdDate:m(c),etaDate:m(u),deliveryDate:t.deliveryDate?String(t.deliveryDate):null,logisticsLeadTimeDays:o}}function V(t){const e=t||{},r=String(e.sku||"").trim();if(!r)return null;const o=Math.max(0,Math.round(h(e.units,0))),s=a(e.unitCostUsd,0),n=a(e.unitExtraUsd,0),c=a(e.extraFlatUsd,0),u=Math.max(0,Math.round(p(e.prodDays)??a(e.productionLeadTimeDays,0))),i=Math.max(0,Math.round(p(e.transitDays)??a(e.logisticsLeadTimeDays,0))),D=a(e.freightEur,0);return{id:String(e.id||T("poi")),sku:r,units:o,unitCostUsd:s,unitExtraUsd:n,extraFlatUsd:c,prodDays:u,transitDays:i,freightEur:D}}function rt(t,e){const r=Array.isArray(t)?t.map(V).filter(Boolean):[];if(r.length)return r;const o=String((e==null?void 0:e.sku)||"").trim();if(!o)return[];const s=V({id:String((e==null?void 0:e.id)||T("poi")),sku:o,units:e==null?void 0:e.units,unitCostUsd:e==null?void 0:e.unitCostUsd,unitExtraUsd:e==null?void 0:e.unitExtraUsd,extraFlatUsd:e==null?void 0:e.extraFlatUsd,prodDays:e==null?void 0:e.prodDays,transitDays:e==null?void 0:e.transitDays,freightEur:e==null?void 0:e.freightEur});return s?[s]:[]}function ht(t){var g;const e=rt(t.items,t.fallback);let r=0,o=0,s=0,n=0,c=0;const u=E(t.orderDate);let i=null,D=null;e.forEach(l=>{const d=l.units*(l.unitCostUsd+l.unitExtraUsd)+l.extraFlatUsd;if(r+=d,o+=l.freightEur,s+=l.units,n=Math.max(n,l.prodDays),c=Math.max(c,l.transitDays),u){const f=S(u,l.prodDays+l.transitDays);(!i||f<i)&&(i=f),(!D||f>D)&&(D=f)}});const y=et({orderDate:t.orderDate,productionLeadTimeDays:n,logisticsLeadTimeDays:c,bufferDays:0});return{items:e,goodsUsd:r,goodsEur:N(r,"USD",t.fxRate),freightEur:o,units:s,prodDays:n,transitDays:c,firstSku:((g=e[0])==null?void 0:g.sku)||"",minEtaDate:m(i),maxEtaDate:m(D),schedule:y}}function St(t){return st([],t).map((r,o)=>({id:String(r.id||`ms-${o+1}-${Math.random().toString(36).slice(2,8)}`),label:String(r.label||"Milestone"),percent:a(r.percent,0),anchor:C(A(r.triggerEvent)),lagDays:h(r.offsetDays,0)}))}function nt(t){const e=a(t.units,0),r=a(t.unitPrice,0),o=e*r,s=N(o,t.currency,t.fxRate),n=a(t.freight,0),c=N(n,t.freightCurrency,t.fxRate),u=a(t.dutyRatePct,0),i=a(t.eustRatePct,0),D=s*(u/100),y=(s+D+c)*(i/100),g=s+c+D+y;return{supplierCost:o,supplierCostEur:s,freightAmount:n,freightEur:c,dutyAmountEur:D,eustAmountEur:y,landedCostEur:g}}function st(t,e){const r=Array.isArray(t)?t.filter(s=>String((s==null?void 0:s.category)||"supplier")==="supplier"):[];if(r.length)return r.map(s=>({id:s.id?String(s.id):void 0,label:String(s.label||"Milestone"),percent:a(s.percent,0),triggerEvent:A(s.triggerEvent),offsetDays:h(s.offsetDays,0),offsetMonths:h(s.offsetMonths,0)}));const o=Array.isArray(e==null?void 0:e.paymentTermsDefault)?e==null?void 0:e.paymentTermsDefault:[];return o.length?o.map(s=>({id:s.id?String(s.id):void 0,label:String(s.label||"Milestone"),percent:a(s.percent,0),triggerEvent:A(s.triggerEvent),offsetDays:h(s.offsetDays,0),offsetMonths:h(s.offsetMonths,0)})):F()}function ot(t){const e=nt(t),r=tt(t.schedule),o=a(t.unitPrice,0)*a(t.units,0),s=(t.supplierTerms||[]).map((g,l)=>{const d=A(g.triggerEvent),f=h(g.offsetDays,0),v=h(g.offsetMonths,0);return{id:g.id||`supplier-${l}`,label:String(g.label||"Milestone"),percent:a(g.percent,0),amount:o*(a(g.percent,0)/100),currency:b(t.currency,"EUR"),triggerEvent:d,offsetDays:f,offsetMonths:v,dueDate:P(d,f,v,r),isOverridden:!1,dueDateManuallySet:!1,category:"supplier"}}),n=String(t.incoterm||"EXW").toUpperCase(),c=Math.max(0,Math.round(a(t.vatRefundLagMonths,2))),u=Z(t.paymentDueDefaults),i=[...s];n!=="DDP"&&e.freightAmount>0&&i.push({id:"auto-freight",label:"Fracht",percent:0,amount:e.freightAmount,currency:b(t.freightCurrency,"EUR"),triggerEvent:u.freight.triggerEvent,offsetDays:u.freight.offsetDays,offsetMonths:0,dueDate:P(u.freight.triggerEvent,u.freight.offsetDays,0,r),category:"freight",isOverridden:!1,dueDateManuallySet:!1});const D=a(t.dutyRatePct,0);n!=="DDP"&&D>0&&i.push({id:"auto-duty",label:"Duty",percent:D,amount:e.dutyAmountEur,currency:"EUR",triggerEvent:u.duty.triggerEvent,offsetDays:u.duty.offsetDays,offsetMonths:0,dueDate:P(u.duty.triggerEvent,u.duty.offsetDays,0,r),category:"duty",isOverridden:!1,dueDateManuallySet:!1});const y=a(t.eustRatePct,0);return n!=="DDP"&&y>0&&(i.push({id:"auto-eust",label:"EUSt",percent:y,amount:e.eustAmountEur,currency:"EUR",triggerEvent:u.eust.triggerEvent,offsetDays:u.eust.offsetDays,offsetMonths:0,dueDate:P(u.eust.triggerEvent,u.eust.offsetDays,0,r),category:"eust",isOverridden:!1,dueDateManuallySet:!1}),i.push({id:"auto-eust-refund",label:"EUSt Erstattung",percent:y,amount:-e.eustAmountEur,currency:"EUR",triggerEvent:u.eustRefund.triggerEvent,offsetDays:u.eustRefund.offsetDays,offsetMonths:c,dueDate:P(u.eustRefund.triggerEvent,u.eustRefund.offsetDays,c,r),category:"eust_refund",isOverridden:!1,dueDateManuallySet:!1})),X(i,t.existingPayments)}function pt(t){return Math.round((t||[]).reduce((e,r)=>e+a(r.percent,0),0)*100)/100}function vt(t){const e=U(),r=t.values||{},o=t.schedule,s=t.supplierTerms||[],n=t.existing||null,c=ot({supplierTerms:s,schedule:o,unitPrice:r.unitPrice,units:r.units,currency:r.currency,freight:r.freight,freightCurrency:r.freightCurrency,dutyRatePct:r.dutyRatePct,eustRatePct:r.eustRatePct,fxRate:r.fxRate,incoterm:r.incoterm,vatRefundLagMonths:t.vatRefundLagMonths,paymentDueDefaults:t.paymentDueDefaults,existingPayments:n==null?void 0:n.payments});return{...n||{},id:String(r.id||(n==null?void 0:n.id)||T("fo")),sku:String(r.sku||""),supplierId:String(r.supplierId||""),targetDeliveryDate:r.targetDeliveryDate?String(r.targetDeliveryDate):null,units:a(r.units,0),transportMode:String(r.transportMode||"SEA").toUpperCase(),incoterm:String(r.incoterm||"EXW").toUpperCase(),unitPrice:a(r.unitPrice,0),unitPriceIsOverridden:!!r.unitPriceIsOverridden,currency:b(r.currency,"EUR"),freight:a(r.freight,0),freightCurrency:b(r.freightCurrency,"EUR"),dutyRatePct:a(r.dutyRatePct,0),eustRatePct:a(r.eustRatePct,0),fxRate:a(r.fxRate,0),productionLeadTimeDays:a(r.productionLeadTimeDays,0),productionLeadTimeDaysManual:a(r.productionLeadTimeDaysManual,0),productionLeadTimeSource:r.productionLeadTimeSource||null,logisticsLeadTimeDays:a(r.logisticsLeadTimeDays,0),bufferDays:a(r.bufferDays,0),orderDate:o.orderDate,productionEndDate:o.productionEndDate,etdDate:o.etdDate,etaDate:o.etaDate,deliveryDate:o.deliveryDate,payments:c,status:z(r.status,"DRAFT"),convertedPoId:r.convertedPoId||(n==null?void 0:n.convertedPoId)||null,convertedPoNo:r.convertedPoNo||(n==null?void 0:n.convertedPoNo)||null,forecastBasisVersionId:R(r.forecastBasisVersionId??(n==null?void 0:n.forecastBasisVersionId)),forecastBasisVersionName:R(r.forecastBasisVersionName??(n==null?void 0:n.forecastBasisVersionName)),forecastBasisSetAt:R(r.forecastBasisSetAt??(n==null?void 0:n.forecastBasisSetAt)),forecastConflictState:R(r.forecastConflictState??(n==null?void 0:n.forecastConflictState)),supersedesFoId:R(r.supersedesFoId??(n==null?void 0:n.supersedesFoId)),supersededByFoId:R(r.supersededByFoId??(n==null?void 0:n.supersededByFoId)),createdAt:(n==null?void 0:n.createdAt)||e,updatedAt:e}}function Mt(t){const e=t.fo||{},r=String(t.poNumber||"").trim(),o=a(e.fxRate,0),s=N(e.freight,e.freightCurrency,o),n=a(e.productionLeadTimeDays,0),c=a(e.bufferDays,0),u=a(e.logisticsLeadTimeDays,0),i=n+c,D=Array.isArray(e.payments)?e.payments.filter(f=>String((f==null?void 0:f.category)||"")==="supplier"):[],y=D.length?D:F(),g=t.orderDateOverride||e.orderDate||null,l=E(g)?String(g):null;return{id:T("po"),poNo:r,sku:String(e.sku||""),supplierId:String(e.supplierId||""),units:a(e.units,0),unitCostUsd:a(e.unitPrice,0),unitExtraUsd:0,extraFlatUsd:0,orderDate:l,prodDays:i,transitDays:u,transport:String(e.transportMode||"SEA").toLowerCase(),freightEur:s,dutyRatePct:a(e.dutyRatePct,0),eustRatePct:a(e.eustRatePct,0),fxOverride:o||null,ddp:String(e.incoterm||"").toUpperCase()==="DDP",milestones:y.map(f=>({id:String(f.id||T("ms")),label:String(f.label||"Milestone"),percent:a(f.percent,0),anchor:C(A(f.triggerEvent)),lagDays:h(f.offsetDays,0)})),sourceFoIds:[String(e.id||"")].filter(Boolean),createdAt:U(),updatedAt:U()}}function at(t){const e=E(t.orderDateOverride);if(e)return m(e);const r=E(t.targetDeliveryDate);if(r){const s=Math.max(0,Math.round(Number(t.maxProdDays||0)+Number(t.maxTransitDays||0)));return m(S(r,-s))}const o=E(t.fallbackOrderDate);return o?m(o):null}function ut(t){const e=a(t.productionLeadTimeDays,0),r=a(t.bufferDays,0);return{id:T("poi"),sku:String(t.sku||"").trim(),units:a(t.units,0),unitCostUsd:a(t.unitPrice,0),unitExtraUsd:0,extraFlatUsd:0,prodDays:Math.max(0,Math.round(e+r)),transitDays:Math.max(0,Math.round(a(t.logisticsLeadTimeDays,0))),freightEur:N(t.freight,t.freightCurrency,t.fxRate)}}function Tt(t){const e=Array.isArray(t.fos)?t.fos.filter(Boolean):[];if(!e.length)throw new Error("Keine FOs fuer Merge vorhanden.");const r=e[0];if(Array.from(new Set(e.map(d=>String((d==null?void 0:d.supplierId)||"").trim()).filter(Boolean))).length>1)throw new Error("FO-Merge erlaubt nur einen gemeinsamen Lieferanten.");const s=String(t.poNumber||"").trim(),n=e.map(d=>ut(d)),c=n.reduce((d,f)=>Math.max(d,Number(f.prodDays||0)),0),u=n.reduce((d,f)=>Math.max(d,Number(f.transitDays||0)),0),i=at({orderDateOverride:t.orderDateOverride,targetDeliveryDate:t.targetDeliveryDate,maxProdDays:c,maxTransitDays:u,fallbackOrderDate:String(r.orderDate||"")}),D=Array.isArray(r.payments)?r.payments.filter(d=>String((d==null?void 0:d.category)||"")==="supplier"):[],y=D.length?D:F(),g=n.reduce((d,f)=>d+Number(f.units||0),0),l=n.reduce((d,f)=>d+Number(f.freightEur||0),0);return{id:T("po"),poNo:s,supplierId:String(r.supplierId||""),sku:String(r.sku||""),items:n,units:Math.max(0,Math.round(g)),unitCostUsd:a(r.unitPrice,0),unitExtraUsd:0,extraFlatUsd:0,orderDate:i,prodDays:c,transitDays:u,transport:String(r.transportMode||"SEA").toLowerCase(),freightEur:Math.max(0,Math.round(l*100)/100),dutyRatePct:a(r.dutyRatePct,0),eustRatePct:a(r.eustRatePct,0),fxOverride:a(r.fxRate,0)||null,ddp:String(r.incoterm||"").toUpperCase()==="DDP",etaManual:E(t.targetDeliveryDate)?String(t.targetDeliveryDate):null,milestones:y.map(d=>({id:String(d.id||T("ms")),label:String(d.label||"Milestone"),percent:a(d.percent,0),anchor:C(A(d.triggerEvent)),lagDays:h(d.offsetDays,0)})),sourceFoIds:e.map(d=>String(d.id||"")).filter(Boolean),createdAt:U(),updatedAt:U()}}function it(t){var n,c;const e=((n=t==null?void 0:t.forecast)==null?void 0:n.forecastManual)||{},r=((c=t==null?void 0:t.forecast)==null?void 0:c.forecastImport)||{},o={},s=u=>{const i=String(u||"").trim();if(!i)return;o[i]||(o[i]={});const D=e[i]||{},y=r[i]||{};new Set([...Object.keys(y),...Object.keys(D)]).forEach(l=>{var v;const d=M(D[l]);if(Number.isFinite(d)){o[i][l]=Number(d);return}const f=M((v=y[l])==null?void 0:v.units);Number.isFinite(f)&&(o[i][l]=Number(f))})};return Object.keys(r).forEach(s),Object.keys(e).forEach(s),o}function ct(t){var o;const e={};return(((o=t==null?void 0:t.inventory)==null?void 0:o.snapshots)||[]).forEach(s=>{const n=String((s==null?void 0:s.month)||"");if(!n)return;(Array.isArray(s.items)?s.items:[]).forEach(u=>{const i=String((u==null?void 0:u.sku)||"").trim();if(!i)return;e[i]||(e[i]={});const D=M(u==null?void 0:u.amazonUnits),y=M(u==null?void 0:u.threePLUnits),g=M(u==null?void 0:u.units);if(Number.isFinite(D)||Number.isFinite(y)){const d=Number.isFinite(D)?Math.max(0,Number(D)):0,f=Number.isFinite(y)?Math.max(0,Number(y)):0;e[i][n]=d+f;return}e[i][n]=Number.isFinite(g)?Math.max(0,Number(g)):0})}),e}function k(t){const e=(t==null?void 0:t.arrivalDateDe)||(t==null?void 0:t.arrivalDate)||(t==null?void 0:t.etaDate)||(t==null?void 0:t.etaManual)||(t==null?void 0:t.eta);if(e)return E(e);const r=E(t==null?void 0:t.orderDate);if(!r)return null;const o=a((t==null?void 0:t.prodDays)??(t==null?void 0:t.productionLeadTimeDays),0),s=a((t==null?void 0:t.transitDays)??(t==null?void 0:t.logisticsLeadTimeDays),0);return S(r,o+s)}function _(t){if(Array.isArray(t==null?void 0:t.items)&&t.items.length>0)return t.items.map(r=>({sku:String((r==null?void 0:r.sku)||"").trim(),units:a(r==null?void 0:r.units,0)}));const e=String((t==null?void 0:t.sku)||"").trim();return e?[{sku:e,units:a(t==null?void 0:t.units,0)}]:[]}function dt(t){const e={};let r=0;return(Array.isArray(t==null?void 0:t.pos)?t.pos:[]).forEach(n=>{if(n!=null&&n.archived)return;const c=k(n);if(!c){r+=1;return}const u=B(c);_(n).forEach(i=>{!i.sku||i.units<=0||(e[i.sku]||(e[i.sku]={}),e[i.sku][u]=(e[i.sku][u]||0)+i.units)})}),(Array.isArray(t==null?void 0:t.fos)?t.fos:[]).forEach(n=>{if(!j(n==null?void 0:n.status))return;const c=k(n);if(!c){r+=1;return}const u=B(c);_(n).forEach(i=>{!i.sku||i.units<=0||(e[i.sku]||(e[i.sku]={}),e[i.sku][u]=(e[i.sku][u]||0)+i.units)})}),{inboundBySku:e,inboundWithoutEtaCount:r}}function At(t){var n;const e=W(((n=t==null?void 0:t.inventory)==null?void 0:n.snapshots)||[]),r=it(t),o=ct(t),s=dt(t);return{baselineMonth:e,plannedSalesBySku:r,closingStockBySku:o,inboundBySku:s.inboundBySku,inboundWithoutEtaCount:s.inboundWithoutEtaCount}}function Rt(t,e){const r=String(e||"").trim().toLowerCase();return r&&t.find(o=>String((o==null?void 0:o.sku)||"").trim().toLowerCase()===r)||null}function Pt(t){var i,D,y,g,l,d,f,v,I,O,L,x;const{context:e}=t;if(!e.baselineMonth)return null;const r=String(t.sku||"").trim();if(!r)return null;const o=p((i=t.product)==null?void 0:i.safetyStockDohOverride)??p((D=t.settings)==null?void 0:D.safetyStockDohDefault)??60,s=p((y=t.product)==null?void 0:y.foCoverageDohOverride)??p((g=t.settings)==null?void 0:g.foCoverageDohDefault)??90,n=p((l=t.product)==null?void 0:l.moqOverrideUnits)??p((d=t.product)==null?void 0:d.moqUnits)??p((f=t.settings)==null?void 0:f.moqDefaultUnits)??0,c=((I=(v=e.closingStockBySku)==null?void 0:v[r])==null?void 0:I[e.baselineMonth])??0,u=q({sku:r,baselineMonth:e.baselineMonth,stock0:c,forecastByMonth:((O=e.plannedSalesBySku)==null?void 0:O[r])||{},inboundByMonth:((L=e.inboundBySku)==null?void 0:L[r])||{},horizonMonths:Number(t.horizonMonths||12)});return Y({sku:r,baselineMonth:e.baselineMonth,projection:u,plannedSalesBySku:e.plannedSalesBySku,safetyStockDays:o,coverageDays:s,leadTimeDays:Number(t.leadTimeDays||0),cnyPeriod:(x=t.settings)==null?void 0:x.cny,inboundWithoutEtaCount:e.inboundWithoutEtaCount,moqUnits:n,requiredArrivalMonth:t.requiredArrivalMonth})}export{G as F,gt as I,K as P,lt as T,Et as a,At as b,Pt as c,nt as d,ot as e,N as f,st as g,H as h,mt as i,U as j,vt as k,Mt as l,et as m,z as n,Tt as o,ht as p,rt as q,Rt as r,pt as s,T as t,yt as u,St as v};
