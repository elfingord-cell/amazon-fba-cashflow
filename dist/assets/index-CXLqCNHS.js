import{a6 as Re,a3 as a,t as m,a7 as re,ba as $,v as Ne,k as e,S as J,L as P,a4 as ae,P as w,J as Oe,M as X,I as fe,R as g,N as s,O as S}from"./index-elUAAuqx.js";import{D as l}from"./DeNumberInput-Bxwtbnq1.js";import{T as ge}from"./TanStackGrid-BrER4EZn.js";import{u as Ce,C as B}from"./workspace-DMXjunb_.js";import{S as j}from"./index-BytK8p14.js";import{C as Fe}from"./index-CVrItAb4.js";import"./index-DChuXDnn.js";import"./Dropdown-onqalcmq.js";import"./useBubbleLock-DQn9hN27.js";const{Paragraph:he,Text:De,Title:L}=Oe,Me=["EUR","USD","CNY"],Ie=[{value:"START",label:"Start (1. Tag)"},{value:"MID",label:"Mitte (15. Tag)"},{value:"END",label:"Ende (letzter Tag)"}],K=[{value:"ORDER_DATE",label:"ORDER_DATE"},{value:"PRODUCTION_END",label:"PRODUCTION_END"},{value:"ETD",label:"ETD"},{value:"ETA",label:"ETA"},{value:"DELIVERY",label:"DELIVERY"}],_=[{value:"ORDER_DATE",label:"ORDER_DATE"},{value:"PROD_DONE",label:"PROD_DONE"},{value:"ETD",label:"ETD"},{value:"ETA",label:"ETA"}];function h(r,d){const f=Number(r);return Number.isFinite(f)?f:d}function D(r,d){return Math.round(h(r,d))}function H(r,d){const f=String(r||"").trim().toUpperCase();return K.some(E=>E.value===f)?f:d}function Y(r,d){const f=String(r||"").trim().toUpperCase();return _.some(E=>E.value===f)?f:d}function k(r){if(r==null||r==="")return null;const d=Number(r);return Number.isFinite(d)?d:null}function se(r){if(!Number.isFinite(r))return null;const d=Number(r);return d<=0?null:1/d}function xe(r){const d=r.transportLeadTimesDays||{},f=r.cny||{},E=r.paymentDueDefaults||{},G=E.fo||{},T=E.po||{},q=k(r.fxRate),A=k(r.eurUsdRate)??se(q),y=Math.max(0,D(r.freightLagDays,0)),R=(N,M,I)=>{const x=G[N]||{};return{trigger:H(x.triggerEvent,M),offsetDays:D(x.offsetDays,I)}},O=(N,M,I)=>{const x=T[N]||{};return{anchor:Y(x.anchor,M),lagDays:D(x.lagDays,I)}},W=R("freight","ETD",0),Z=R("duty","ETA",0),z=R("eust","ETA",0),V=R("eustRefund","ETA",0),C=O("freight","ETA",y),F=O("duty","ETA",y),b=O("eust","ETA",y),p=O("vatRefund","ETA",0);return{air:Math.max(0,h(d.air,10)),rail:Math.max(0,h(d.rail,25)),sea:Math.max(0,h(d.sea,45)),defaultBufferDays:Math.max(0,h(r.defaultBufferDays,0)),defaultCurrency:String(r.defaultCurrency||"EUR"),fxRate:q,eurUsdRate:A,defaultProductionLeadTimeDays:Math.max(0,h(r.defaultProductionLeadTimeDays,45)),dutyRatePct:Math.max(0,h(r.dutyRatePct,0)),eustRatePct:Math.max(0,h(r.eustRatePct,0)),defaultDdp:r.defaultDdp===!0,safetyStockDohDefault:Math.max(0,h(r.safetyStockDohDefault,60)),foCoverageDohDefault:Math.max(0,h(r.foCoverageDohDefault,90)),moqDefaultUnits:Math.max(0,Math.round(h(r.moqDefaultUnits,500))),monthAnchorDay:String(r.monthAnchorDay||"START"),cnyStart:String(f.start||""),cnyEnd:String(f.end||""),foFreightDueTrigger:W.trigger,foFreightDueOffsetDays:W.offsetDays,foDutyDueTrigger:Z.trigger,foDutyDueOffsetDays:Z.offsetDays,foEustDueTrigger:z.trigger,foEustDueOffsetDays:z.offsetDays,foEustRefundDueTrigger:V.trigger,foEustRefundDueOffsetDays:V.offsetDays,poFreightDueAnchor:C.anchor,poFreightDueLagDays:C.lagDays,poDutyDueAnchor:F.anchor,poDutyDueLagDays:F.lagDays,poEustDueAnchor:b.anchor,poEustDueLagDays:b.lagDays,poVatRefundDueAnchor:p.anchor,poVatRefundDueLagDays:p.lagDays}}function U(){return new Date().toISOString()}function Pe(r){return`${r}-${Math.random().toString(36).slice(2,9)}`}function ne(r){return JSON.stringify({air:Number(r.air||0),rail:Number(r.rail||0),sea:Number(r.sea||0),defaultBufferDays:Number(r.defaultBufferDays||0),defaultCurrency:String(r.defaultCurrency||""),fxRate:k(r.fxRate),eurUsdRate:k(r.eurUsdRate),defaultProductionLeadTimeDays:Number(r.defaultProductionLeadTimeDays||0),dutyRatePct:Number(r.dutyRatePct||0),eustRatePct:Number(r.eustRatePct||0),defaultDdp:r.defaultDdp===!0,safetyStockDohDefault:Number(r.safetyStockDohDefault||0),foCoverageDohDefault:Number(r.foCoverageDohDefault||0),moqDefaultUnits:Number(r.moqDefaultUnits||0),monthAnchorDay:String(r.monthAnchorDay||""),cnyStart:String(r.cnyStart||""),cnyEnd:String(r.cnyEnd||""),foFreightDueTrigger:String(r.foFreightDueTrigger||""),foFreightDueOffsetDays:Number(r.foFreightDueOffsetDays||0),foDutyDueTrigger:String(r.foDutyDueTrigger||""),foDutyDueOffsetDays:Number(r.foDutyDueOffsetDays||0),foEustDueTrigger:String(r.foEustDueTrigger||""),foEustDueOffsetDays:Number(r.foEustDueOffsetDays||0),foEustRefundDueTrigger:String(r.foEustRefundDueTrigger||""),foEustRefundDueOffsetDays:Number(r.foEustRefundDueOffsetDays||0),poFreightDueAnchor:String(r.poFreightDueAnchor||""),poFreightDueLagDays:Number(r.poFreightDueLagDays||0),poDutyDueAnchor:String(r.poDutyDueAnchor||""),poDutyDueLagDays:Number(r.poDutyDueLagDays||0),poEustDueAnchor:String(r.poEustDueAnchor||""),poEustDueLagDays:Number(r.poEustDueLagDays||0),poVatRefundDueAnchor:String(r.poVatRefundDueAnchor||""),poVatRefundDueLagDays:Number(r.poVatRefundDueLagDays||0)})}function we(r){return r instanceof HTMLElement?!!(r.matches("input:not([type='hidden']), textarea, [contenteditable='true']")||r.closest(".ant-select, .ant-picker, .ant-input-number")):!1}function _e(){const{state:r,loading:d,saving:f,error:E,lastSavedAt:G,saveWith:T}=Ce(),q=Re(),A=r.settings||{},[y]=a.useForm(),R=a.useWatch("fxRate",y),O=m.useMemo(()=>se(k(R)),[R]),[W,Z]=m.useState(()=>xe(A)),[z,V]=m.useState(""),[C,F]=m.useState(null),[b]=a.useForm(),p=m.useRef(null),N=m.useRef(""),[M,I]=m.useState(""),[x]=a.useForm(),[ye,Q]=m.useState(null),[ie,oe]=m.useState(""),[ue,le]=m.useState("");m.useEffect(()=>{const t=xe(A);Z(t),y.setFieldsValue(t),N.current=ne(t)},[y,A]),m.useEffect(()=>()=>{p.current!=null&&(window.clearTimeout(p.current),p.current=null)},[]);const pe=m.useMemo(()=>{const t=Array.isArray(r.productCategories)?r.productCategories:[],u=Array.isArray(r.products)?r.products:[],i=new Map;return u.forEach(n=>{const o=String(n.categoryId||"");i.set(o,(i.get(o)||0)+1)}),t.map(n=>{const o=n;return{id:String(o.id||""),name:String(o.name||""),sortOrder:h(o.sortOrder,0),productCount:i.get(String(o.id||""))||0}}).sort((n,o)=>n.sortOrder-o.sortOrder||n.name.localeCompare(o.name))},[r.productCategories,r.products]),je=m.useMemo(()=>{const t=re(A),u=Object.entries(t).map(([n,o])=>({email:n,displayName:o})),i=$(q.email);return i&&!u.some(n=>$(n.email)===i)&&u.push({email:i,displayName:""}),u.sort((n,o)=>n.email.localeCompare(o.email))},[A,q.email]),ee=m.useMemo(()=>Ne({settings:r.settings,products:r.products,suppliers:r.suppliers,pos:r.pos,fos:r.fos}).issues||[],[r.settings,r.products,r.suppliers,r.pos,r.fos]),Ee=m.useMemo(()=>[{header:"Name",accessorKey:"name"},{header:"Sortierung",accessorKey:"sortOrder"},{header:"Produkte",accessorKey:"productCount"},{header:"Aktionen",cell:({row:t})=>e.jsxs(J,{children:[e.jsx(P,{size:"small",onClick:()=>{F(t.original),b.setFieldsValue({name:t.original.name,sortOrder:t.original.sortOrder})},children:"Bearbeiten"}),e.jsx(P,{size:"small",danger:!0,onClick:()=>{ae.confirm({title:"Kategorie loeschen?",content:"Produkte dieser Kategorie werden auf 'ohne Kategorie' gesetzt.",onOk:async()=>{await T(u=>{const i=w(u);return i.productCategories=(Array.isArray(i.productCategories)?i.productCategories:[]).filter(n=>String(n.id||"")!==t.original.id),i.products=(Array.isArray(i.products)?i.products:[]).map(n=>{const o=n;return String(o.categoryId||"")!==t.original.id?o:{...o,categoryId:null}}),i},"v2:settings:category-delete")}})},children:"Loeschen"})]})}],[b,T]);async function Te(t,u="v2:settings:save"){if(t.cnyStart&&!t.cnyEnd||!t.cnyStart&&t.cnyEnd)throw new Error("Bitte CNY Start und Ende gemeinsam setzen.");if(t.cnyStart&&t.cnyEnd&&t.cnyStart>t.cnyEnd)throw new Error("CNY Start darf nicht nach dem Ende liegen.");const i=k(t.fxRate),n=se(i);await T(o=>{const c=w(o),v=c.settings||{};return c.settings={...v,transportLeadTimesDays:{...v.transportLeadTimesDays||{},air:Math.max(0,Math.round(t.air)),rail:Math.max(0,Math.round(t.rail)),sea:Math.max(0,Math.round(t.sea))},defaultBufferDays:Math.max(0,Math.round(t.defaultBufferDays)),defaultCurrency:t.defaultCurrency,fxRate:i,eurUsdRate:n,defaultProductionLeadTimeDays:Math.max(0,Math.round(t.defaultProductionLeadTimeDays)),dutyRatePct:Math.max(0,Number(t.dutyRatePct||0)),eustRatePct:Math.max(0,Number(t.eustRatePct||0)),defaultDdp:t.defaultDdp===!0,safetyStockDohDefault:Math.max(0,Math.round(t.safetyStockDohDefault)),foCoverageDohDefault:Math.max(0,Math.round(t.foCoverageDohDefault)),moqDefaultUnits:Math.max(0,Math.round(t.moqDefaultUnits)),monthAnchorDay:t.monthAnchorDay,cny:{start:t.cnyStart||"",end:t.cnyEnd||""},paymentDueDefaults:{fo:{freight:{triggerEvent:H(t.foFreightDueTrigger,"ETD"),offsetDays:D(t.foFreightDueOffsetDays,0)},duty:{triggerEvent:H(t.foDutyDueTrigger,"ETA"),offsetDays:D(t.foDutyDueOffsetDays,0)},eust:{triggerEvent:H(t.foEustDueTrigger,"ETA"),offsetDays:D(t.foEustDueOffsetDays,0)},eustRefund:{triggerEvent:H(t.foEustRefundDueTrigger,"ETA"),offsetDays:D(t.foEustRefundDueOffsetDays,0)}},po:{freight:{anchor:Y(t.poFreightDueAnchor,"ETA"),lagDays:D(t.poFreightDueLagDays,0)},duty:{anchor:Y(t.poDutyDueAnchor,"ETA"),lagDays:D(t.poDutyDueLagDays,0)},eust:{anchor:Y(t.poEustDueAnchor,"ETA"),lagDays:D(t.poEustDueLagDays,0)},vatRefund:{anchor:Y(t.poVatRefundDueAnchor,"ETA"),lagDays:D(t.poVatRefundDueLagDays,0)}}},freightLagDays:D(t.poFreightDueLagDays,0),lastUpdatedAt:U()},c},u),N.current=ne(t),I(`Gespeichert: ${new Date().toLocaleTimeString("de-DE")}`)}function te(t=420){p.current!=null&&window.clearTimeout(p.current),p.current=window.setTimeout(()=>{if(p.current=null,f){te();return}const u=y.getFieldsValue(!0);ne(u)!==N.current&&y.validateFields().then(n=>Te(n,"v2:settings:auto")).catch(()=>{})},Math.max(80,Number(t)||420))}async function de(t,u){const i=$(t),n=String(u||"").trim();if(!i||!n)throw new Error("Bitte E-Mail und Anzeigenamen setzen.");await T(o=>{const c=w(o),v=c.settings||{},me=re(v);return me[i]=n,c.settings={...v,collaborationDisplayNames:me,lastUpdatedAt:U()},c},"v2:settings:collaboration-name-upsert")}async function ce(t){const u=$(t);u&&await T(i=>{const n=w(i),o=n.settings||{},c=re(o);return c[u]&&(delete c[u],n.settings={...o,collaborationDisplayNames:c,lastUpdatedAt:U()}),n},"v2:settings:collaboration-name-remove")}const be=m.useMemo(()=>[{header:"E-Mail",accessorKey:"email",meta:{width:320}},{header:"Anzeigename",accessorKey:"displayName",meta:{width:210},cell:({row:t})=>t.original.displayName||"—"},{header:"Aktionen",meta:{width:190},cell:({row:t})=>e.jsxs("div",{className:"v2-actions-nowrap",children:[e.jsx(P,{size:"small",onClick:()=>{Q(t.original.email),x.setFieldsValue({email:t.original.email,displayName:t.original.displayName})},children:"Bearbeiten"}),e.jsx(P,{size:"small",danger:!0,disabled:!t.original.displayName,onClick:()=>{ce(t.original.email)},children:"Loeschen"})]})}],[x,ce]);async function Se(){const t=z.trim();t&&(await T(u=>{const i=w(u),n=Array.isArray(i.productCategories)?[...i.productCategories]:[];if(n.some(c=>String(c.name||"").trim().toLowerCase()===t.toLowerCase()))throw new Error("Kategorie existiert bereits.");return n.push({id:Pe("cat"),name:t,sortOrder:n.length,createdAt:U(),updatedAt:U()}),i.productCategories=n,i},"v2:settings:category-add"),V(""))}async function Ae(t){if(!C)return;const u=t.name.trim();u&&(await T(i=>{const n=w(i);return n.productCategories=(Array.isArray(n.productCategories)?n.productCategories:[]).map(o=>{const c=o;return String(c.id||"")!==C.id?c:{...c,name:u,sortOrder:Math.max(0,Math.round(t.sortOrder||0)),updatedAt:U()}}),n},"v2:settings:category-update"),F(null),b.resetFields())}return e.jsxs("div",{className:"v2-page",children:[e.jsxs(B,{className:"v2-intro-card",children:[e.jsx("div",{className:"v2-page-head",children:e.jsxs("div",{children:[e.jsx(L,{level:3,children:"Settings"}),e.jsx(he,{children:"Lead Times, Defaults, CNY-Fenster und Kategorien für die operative Planung."})]})}),e.jsx("div",{className:"v2-toolbar",children:e.jsxs("div",{className:"v2-toolbar-row",children:[f?e.jsx(X,{color:"processing",children:"Speichern..."}):null,G?e.jsxs(X,{color:"green",children:["Gespeichert: ",new Date(G).toLocaleTimeString("de-DE")]}):null,M?e.jsx(X,{color:"blue",children:M}):null]})})]}),E?e.jsx(fe,{type:"error",showIcon:!0,message:E}):null,d?e.jsx(fe,{type:"info",showIcon:!0,message:"Workspace wird geladen..."}):null,e.jsx(B,{children:e.jsxs(a,{name:"v2-settings-form",form:y,layout:"vertical",initialValues:W,onValuesChange:()=>{I("Ungespeicherte Aenderungen"),te(360)},onBlurCapture:t=>{we(t.target)&&te(120)},children:[e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"Air (Tage)",name:"air",rules:[{required:!0}],children:e.jsx(l,{mode:"int",min:0})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"Rail (Tage)",name:"rail",rules:[{required:!0}],children:e.jsx(l,{mode:"int",min:0})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"Sea (Tage)",name:"sea",rules:[{required:!0}],children:e.jsx(l,{mode:"int",min:0})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"Buffer Days",name:"defaultBufferDays",rules:[{required:!0}],children:e.jsx(l,{mode:"int",min:0})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"Default Currency",name:"defaultCurrency",rules:[{required:!0}],children:e.jsx(j,{options:Me.map(t=>({value:t,label:t}))})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"Monats-Anker",name:"monthAnchorDay",rules:[{required:!0}],children:e.jsx(j,{options:Ie})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"FX Kurs (USD je EUR)",name:"fxRate",children:e.jsx(l,{mode:"fx",min:0})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"FX Kurs (EUR je USD)",extra:"Automatisch aus USD je EUR berechnet.",children:e.jsx(l,{mode:"fx",min:0,value:O??void 0,disabled:!0})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"MOQ Default (Units)",name:"moqDefaultUnits",children:e.jsx(l,{mode:"int",min:0})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"Safety Stock DOH",name:"safetyStockDohDefault",children:e.jsx(l,{mode:"int",min:0})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"FO Coverage DOH",name:"foCoverageDohDefault",children:e.jsx(l,{mode:"int",min:0})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"Default Production Lead Time (Tage)",name:"defaultProductionLeadTimeDays",children:e.jsx(l,{mode:"int",min:0})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"Default Zollsatz %",name:"dutyRatePct",children:e.jsx(l,{mode:"percent",min:0,max:100})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"Default EUSt %",name:"eustRatePct",children:e.jsx(l,{mode:"percent",min:0,max:100})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{name:"defaultDdp",valuePropName:"checked",style:{marginTop:30},children:e.jsx(Fe,{children:"Default DDP aktiv"})})})]}),e.jsx(L,{level:5,style:{marginTop:4},children:"Fälligkeit Defaults FO (Auto-Zahlungen)"}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"FO Freight Trigger",name:"foFreightDueTrigger",rules:[{required:!0}],children:e.jsx(j,{options:K})})}),e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"FO Freight Offset (Tage)",name:"foFreightDueOffsetDays",rules:[{required:!0}],children:e.jsx(l,{mode:"int"})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"FO Duty Trigger",name:"foDutyDueTrigger",rules:[{required:!0}],children:e.jsx(j,{options:K})})}),e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"FO Duty Offset (Tage)",name:"foDutyDueOffsetDays",rules:[{required:!0}],children:e.jsx(l,{mode:"int"})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"FO EUSt Trigger",name:"foEustDueTrigger",rules:[{required:!0}],children:e.jsx(j,{options:K})})}),e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"FO EUSt Offset (Tage)",name:"foEustDueOffsetDays",rules:[{required:!0}],children:e.jsx(l,{mode:"int"})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"FO EUSt Refund Trigger",name:"foEustRefundDueTrigger",rules:[{required:!0}],children:e.jsx(j,{options:K})})}),e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"FO EUSt Refund Offset (Tage)",name:"foEustRefundDueOffsetDays",rules:[{required:!0}],children:e.jsx(l,{mode:"int"})})})]}),e.jsx(L,{level:5,style:{marginTop:4},children:"Fälligkeit Defaults PO (Auto-Zahlungen)"}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"PO Freight Anchor",name:"poFreightDueAnchor",rules:[{required:!0}],children:e.jsx(j,{options:_})})}),e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"PO Freight Offset (Tage)",name:"poFreightDueLagDays",rules:[{required:!0}],children:e.jsx(l,{mode:"int"})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"PO Duty Anchor",name:"poDutyDueAnchor",rules:[{required:!0}],children:e.jsx(j,{options:_})})}),e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"PO Duty Offset (Tage)",name:"poDutyDueLagDays",rules:[{required:!0}],children:e.jsx(l,{mode:"int"})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"PO EUSt Anchor",name:"poEustDueAnchor",rules:[{required:!0}],children:e.jsx(j,{options:_})})}),e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"PO EUSt Offset (Tage)",name:"poEustDueLagDays",rules:[{required:!0}],children:e.jsx(l,{mode:"int"})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"PO VAT Refund Anchor",name:"poVatRefundDueAnchor",rules:[{required:!0}],children:e.jsx(j,{options:_})})}),e.jsx(s,{xs:24,md:12,children:e.jsx(a.Item,{label:"PO VAT Refund Offset (Tage)",name:"poVatRefundDueLagDays",rules:[{required:!0}],children:e.jsx(l,{mode:"int"})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"CNY Start",name:"cnyStart",children:e.jsx(S,{type:"date"})})}),e.jsx(s,{xs:24,md:8,children:e.jsx(a.Item,{label:"CNY Ende",name:"cnyEnd",children:e.jsx(S,{type:"date"})})})]})]})}),e.jsxs(B,{children:[e.jsx(L,{level:4,children:"Team Anzeige-Namen"}),e.jsx(he,{children:"Hinterlege optionale Vornamen pro E-Mail. Diese Namen werden in Live-Presence und Modal-Hinweisen angezeigt."}),e.jsxs(J,{style:{marginBottom:12},wrap:!0,children:[e.jsx(S,{value:ie,onChange:t=>oe(t.target.value),placeholder:"E-Mail",style:{width:280}}),e.jsx(S,{value:ue,onChange:t=>le(t.target.value),placeholder:"Anzeigename (z. B. Pierre)",style:{width:220}}),e.jsx(P,{onClick:()=>{de(ie,ue).then(()=>{oe(""),le("")})},children:"Speichern"})]}),e.jsx(ge,{data:je,columns:be,minTableWidth:880,tableLayout:"auto"})]}),e.jsxs(B,{children:[e.jsx(L,{level:4,children:"Produktkategorien"}),e.jsxs(J,{style:{marginBottom:12},children:[e.jsx(S,{value:z,onChange:t=>V(t.target.value),placeholder:"Neue Kategorie",style:{width:260}}),e.jsx(P,{onClick:()=>{Se()},children:"Hinzufuegen"})]}),e.jsx(ge,{data:pe,columns:Ee})]}),e.jsxs(B,{children:[e.jsx(L,{level:4,children:"Data Health"}),ee.length?e.jsxs(J,{direction:"vertical",size:6,children:[e.jsxs(X,{color:"orange",children:[ee.length," Issues"]}),ee.slice(0,10).map(t=>e.jsx(De,{children:t.message},t.id))]}):e.jsx(De,{type:"secondary",children:"Keine Issues gefunden."})]}),e.jsx(ae,{title:"Kategorie bearbeiten",open:!!C,onCancel:()=>F(null),onOk:()=>{b.validateFields().then(t=>Ae(t)).catch(()=>{})},children:e.jsxs(a,{form:b,layout:"vertical",children:[e.jsx(a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Name ist erforderlich."}],children:e.jsx(S,{})}),e.jsx(a.Item,{name:"sortOrder",label:"Sortierung",rules:[{required:!0}],children:e.jsx(l,{mode:"int",min:0})})]})}),e.jsx(ae,{title:"Anzeigename bearbeiten",open:!!ye,onCancel:()=>Q(null),onOk:()=>{x.validateFields().then(t=>{de(t.email,t.displayName).then(()=>{Q(null),x.resetFields()})}).catch(()=>{})},children:e.jsxs(a,{form:x,layout:"vertical",children:[e.jsx(a.Item,{name:"email",label:"E-Mail",rules:[{required:!0,message:"E-Mail fehlt."}],children:e.jsx(S,{disabled:!0})}),e.jsx(a.Item,{name:"displayName",label:"Anzeigename",rules:[{required:!0,message:"Anzeigename fehlt."}],children:e.jsx(S,{placeholder:"z. B. Pierre"})})]})})]})}export{_e as default};
