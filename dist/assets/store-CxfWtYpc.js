import{l,bI as c,bJ as u,bK as i}from"./index-B2Q7zKIp.js";const r="drafts/v1";function n(t,e){if(!t)return e;try{return JSON.parse(t)}catch{return e}}function m(){return l()}function g(t,e={}){c(t,{source:e.source||"commit",...e})}function S(t,e=null){const a=t;return n(localStorage.getItem(a),e)}function d(t,e){const a=t;localStorage.setItem(a,JSON.stringify(e))}function y(t,e=null){const a=t,o=localStorage.getItem(a);return o??e}function p(t,e){const a=t;localStorage.setItem(a,e)}function A(t,e=r){if(!t)return null;const a=`${e}:${t}`,o=n(localStorage.getItem(a),null);return!o||typeof o!="object"?null:{updatedAt:o.updatedAt||null,data:o.data??null}}function C(t,e,a=r){const o=`${a}:${t}`,s={updatedAt:new Date().toISOString(),data:e};localStorage.setItem(o,JSON.stringify(s))}function I(t,e=r){if(!t)return;const a=`${e}:${t}`;localStorage.removeItem(a)}function w(t=r){if(typeof localStorage>"u")return 0;let e=0;for(let a=0;a<localStorage.length;a+=1){const o=localStorage.key(a);o&&o.startsWith(`${t}:`)&&(e+=1)}return e}function D(){const t=i();return{lastCommitAt:(t==null?void 0:t.lastCommitAt)||null,lastCommitMeta:(t==null?void 0:t.lastCommitMeta)||null,storageKey:u}}export{y as a,d as b,g as c,w as d,D as e,I as f,S as g,m as l,A as r,p as s,C as w};
