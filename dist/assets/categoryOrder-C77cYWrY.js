function c(n){return String(n||"").trim().toLowerCase()}function i(n){return c(n)==="ohne kategorie"}function O(n){const o=(Array.isArray(n.productCategories)?n.productCategories:[]).map((r,e)=>{const a=r,u=String(a.name||"").trim(),s=Number(a.sortOrder),d=Number.isFinite(s);return{name:u,index:e,sortOrder:d?s:null}}).filter(r=>r.name);o.sort((r,e)=>{if(r.sortOrder!=null&&e.sortOrder!=null&&r.sortOrder!==e.sortOrder)return r.sortOrder-e.sortOrder;if(r.sortOrder!=null&&e.sortOrder==null)return-1;if(r.sortOrder==null&&e.sortOrder!=null)return 1;const a=r.name.localeCompare(e.name,"de-DE");return a!==0?a:r.index-e.index});const t=new Map;return o.forEach((r,e)=>{t.set(c(r.name),e)}),t}function m(n,l,o){const t=String(n||"Ohne Kategorie"),r=String(l||"Ohne Kategorie"),e=c(t),a=c(r),u=o.get(e),s=o.get(a);return u!=null&&s!=null&&u!==s?u-s:u!=null&&s==null?-1:u==null&&s!=null||i(t)&&!i(r)?1:!i(t)&&i(r)?-1:t.localeCompare(r,"de-DE")}function g(n,l){return[...n].sort((o,t)=>{const r=m(o.label,t.label,l);return r!==0?r:String(o.key).localeCompare(String(t.key),"de-DE")})}export{O as b,m as c,g as s};
