const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BX0hCHd9.js","assets/index-GW488s-1.css"])))=>i.map(i=>d[i]);
import{W as Te,ag as Fe,ai as Re,av as v,a3 as De,az as Le,t as m,a2 as H,aD as A,Y as ve,ap as at,Q as be,c2 as lt,aE as Ce,c5 as ct,cI as Me,R as We,c6 as dt,p as ut,ct as je,V as F,_ as pt,cs as mt,k as s,J as Ee,S as J,I as D,M as ce,N as de,cJ as gt}from"./index-BX0hCHd9.js";import{d as ft}from"./deepEqual-CGWqzo0t.js";import{T as ht}from"./TanStackGrid-BGkv20_p.js";import{C as L,u as yt,T as xt}from"./workspace-C5RCXX1l.js";import{S as se}from"./index-BP-khr7h.js";import{D as $t}from"./index-DzJjwXuy.js";import{P as bt}from"./Pagination-6S75qB_v.js";import{R as xe}from"./index-J71TIXUx.js";import{e as St}from"./cashflow-C10hZqFJ.js";import{s as vt}from"./index-BwH3Pskl.js";import"./Dropdown-Dqfaj-V1.js";import"./useBubbleLock-J8y-aVQh.js";import"./planProducts-Cw71DzXi.js";const jt=e=>{const{componentCls:t}=e;return{[t]:{"&-horizontal":{[`&${t}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},Et=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:r,colorSplit:n,lineWidth:i,textPaddingInline:o,orientationMargin:d,verticalMarginInline:a}=e;return{[t]:Object.assign(Object.assign({},Re(e)),{borderBlockStart:`${v(i)} solid ${n}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:a,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${v(i)} solid ${n}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${v(e.marginLG)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${v(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${n}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${v(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${d} * 100%)`},"&::after":{width:`calc(100% - ${d} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${d} * 100%)`},"&::after":{width:`calc(${d} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:`${v(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:n,borderStyle:"dotted",borderWidth:`${v(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:r}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:r}}})}},wt=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),It=Te("Divider",e=>{const t=Fe(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[Et(t),jt(t)]},wt,{unitless:{orientationMargin:!0}});var Ot=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const zt={small:"sm",middle:"md"},Nt=e=>{const{getPrefixCls:t,direction:r,className:n,style:i}=De("divider"),{prefixCls:o,type:d="horizontal",orientation:a="center",orientationMargin:l,className:c,rootClassName:p,children:h,dashed:u,variant:y="solid",plain:b,style:w,size:S}=e,k=Ot(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),$=t("divider",o),[I,z,g]=It($),j=Le(S),f=zt[j],x=!!h,E=m.useMemo(()=>a==="left"?r==="rtl"?"end":"start":a==="right"?r==="rtl"?"start":"end":a,[r,a]),P=E==="start"&&l!=null,Y=E==="end"&&l!=null,Q=H($,n,z,g,`${$}-${d}`,{[`${$}-with-text`]:x,[`${$}-with-text-${E}`]:x,[`${$}-dashed`]:!!u,[`${$}-${y}`]:y!=="solid",[`${$}-plain`]:!!b,[`${$}-rtl`]:r==="rtl",[`${$}-no-default-orientation-margin-start`]:P,[`${$}-no-default-orientation-margin-end`]:Y,[`${$}-${f}`]:!!f},c,p),V=m.useMemo(()=>typeof l=="number"?l:/^\d+$/.test(l)?Number(l):l,[l]),W={marginInlineStart:P?V:void 0,marginInlineEnd:Y?V:void 0};return I(m.createElement("div",Object.assign({className:Q,style:Object.assign(Object.assign({},i),w)},k,{role:"separator"}),h&&d!=="vertical"&&m.createElement("span",{className:`${$}-inner-text`,style:W},h)))},we=A.createContext({});we.Consumer;var _e=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Ct=e=>{var{prefixCls:t,className:r,avatar:n,title:i,description:o}=e,d=_e(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:a}=m.useContext(ve),l=a("list",t),c=H(`${l}-item-meta`,r),p=A.createElement("div",{className:`${l}-item-meta-content`},i&&A.createElement("h4",{className:`${l}-item-meta-title`},i),o&&A.createElement("div",{className:`${l}-item-meta-description`},o));return A.createElement("div",Object.assign({},d,{className:c}),n&&A.createElement("div",{className:`${l}-item-meta-avatar`},n),(i||o)&&p)},Mt=A.forwardRef((e,t)=>{const{prefixCls:r,children:n,actions:i,extra:o,styles:d,className:a,classNames:l,colStyle:c}=e,p=_e(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:h,itemLayout:u}=m.useContext(we),{getPrefixCls:y,list:b}=m.useContext(ve),w=f=>{var x,E;return H((E=(x=b==null?void 0:b.item)===null||x===void 0?void 0:x.classNames)===null||E===void 0?void 0:E[f],l==null?void 0:l[f])},S=f=>{var x,E;return Object.assign(Object.assign({},(E=(x=b==null?void 0:b.item)===null||x===void 0?void 0:x.styles)===null||E===void 0?void 0:E[f]),d==null?void 0:d[f])},k=()=>{let f=!1;return m.Children.forEach(n,x=>{typeof x=="string"&&(f=!0)}),f&&m.Children.count(n)>1},$=()=>u==="vertical"?!!o:!k(),I=y("list",r),z=i&&i.length>0&&A.createElement("ul",{className:H(`${I}-item-action`,w("actions")),key:"actions",style:S("actions")},i.map((f,x)=>A.createElement("li",{key:`${I}-item-action-${x}`},f,x!==i.length-1&&A.createElement("em",{className:`${I}-item-action-split`})))),g=h?"div":"li",j=A.createElement(g,Object.assign({},p,h?{}:{ref:t},{className:H(`${I}-item`,{[`${I}-item-no-flex`]:!$()},a)}),u==="vertical"&&o?[A.createElement("div",{className:`${I}-item-main`,key:"content"},n,z),A.createElement("div",{className:H(`${I}-item-extra`,w("extra")),key:"extra",style:S("extra")},o)]:[n,z,at(o,{key:"extra"})]);return h?A.createElement(be,{ref:t,flex:1,style:c},j):j}),Je=Mt;Je.Meta=Ct;const kt=e=>{const{listBorderedCls:t,componentCls:r,paddingLG:n,margin:i,itemPaddingSM:o,itemPaddingLG:d,marginLG:a,borderRadiusLG:l}=e,c=v(e.calc(l).sub(e.lineWidth).equal());return{[t]:{border:`${v(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:l,[`${r}-header`]:{borderRadius:`${c} ${c} 0 0`},[`${r}-footer`]:{borderRadius:`0 0 ${c} ${c}`},[`${r}-header,${r}-footer,${r}-item`]:{paddingInline:n},[`${r}-pagination`]:{margin:`${v(i)} ${v(a)}`}},[`${t}${r}-sm`]:{[`${r}-item,${r}-header,${r}-footer`]:{padding:o}},[`${t}${r}-lg`]:{[`${r}-item,${r}-header,${r}-footer`]:{padding:d}}}},At=e=>{const{componentCls:t,screenSM:r,screenMD:n,marginLG:i,marginSM:o,margin:d}=e;return{[`@media screen and (max-width:${n}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:i}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:i}}}},[`@media screen and (max-width: ${r}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${v(d)}`}}}}}},Pt=e=>{const{componentCls:t,antCls:r,controlHeight:n,minHeight:i,paddingSM:o,marginLG:d,padding:a,itemPadding:l,colorPrimary:c,itemPaddingSM:p,itemPaddingLG:h,paddingXS:u,margin:y,colorText:b,colorTextDescription:w,motionDurationSlow:S,lineWidth:k,headerBg:$,footerBg:I,emptyTextPadding:z,metaMarginBottom:g,avatarMarginRight:j,titleMarginBottom:f,descriptionFontSize:x}=e;return{[t]:Object.assign(Object.assign({},Re(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${t}-header`]:{background:$},[`${t}-footer`]:{background:I},[`${t}-header, ${t}-footer`]:{paddingBlock:o},[`${t}-pagination`]:{marginBlockStart:d,[`${r}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:i,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:b,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:j},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:b},[`${t}-item-meta-title`]:{margin:`0 0 ${v(e.marginXXS)} 0`,color:b,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:b,transition:`all ${S}`,"&:hover":{color:c}}},[`${t}-item-meta-description`]:{color:w,fontSize:x,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${v(u)}`,color:w,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:k,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${v(a)} 0`,color:w,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:z,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${r}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:y,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:d},[`${t}-item-meta`]:{marginBlockEnd:g,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:f,color:b,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:a,marginInlineStart:"auto","> li":{padding:`0 ${v(a)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${v(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${v(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${v(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${r}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${v(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:h},[`${t}-sm ${t}-item`]:{padding:p},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},Bt=e=>({contentWidth:220,itemPadding:`${v(e.paddingContentVertical)} 0`,itemPaddingSM:`${v(e.paddingContentVerticalSM)} ${v(e.paddingContentHorizontal)}`,itemPaddingLG:`${v(e.paddingContentVerticalLG)} ${v(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}),Tt=Te("List",e=>{const t=Fe(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[Pt(t),kt(t),At(t)]},Bt);var Ft=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Rt(e,t){const{pagination:r=!1,prefixCls:n,bordered:i=!1,split:o=!0,className:d,rootClassName:a,style:l,children:c,itemLayout:p,loadMore:h,grid:u,dataSource:y=[],size:b,header:w,footer:S,loading:k=!1,rowKey:$,renderItem:I,locale:z}=e,g=Ft(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),j=r&&typeof r=="object"?r:{},[f,x]=m.useState(j.defaultCurrent||1),[E,P]=m.useState(j.defaultPageSize||10),{getPrefixCls:Y,direction:Q,className:V,style:W}=De("list"),{renderEmpty:Z}=m.useContext(ve),Ue={current:1,total:0,position:"bottom"},Oe=O=>(B,_)=>{var ye;x(B),P(_),r&&((ye=r==null?void 0:r[O])===null||ye===void 0||ye.call(r,B,_))},Ke=Oe("onChange"),Xe=Oe("onShowSizeChange"),qe=(O,B)=>{if(!I)return null;let _;return typeof $=="function"?_=$(O):$?_=O[$]:_=O.key,_||(_=`list-item-${B}`),m.createElement(m.Fragment,{key:_},I(O,B))},Ye=!!(h||r||S),C=Y("list",n),[Qe,Ze,et]=Tt(C);let G=k;typeof G=="boolean"&&(G={spinning:G});const ge=!!(G!=null&&G.spinning),tt=Le(b);let re="";switch(tt){case"large":re="lg";break;case"small":re="sm";break}const nt=H(C,{[`${C}-vertical`]:p==="vertical",[`${C}-${re}`]:re,[`${C}-split`]:o,[`${C}-bordered`]:i,[`${C}-loading`]:ge,[`${C}-grid`]:!!u,[`${C}-something-after-last-item`]:Ye,[`${C}-rtl`]:Q==="rtl"},V,d,a,Ze,et),T=lt(Ue,{total:y.length,current:f,pageSize:E},r||{}),rt=Math.ceil(T.total/T.pageSize);T.current=Math.min(T.current,rt);const ze=r&&m.createElement("div",{className:H(`${C}-pagination`)},m.createElement(bt,Object.assign({align:"end"},T,{onChange:Ke,onShowSizeChange:Xe})));let fe=Ce(y);r&&y.length>(T.current-1)*T.pageSize&&(fe=Ce(y).splice((T.current-1)*T.pageSize,T.pageSize));const it=Object.keys(u||{}).some(O=>["xs","sm","md","lg","xl","xxl"].includes(O)),Ne=ct(it),ie=m.useMemo(()=>{for(let O=0;O<Me.length;O+=1){const B=Me[O];if(Ne[B])return B}},[Ne]),ot=m.useMemo(()=>{if(!u)return;const O=ie&&u[ie]?u[ie]:u.column;if(O)return{width:`${100/O}%`,maxWidth:`${100/O}%`}},[JSON.stringify(u),ie]);let he=ge&&m.createElement("div",{style:{minHeight:53}});if(fe.length>0){const O=fe.map(qe);he=u?m.createElement(We,{gutter:u.gutter},m.Children.map(O,B=>m.createElement("div",{key:B==null?void 0:B.key,style:ot},B))):m.createElement("ul",{className:`${C}-items`},O)}else!c&&!ge&&(he=m.createElement("div",{className:`${C}-empty-text`},(z==null?void 0:z.emptyText)||(Z==null?void 0:Z("List"))||m.createElement($t,{componentName:"List"})));const oe=T.position,st=m.useMemo(()=>({grid:u,itemLayout:p}),[JSON.stringify(u),p]);return Qe(m.createElement(we.Provider,{value:st},m.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},W),l),className:nt},g),(oe==="top"||oe==="both")&&ze,w&&m.createElement("div",{className:`${C}-header`},w),m.createElement(dt,Object.assign({},G),he,c),S&&m.createElement("div",{className:`${C}-footer`},S),h||(oe==="bottom"||oe==="both")&&ze)))}const Dt=m.forwardRef(Rt),Se=Dt;Se.Item=Je;function Ie(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;if(/^\d{4}-\d{2}$/.test(t))return t;const r=t.match(/^(\d{2})-(\d{4})$/);return r?`${r[2]}-${r[1]}`:null}function Lt(e){const t=Ie(e.month);return!t||t===e.month?{value:e,normalized:!1}:{value:{...e,month:t},normalized:!0}}function Wt(e){let t=5381;for(let r=0;r<e.length;r+=1)t=(t<<5)+t+e.charCodeAt(r),t|=0;return Math.abs(t).toString(36)}function _t(e,t){const r=t.map(n=>String(n??"")).join("|");return`${e}-${Wt(r)}`}function He(e){if(typeof e=="number")return Number.isFinite(e)?e:null;if(typeof e!="string")return null;const t=ut(e);return Number.isFinite(t)?t:null}function ne(e){return JSON.parse(JSON.stringify(e))}function N(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function X(e,t){e.push(t)}const Jt=["settings","products","suppliers","pos","fos","payments","forecast","inventory","fixcosts","monthlyActuals"];function Ht(e){if(!N(e))return"unknown";const t=Object.keys(e);return Jt.filter(n=>t.includes(n)).length>=3?"legacy_v1":"unknown"}function M(e){return{section:e,total:0,mapped:0,normalized:0,skipped:0,blocked:0}}function pe(e,t,r,n){const i={};return Object.entries(e).forEach(([o,d])=>{const a=Ie(o),l=a||o;a&&a!==o&&(r.normalized+=1,X(n,{code:"MONTH_KEY_NORMALIZED",severity:"info",entityType:t,entityId:o,message:`Monatsschluessel '${o}' wurde auf '${l}' normalisiert.`})),i[l]=d}),i}function Ge(e){let t=0,r={...e};const n=Lt(r);return n.normalized&&(t+=1,r=n.value),["units","amazonUnits","threePLUnits","projectionMonths","safetyDays","realRevenueEUR","realPayoutRatePct","realClosingBalanceEUR"].forEach(o=>{if(!(o in r))return;const d=He(r[o]);d!=null&&r[o]!==d&&(t+=1,r[o]=d)}),{value:r,normalized:t}}function R(e,t,r,n,i,o){const d=t[r],a=Array.isArray(d)?d:[];i.total=a.length;const l=[];a.forEach((c,p)=>{if(!N(c)){i.skipped+=1,X(o,{code:"ENTRY_NOT_OBJECT",severity:"warning",entityType:r,entityId:String(p),message:"Datensatz ist kein Objekt und wurde uebersprungen."});return}if(n.requiredField&&!c[n.requiredField]){i.blocked+=1,i.skipped+=1,X(o,{code:"MISSING_REQUIRED_FIELD",severity:"error",entityType:r,entityId:String(p),message:`Pflichtfeld '${n.requiredField}' fehlt. Datensatz wurde uebersprungen.`});return}const h=Ge(c);let u=h.value;i.normalized+=h.normalized;const y=n.idField;if(!u[y]){const b=(n.seedFields||[y,"id","sku","poNo","name"]).map(w=>u[w]);u={...u,[y]:_t(n.idPrefix,[r,p,...b])},i.normalized+=1,X(o,{code:"ID_GENERATED",severity:"info",entityType:r,entityId:String(p),message:`Fehlende ID in '${r}' wurde deterministisch erzeugt.`})}l.push(u)}),e[r]=l,i.mapped=l.length}function Gt(e,t,r,n){const i=N(t.forecast)?ne(t.forecast):{};r.total=Object.keys(i).length,N(i.forecastManual)||(i.forecastManual={}),N(i.forecastImport)||(i.forecastImport={});const o=i.forecastManual;Object.entries(o).forEach(([a,l])=>{N(l)&&(o[a]=pe(l,"forecastManual",r,n))});const d=i.forecastImport;Object.entries(d).forEach(([a,l])=>{N(l)&&(d[a]=pe(l,"forecastImport",r,n))}),e.forecast=i,r.mapped=1}function Vt(e,t,r,n){const i=N(t.inventory)?ne(t.inventory):{snapshots:[],settings:{}},o=Array.isArray(i.snapshots)?i.snapshots:[];i.snapshots=o,r.total=o.length;const d=o.map((a,l)=>{if(!N(a))return r.skipped+=1,null;const c=ne(a),p=Ie(c.month);return p&&p!==c.month&&(c.month=p,r.normalized+=1),Array.isArray(c.items)||(c.items=[]),c.items=c.items.map(h=>{if(!N(h))return null;const u=Ge(h);return r.normalized+=u.normalized,u.value.sku?u.value:(r.blocked+=1,r.skipped+=1,X(n,{code:"MISSING_REQUIRED_FIELD",severity:"error",entityType:"inventory.snapshots.items",entityId:String(l),message:"Snapshot-Item ohne SKU wurde uebersprungen."}),null)}).filter(Boolean),c}).filter(Boolean);i.snapshots=d,e.inventory=i,r.mapped=d.length}function Ut(e,t,r,n){const i=N(t.monthlyActuals)?t.monthlyActuals:{};r.total=Object.keys(i).length;const o=pe(i,"monthlyActuals",r,n);Object.entries(o).forEach(([d,a])=>{if(!N(a))return;const l={...a};["realRevenueEUR","realPayoutRatePct","realClosingBalanceEUR"].forEach(c=>{const p=He(l[c]);p!=null&&l[c]!==p&&(l[c]=p,r.normalized+=1)}),o[d]=l}),e.monthlyActuals=o,r.mapped=Object.keys(o).length}function Kt(e,t,r,n){const i=N(t.fixcostOverrides)?t.fixcostOverrides:{};r.total=Object.keys(i).length;const o={};Object.entries(i).forEach(([d,a])=>{if(!N(a)){r.skipped+=1;return}o[d]=pe(a,"fixcostOverrides",r,n),r.mapped+=1}),e.fixcostOverrides=o}function Xt(e,t,r){r.total=1;const n=N(t.settings)?ne(t.settings):{};e.settings=n,r.mapped=1}function qt(e,t,r){const n=new Set(Object.keys(je()));Object.entries(t).forEach(([i,o])=>{n.has(i)||(e.legacyMeta.unmapped[i]=o,X(r,{code:"UNMAPPED_ROOT_FIELD",severity:"info",entityType:"root",entityId:i,message:`Unbekanntes Root-Feld '${i}' wurde unter legacyMeta.unmapped abgelegt.`}))})}function Yt(e){const t=Ht(e),r=je(),n=[],i=[M("settings"),M("productCategories"),M("suppliers"),M("products"),M("pos"),M("fos"),M("payments"),M("incomings"),M("extras"),M("dividends"),M("fixcosts"),M("fixcostOverrides"),M("monthlyActuals"),M("inventory"),M("forecast")];if(!N(e))return n.push({code:"INVALID_JSON_ROOT",severity:"error",entityType:"root",message:"JSON-Root ist kein Objekt."}),{sourceState:e,mappedState:r,report:{sourceVersion:t,targetVersion:"v2",sections:i,issues:n,canApply:!1}};const o=ne(e);Xt(r,o,i[0]),R(r,o,"productCategories",{idPrefix:"cat",idField:"id",requiredField:"name",seedFields:["name"]},i[1],n),R(r,o,"suppliers",{idPrefix:"sup",idField:"id",seedFields:["name","company_name"]},i[2],n),R(r,o,"products",{idPrefix:"prod",idField:"id",requiredField:"sku",seedFields:["sku","alias"]},i[3],n),R(r,o,"pos",{idPrefix:"po",idField:"id",seedFields:["id","poNo","poNumber","sku"]},i[4],n),R(r,o,"fos",{idPrefix:"fo",idField:"id",seedFields:["id","foNo","sku"]},i[5],n),R(r,o,"payments",{idPrefix:"pay",idField:"id",seedFields:["id","paymentInternalId","paidDate"]},i[6],n),R(r,o,"incomings",{idPrefix:"inc",idField:"id",seedFields:["month","revenueEur"]},i[7],n),R(r,o,"extras",{idPrefix:"extra",idField:"id",seedFields:["date","label","amountEur"]},i[8],n),R(r,o,"dividends",{idPrefix:"div",idField:"id",seedFields:["date","amountEur"]},i[9],n),R(r,o,"fixcosts",{idPrefix:"fix",idField:"id",seedFields:["name","category","startMonth"]},i[10],n),Kt(r,o,i[11],n),Ut(r,o,i[12],n),Vt(r,o,i[13],n),Gt(r,o,i[14],n),qt(r,o,n);const d=n.some(c=>c.severity==="error"&&c.entityType==="root"),a=i.reduce((c,p)=>c+p.mapped,0),l={sourceVersion:t,targetVersion:"v2",sections:i,issues:n,canApply:!d&&a>0};return{sourceState:e,mappedState:F(r),report:l}}function Qt(e){let t;try{t=JSON.parse(e)}catch{return{sourceState:null,mappedState:je(),report:{sourceVersion:"unknown",targetVersion:"v2",sections:[],issues:[{code:"INVALID_JSON",severity:"error",entityType:"root",message:"JSON konnte nicht geparst werden."}],canApply:!1}}}return Yt(t)}function Ve(){return new Date().toISOString()}function me(e){return e&&typeof e=="object"&&!Array.isArray(e)?e:{}}function ke(e,t,r){for(const n of t){const i=e[n];if(i==null)continue;const o=String(i).trim();if(o)return`${n}:${o.toLowerCase()}`}return`fallback:${r}`}function Zt(e,t,r,n,i){const o=Array.isArray(e)?e:[],d=Array.isArray(t)?t:[],a=[...o],l=new Map;return a.forEach((c,p)=>{if(!c||typeof c!="object"||Array.isArray(c))return;const h=ke(c,r,`${n}:${p}`);l.set(h,p)}),d.forEach((c,p)=>{if(!c||typeof c!="object"||Array.isArray(c))return;const h=ke(c,r,`${n}:incoming:${p}`),u=l.get(h);if(u==null){a.push(c),l.set(h,a.length-1);return}const y=a[u];ft(y,c)||i.push({code:"MERGE_CONFLICT_EXISTING_WINS",severity:"warning",entityType:n,entityId:h,message:`Konflikt in '${n}' fuer ${h}. Bestehender Datensatz wurde beibehalten.`})}),a}function U(e,t){if(Array.isArray(e)||Array.isArray(t))return e??t;const r=me(e),n=me(t),i={...n,...r};return Object.keys(i).forEach(o=>{const d=r[o],a=n[o];d&&a&&typeof d=="object"&&typeof a=="object"&&!Array.isArray(d)&&!Array.isArray(a)&&(i[o]=U(d,a))}),i}function en(e,t){const r=[],n=F({...t,...e});[{section:"products",keys:["sku","id"]},{section:"suppliers",keys:["id","name"]},{section:"productCategories",keys:["id","name"]},{section:"pos",keys:["id","poNo","poNumber"]},{section:"fos",keys:["id","foNo"]},{section:"payments",keys:["id","paymentInternalId"]},{section:"fixcosts",keys:["id","name"]},{section:"incomings",keys:["month","id"]},{section:"extras",keys:["id","date","label"]},{section:"dividends",keys:["id","date"]}].forEach(({section:a,keys:l})=>{n[a]=Zt(e[a],t[a],l,String(a),r)}),n.settings=U(e.settings,t.settings),n.forecast=U(e.forecast,t.forecast),n.inventory=U(e.inventory,t.inventory),n.fixcostOverrides=U(e.fixcostOverrides,t.fixcostOverrides),n.monthlyActuals=U(e.monthlyActuals,t.monthlyActuals);const o=F(e).legacyMeta,d=F(t).legacyMeta;return n.legacyMeta={importHistory:o.importHistory||[],unmapped:{...me(d.unmapped),...me(o.unmapped)}},n.schemaVersion=2,{next:n,issues:r}}function Ae(e,t,r){const n=F(e);return n.legacyMeta.importHistory=[{id:`import-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,appliedAt:Ve(),mode:t,sourceVersion:r},...n.legacyMeta.importHistory||[]].slice(0,30),n}function tn(e,t){return t.length?{...e,issues:[...e.issues,...t]}:e}function nn(e,t,r){if(t==="replace_workspace")return{nextState:Ae(e.mappedState,t,e.report.sourceVersion),report:e.report};const n=en(F(r),F(e.mappedState));return{nextState:Ae(n.next,t,e.report.sourceVersion),report:tn(e.report,n.issues)}}async function rn(e,t){return(await pt(()=>import("./index-BX0hCHd9.js").then(n=>n.cL),__vite__mapDeps([0,1]))).createWorkspaceBackup(e,t)}async function on(e,t,r,n){if(!e.report.canApply)throw new Error("Dry-Run report is not applyable.");const i=await r.load(),d=await((n==null?void 0:n.createBackup)||rn)("v2:migration:pre-apply",F(i)),a=nn(e,t,F(i));return await r.save(a.nextState,{source:`v2:migration:${t}`}),{mode:t,backupId:d,report:a.report,appliedAt:Ve()}}const{Paragraph:sn,Text:ee,Title:$e}=Ee;function an({severity:e}){return e==="error"?s.jsx(de,{color:"red",children:"Error"}):e==="warning"?s.jsx(de,{color:"gold",children:"Warning"}):s.jsx(de,{color:"blue",children:"Info"})}function ln(){return[{header:"Section",accessorKey:"section"},{header:"Total",accessorKey:"total"},{header:"Mapped",accessorKey:"mapped"},{header:"Normalized",accessorKey:"normalized"},{header:"Skipped",accessorKey:"skipped"},{header:"Blocked",accessorKey:"blocked"}]}function cn({rows:e}){const t=m.useMemo(()=>ln(),[]);return s.jsx(ht,{data:e,columns:t,minTableWidth:720,tableLayout:"auto"})}function dn(){const e=mt(),[t,r]=m.useState("replace_workspace"),[n,i]=m.useState(null),[o,d]=m.useState(null),[a,l]=m.useState(!1),[c,p]=m.useState(!1),[h,u]=m.useState(""),[y,b]=m.useState(""),w=(n==null?void 0:n.report.sections)||[],S=(n==null?void 0:n.report.issues)||[],k=S.some(g=>g.severity==="error"),$=w.reduce((g,j)=>g+j.mapped,0);async function I(g){l(!0),u(""),d(null);try{const j=await g.text(),f=Qt(j);i(f),b(`${g.name} · ${(g.size/1024).toFixed(1)} KB`)}catch(j){i(null),u(j instanceof Error?j.message:"Datei konnte nicht verarbeitet werden.")}finally{l(!1)}}async function z(){if(n&&n.report.canApply){p(!0),u("");try{const g=await on(n,t,e);d(g)}catch(g){u(g instanceof Error?g.message:"Import konnte nicht angewendet werden.")}finally{p(!1)}}}return s.jsxs("div",{className:"v2-import-wizard",children:[s.jsxs(L,{children:[s.jsx($e,{level:4,children:"Legacy JSON Migration Wizard"}),s.jsx(sn,{children:"Best-Effort Import mit Dry-Run-Report. Vor jedem Apply wird automatisch ein Workspace-Backup erstellt."}),s.jsxs(J,{direction:"vertical",size:16,style:{width:"100%"},children:[s.jsx("input",{type:"file",accept:".json,application/json",onChange:g=>{var f;const j=(f=g.target.files)==null?void 0:f[0];j&&I(j)}}),y?s.jsxs(ee,{type:"secondary",children:["Quelle: ",y]}):null,a?s.jsx(D,{type:"info",showIcon:!0,message:"Dry-Run wird berechnet..."}):null,h?s.jsx(D,{type:"error",showIcon:!0,message:h}):null,n?s.jsx(D,{type:n.report.canApply?"success":"warning",showIcon:!0,message:`Quelle: ${n.report.sourceVersion} · Apply ${n.report.canApply?"moeglich":"nicht moeglich"}`,description:`Gemappte Datensaetze: ${$}. Fehler: ${S.filter(g=>g.severity==="error").length}.`}):null]})]}),n?s.jsxs(L,{children:[s.jsxs(J,{size:32,wrap:!0,children:[s.jsx(se,{title:"Sections",value:w.length}),s.jsx(se,{title:"Mapped",value:$}),s.jsx(se,{title:"Warnings",value:S.filter(g=>g.severity==="warning").length}),s.jsx(se,{title:"Errors",value:S.filter(g=>g.severity==="error").length})]}),s.jsx(Nt,{}),s.jsx(cn,{rows:w})]}):null,S.length?s.jsxs(L,{children:[s.jsx($e,{level:5,children:"Issues"}),s.jsx(Se,{size:"small",dataSource:S,renderItem:g=>s.jsx(Se.Item,{children:s.jsxs(J,{direction:"vertical",size:0,children:[s.jsxs(J,{children:[s.jsx(an,{severity:g.severity}),s.jsx(ee,{strong:!0,children:g.code}),s.jsxs(ee,{type:"secondary",children:[g.entityType,g.entityId?` · ${g.entityId}`:""]})]}),s.jsx(ee,{children:g.message})]})})})]}):null,n?s.jsxs(L,{children:[s.jsx($e,{level:5,children:"Apply"}),s.jsxs(J,{direction:"vertical",size:12,style:{width:"100%"},children:[s.jsxs(xe.Group,{value:t,onChange:g=>r(g.target.value),children:[s.jsx(xe,{value:"replace_workspace",children:"replace_workspace"}),s.jsx(xe,{value:"merge_upsert",children:"merge_upsert (existing wins)"})]}),s.jsx(ce,{type:"primary",onClick:()=>{z()},loading:c,disabled:!n.report.canApply||k,children:"Apply Migration"}),s.jsxs(ee,{type:"secondary",children:["Bei ",s.jsx("code",{children:"merge_upsert"})," bleiben bestehende Daten bei Konflikten erhalten."]})]})]}):null,o?s.jsx(L,{children:s.jsx(D,{type:"success",showIcon:!0,message:"Migration angewendet",description:`Mode: ${o.mode} · Backup: ${o.backupId} · Zeitpunkt: ${o.appliedAt}`})}):null]})}const{Paragraph:un,Text:te,Title:ae}=Ee;function q(e){const t=ue(e);return t??0}function ue(e){if(e==null||e==="")return 0;if(typeof e=="number")return Number.isFinite(e)?e:null;const t=String(e).trim();if(!t)return 0;const r=t.replace(/\./g,"").replace(",","."),n=Number(r);return Number.isFinite(n)?n:null}function le(e){return q(e).toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})}function K(e){return/^\d{4}-\d{2}$/.test(String(e||""))}function pn(e){const t=[],r=[],n=e.settings||{};q(n.openingBalance)<0&&t.push("Opening Balance darf nicht negativ sein."),K(n.startMonth)||t.push("Startmonat fehlt oder ist ungueltig (settings.startMonth).");const o=Number(n.horizonMonths||0);(!Number.isFinite(o)||o<=0)&&t.push("Horizont fehlt oder ist ungueltig (settings.horizonMonths)."),(Array.isArray(e.incomings)?e.incomings:[]).forEach((a,l)=>{const c=a||{};K(c.month)||t.push(`Incomings ${l+1}: Monat fehlt/ungueltig.`);const p=ue(c.revenueEur);Number.isFinite(p)&&p>=0||t.push(`Incomings ${l+1}: Umsatz ungueltig.`);let h=Number(c.payoutPct||0);Number.isFinite(h)||(h=0),h>1&&(h/=100),h>=0&&h<=1||t.push(`Incomings ${l+1}: payoutPct muss 0..1 oder 0..100 sein.`)}),(Array.isArray(e.extras)?e.extras:[]).forEach((a,l)=>{const c=a||{},p=c.month||(c.date?String(c.date).slice(0,7):"");K(p)||r.push(`Extras ${l+1}: Monat fehlt.`),ue(c.amountEur)==null&&t.push(`Extras ${l+1}: Betrag ungueltig.`)}),(Array.isArray(e.fixcosts)?e.fixcosts:[]).forEach((a,l)=>{const c=a||{};String(c.name||"").trim()||t.push(`Fixkosten ${l+1}: Name fehlt.`),q(c.amount)>0||t.push(`Fixkosten ${l+1}: Betrag ungueltig.`),K(c.startMonth)&&K(c.endMonth)&&String(c.startMonth)>String(c.endMonth)&&t.push(`Fixkosten ${l+1}: Startmonat darf nicht nach Endmonat liegen.`)});const d=e.fixcostOverrides&&typeof e.fixcostOverrides=="object"?e.fixcostOverrides:{};return Object.entries(d).forEach(([a,l])=>{!l||typeof l!="object"||Object.entries(l).forEach(([c,p])=>{(p==null?void 0:p.amount)!=null&&ue(p.amount)==null&&t.push(`Fixkosten-Override ${a}/${c}: Betrag ungueltig.`),(p==null?void 0:p.dueDate)!=null&&!/^\d{4}-\d{2}-\d{2}$/.test(String(p.dueDate))&&r.push(`Fixkosten-Override ${a}/${c}: dueDate sollte JJJJ-MM-TT sein.`)})}),{errors:t,warnings:r}}function mn(e){const t=e.settings||{},r=K(t.startMonth)?String(t.startMonth):"2025-01",n=Math.max(1,Number(t.horizonMonths||18)),i=[],[o,d]=r.split("-").map(Number);for(let u=0;u<n;u+=1){const y=o+Math.floor((d-1+u)/12),b=(d-1+u)%12+1;i.push(`${y}-${String(b).padStart(2,"0")}`)}const a=e.forecast||{},l=a.forecastManual||{},c=a.forecastImport||{},h=(Array.isArray(e.products)?e.products:[]).map(u=>u||{}).filter(u=>String(u.sku||"").trim()).map(u=>{const y=String(u.sku||"").trim(),b={},w=[];return i.forEach(S=>{var z,g,j;const k=((z=l==null?void 0:l[y])==null?void 0:z[S])??null,$=((j=(g=c==null?void 0:c[y])==null?void 0:g[S])==null?void 0:j.units)??null,I=k??$??null;b[S]=I==null?null:Number(I),k!=null&&w.push(S)}),{sku:y,alias:String(u.alias||""),categoryId:String(u.categoryId||""),avgSellingPriceGrossEUR:Number.isFinite(Number(u.avgSellingPriceGrossEUR))?Number(u.avgSellingPriceGrossEUR):null,sellerboardMarginPct:Number.isFinite(Number(u.sellerboardMarginPct))?Number(u.sellerboardMarginPct):null,values:b,meta:{manualOverridesMonths:w}}});return{generatedAt:new Date().toISOString(),sourcePriority:["manual","ventoryOne"],lastImportAt:a.lastImportAt||null,forecastLastImportedAt:a.lastImportAt||null,months:i,items:h}}function gn(e){const t=structuredClone(e);return t&&typeof t=="object"&&"_computed"in t&&delete t._computed,t.export={forecast:mn(t)},t}function Pe(e){const t=new Date().toISOString().replace(/[:.]/g,"-");return`${e}-${t}.json`}function Be(e,t){const r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}function fn(){const{state:e,loading:t,saving:r,error:n,saveWith:i}=yt(),[o,d]=vt.useMessage(),[a,l]=m.useState(""),c=m.useRef(null),p=e,h=m.useMemo(()=>gn(p),[e]),u=m.useMemo(()=>JSON.stringify(h,null,2),[h]),y=m.useMemo(()=>pn(p),[e]),b=Array.isArray(e.incomings)?e.incomings:[],w=Array.isArray(e.extras)?e.extras:[],S=e.settings||{},k=q(S.openingBalance),$=b.reduce((f,x)=>{const E=q(x.revenueEur);let P=Number(x.payoutPct||0);return Number.isFinite(P)||(P=0),P>1&&(P/=100),f+E*P},0),I=w.reduce((f,x)=>f+q(x.amountEur),0),g=(St(p,{today:new Date})||[]).reduce((f,x)=>f+Number(x.amount||0),0);async function j(f){l("");const x=await f.text();let E;try{E=JSON.parse(x)}catch{o.error("Datei ist kein gueltiges JSON.");return}if(!E||typeof E!="object"||Array.isArray(E)){o.error("JSON muss ein Objekt enthalten.");return}const P=E;if(Number(P.schemaVersion)!==2){o.warning("Legacy JSON erkannt. Bitte im Tab 'Legacy Migration Wizard' importieren.");return}if(!window.confirm("Workspace durch diese JSON-Datei ersetzen?"))return;const Q=F(P),V=gt("v2:workspace-transfer:pre-import",F(e));try{await i(()=>Q,"v2:workspace-transfer:import");const W=`Import erfolgreich. Backup: ${V}`;l(W),o.success(W)}catch(W){const Z=W instanceof Error?W.message:"Unbekannter Fehler";o.error(`Import fehlgeschlagen: ${Z}`)}}return s.jsxs("div",{className:"v2-import-wizard",children:[d,s.jsxs(L,{children:[s.jsx(ae,{level:4,children:"Workspace JSON Transfer"}),s.jsx(un,{children:"Export/Import fuer Workspace-JSON. Legacy-Dateien bitte ueber den Migration Wizard importieren."}),s.jsxs(J,{wrap:!0,children:[s.jsx(ce,{type:"primary",onClick:()=>Be(h,Pe("amazon-fba-cashflow-v2-clean")),disabled:y.errors.length>0,children:"JSON herunterladen"}),s.jsx(ce,{onClick:()=>Be(p,Pe("amazon-fba-cashflow-v2-backup")),children:"Backup JSON herunterladen"}),s.jsx(ce,{onClick:()=>{var f;return(f=c.current)==null?void 0:f.click()},loading:r,children:"JSON importieren"}),s.jsx("input",{ref:c,type:"file",accept:".json,application/json",style:{display:"none"},onChange:f=>{var E;const x=(E=f.target.files)==null?void 0:E[0];x&&j(x),f.target.value=""}}),s.jsx(de,{color:"blue",children:"Namespace: Workspace Storage"})]}),a?s.jsx(D,{style:{marginTop:12},type:"success",showIcon:!0,message:a}):null,n?s.jsx(D,{style:{marginTop:12},type:"error",showIcon:!0,message:n}):null,t?s.jsx(D,{style:{marginTop:12},type:"info",showIcon:!0,message:"Workspace wird geladen..."}):null]}),s.jsxs(We,{gutter:[16,16],children:[s.jsx(be,{xs:24,lg:12,children:s.jsxs(L,{children:[s.jsx(ae,{level:5,children:"Aktueller Stand"}),s.jsxs(J,{direction:"vertical",size:4,children:[s.jsxs(te,{children:["Opening: ",s.jsxs("strong",{children:[le(k)," EUR"]})]}),s.jsxs(te,{children:["Sales x Payout: ",s.jsxs("strong",{children:[le($)," EUR"]})]}),s.jsxs(te,{children:["Extras (Summe): ",s.jsxs("strong",{children:[le(I)," EUR"]})]}),s.jsxs(te,{children:["Fixkosten (Summe): ",s.jsxs("strong",{children:[le(g)," EUR"]})]}),s.jsxs(te,{children:["Zeitraum: ",s.jsxs("strong",{children:[String(S.startMonth||"-"),", ",String(S.horizonMonths||0)," Monate"]})]})]})]})}),s.jsx(be,{xs:24,lg:12,children:s.jsxs(L,{children:[s.jsx(ae,{level:5,children:"Validierung"}),!y.errors.length&&!y.warnings.length?s.jsx(D,{type:"success",showIcon:!0,message:"Keine Probleme gefunden."}):s.jsxs(J,{direction:"vertical",style:{width:"100%"},children:[y.errors.length?s.jsx(D,{type:"error",showIcon:!0,message:`Fehler: ${y.errors.length}`,description:s.jsx("ul",{style:{margin:0,paddingLeft:16},children:y.errors.map(f=>s.jsx("li",{children:f},f))})}):null,y.warnings.length?s.jsx(D,{type:"warning",showIcon:!0,message:`Hinweise: ${y.warnings.length}`,description:s.jsx("ul",{style:{margin:0,paddingLeft:16},children:y.warnings.map(f=>s.jsx("li",{children:f},f))})}):null]})]})})]}),s.jsxs(L,{children:[s.jsx(ae,{level:5,children:"JSON Vorschau"}),s.jsx("pre",{style:{margin:0,maxHeight:460,overflow:"auto",background:"#fff",border:"1px solid rgba(15, 27, 45, 0.12)",borderRadius:10,padding:12},children:u})]})]})}const{Paragraph:hn,Title:yn}=Ee;function Mn(){return s.jsxs("div",{className:"v2-page",children:[s.jsx(L,{className:"v2-intro-card",children:s.jsx("div",{className:"v2-page-head",children:s.jsxs("div",{children:[s.jsx(yn,{level:3,children:"Export / Import"}),s.jsx(hn,{children:"Neuer Migrationswizard fuer Legacy JSON mit Dry-Run/Apply sowie Workspace JSON Transfer (Export, Backup, Import, Vorschau, Validierung)."})]})})}),s.jsx(xt,{defaultActiveKey:"wizard",items:[{key:"transfer",label:"Workspace JSON Transfer",children:s.jsx(fn,{})},{key:"wizard",label:"Legacy Migration Wizard",children:s.jsx(dn,{})}]})]})}export{Mn as default};
