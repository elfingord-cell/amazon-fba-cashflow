function l(r){return String(r||"").trim().toLowerCase()}function i(r){return l(r)==="ohne kategorie"}function O(r){const n=(Array.isArray(r.productCategories)?r.productCategories:[]).map((e,s)=>{const a=e,u=String(a.name||"").trim(),d=Number(a.sortOrder),g=Number.isFinite(d);return{name:u,index:s,sortOrder:g?d:null}}).filter(e=>e.name);n.sort((e,s)=>{if(e.sortOrder!=null&&s.sortOrder!=null&&e.sortOrder!==s.sortOrder)return e.sortOrder-s.sortOrder;if(e.sortOrder!=null&&s.sortOrder==null)return-1;if(e.sortOrder==null&&s.sortOrder!=null)return 1;const a=e.name.localeCompare(s.name,"de-DE");return a!==0?a:e.index-s.index});const t=new Map;return n.forEach((e,s)=>{t.set(l(e.name),s)}),t}function b(r,o,n){const t=String(r||"Ohne Kategorie"),e=String(o||"Ohne Kategorie"),s=l(t),a=l(e),u=n.get(s),d=n.get(a);return u!=null&&d!=null&&u!==d?u-d:u!=null&&d==null?-1:u==null&&d!=null||i(t)&&!i(e)?1:!i(t)&&i(e)?-1:t.localeCompare(e,"de-DE")}function C(r,o){return[...r].sort((n,t)=>{const e=b(n.label,t.label,o);return e!==0?e:String(n.key).localeCompare(String(t.key),"de-DE")})}const p="v2.ui-prefs";function c(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function y(r){return Array.isArray(r)?r.map(o=>String(o||"").trim()).filter(Boolean):[]}function f(){if(typeof window>"u")return{byModule:{}};try{const r=window.localStorage.getItem(p);if(!r)return{byModule:{}};const o=JSON.parse(r);if(!c(o))return{byModule:{}};const n=c(o.byModule)?o.byModule:{};return{byModule:Object.entries(n).reduce((e,[s,a])=>{const u=c(a)?a:{};return e[s]={expandedCategoryKeys:y(u.expandedCategoryKeys)},e},{})}}catch{return{byModule:{}}}}function m(r){if(!(typeof window>"u"))try{window.localStorage.setItem(p,JSON.stringify(r))}catch{}}function M(r){var n,t;const o=f();return y((t=(n=o.byModule)==null?void 0:n[r])==null?void 0:t.expandedCategoryKeys)}function w(r){var t;const n=(t=f().byModule)==null?void 0:t[r];return!!(n&&Array.isArray(n.expandedCategoryKeys))}function x(r,o){var e;const n=f(),t={byModule:{...n.byModule,[r]:{...((e=n.byModule)==null?void 0:e[r])||{},expandedCategoryKeys:y(o)}}};m(t)}export{x as a,O as b,b as c,M as g,w as h,C as s};
